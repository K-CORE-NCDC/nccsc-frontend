{"version":3,"sources":["containers/Login/ResetPassword.js"],"names":["ResetPassword","useState","status","setstatus","visibility","setvisibility","errorClass","setErrorClass","dispatch","useDispatch","token","useParams","change_password_status","useSelector","data","homeReducer","useEffect","swal","closeOnClickOutside","then","value","setTimeout","clearIDPasswordResetPASSWORD","window","location","href","className","type","id","name","placeholder","onClick","date","Date","timeanddate","year","getUTCFullYear","month","getUTCMonth","getUTCDate","hour","getUTCHours","minute","getUTCMinutes","new_password","document","getElementById","confirm_password","changePassword"],"mappings":"wMA6IeA,UAhIf,WACE,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAoCF,oBAAS,GAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KACA,EAAoCJ,mBAAS,IAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KACMC,EAAWC,cACTC,EAAUC,cAAVD,MACFE,EAAyBC,aAAY,SAACC,GAAD,OAAUA,EAAKC,YAAYH,0BAkDtE,OAtBAI,qBAAU,WACRJ,GAA0BT,EAAUS,EAAuBV,QAC5C,kCAAXA,GACFe,IAAK,iCAAkC,CACrCC,qBAAqB,IAEpBC,MAAK,SAACC,GACLC,YAAW,WACTb,EAASc,eACTC,OAAOC,SAASC,KAAO,YACtB,UAGR,CAACb,EAAwBV,IAU1B,8BACE,0BAASwB,UAAU,kDAAnB,UACE,8BACE,sBAAMA,UAAU,mCAAhB,8BAEF,sBAAKA,UAAU,QAAf,UAEE,sBAAKA,UAAU,0DAAf,UACE,qBAAKA,UAAU,6BAAf,SACE,oBAAIA,UAAU,YAAd,wBAEF,8BACE,qBAAKA,UAAU,iCAAf,SACE,gCACE,uBACEC,KAAMvB,EAAa,QAAU,WAC7BwB,GAAG,cACHC,KAAK,cACLH,UAAS,4HAAuHpB,GAChIwB,YAAY,6BAId,uBAAMJ,UAAU,wCAAhB,cAA2DtB,EAAa,cAAC,IAAD,CAASsB,UAAU,mCAAmCK,QAAS,kBAAM1B,GAAc,SAAAD,GAAU,OAAKA,QAA0B,cAAC,IAAD,CAAYsB,UAAU,mCAAmCK,QAAS,kBAAM1B,GAAc,SAAAD,GAAU,OAAKA,qBAKjT,sBAAKsB,UAAU,0DAAf,UACE,qBAAKA,UAAU,6BAAf,SACE,oBAAIA,UAAU,YAAd,gCAEF,8BACE,qBAAKA,UAAU,iCAAf,SACE,gCACE,uBACEC,KAAMvB,EAAa,QAAU,WAC7BwB,GAAG,qBACHC,KAAK,qBACLH,UAAS,4HAAuHpB,GAChIwB,YAAY,6BAId,uBAAMJ,UAAU,wCAAhB,cAA2DtB,EAAa,cAAC,IAAD,CAASsB,UAAU,mCAAmCK,QAAS,kBAAM1B,GAAc,SAAAD,GAAU,OAAKA,QAA0B,cAAC,IAAD,CAAYsB,UAAU,mCAAmCK,QAAS,kBAAM1B,GAAc,SAAAD,GAAU,OAAKA,qBAKjT,qBAAKsB,UAAU,yBAAf,SACE,sBAAKA,UAAU,oBAAf,UACGxB,GACC,qBAAKwB,UAAU,kCAAf,SACGxB,IAGL,wBACE6B,QA3Ge,WAE3B,IAAIC,EAAO,IAAIC,KACXC,EAAY,CACdC,KAAKH,EAAKI,iBACVC,MAAML,EAAKM,cACXN,KAAKA,EAAKO,aACVC,KAAKR,EAAKS,cACVC,OAAOV,EAAKW,iBAEVC,EAAeC,SAASC,eAAe,eAAe1B,MACtD2B,EAAmBF,SAASC,eAAe,sBAAsB1B,MAChD,KAAjBwB,GAA4C,KAArBG,GACzBxC,EAAc,kBACdJ,EAAU,0BAEHyC,IAAiBG,GACxBxC,EAAc,kBACdJ,EAAU,6CAGVK,EAASwC,YAAe,OAAQ,CAAE,aAAgBJ,EAAc,iBAAoBG,EAAkB,MAASrC,EAAQ,YAAcwB,MAuF3HR,UAAU,0GAFZ,SAKE","file":"static/js/36.dc212737.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { EyeIcon, EyeOffIcon } from \"@heroicons/react/outline\";\nimport {\n  useParams\n} from \"react-router-dom\";\n\nimport {\n  changePassword,\n  clearIDPasswordResetPASSWORD\n} from \"../../actions/api_actions\";\nimport swal from 'sweetalert';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nfunction ResetPassword() {\n  const [status, setstatus] = useState(\"\")\n  const [visibility, setvisibility] = useState(false);\n  const [errorClass, setErrorClass] = useState(\"\");\n  const dispatch = useDispatch();\n  const { token } = useParams();\n  const change_password_status = useSelector((data) => data.homeReducer.change_password_status);\n  let changePasswordfunction = () => {\n    // const dateandtime = new Date().toUTCString();\n    let date = new Date();\n    let timeanddate={\n      year:date.getUTCFullYear(),\n      month:date.getUTCMonth(),\n      date:date.getUTCDate(),\n      hour:date.getUTCHours(),\n      minute:date.getUTCMinutes(),\n    }\n    let new_password = document.getElementById('NewPassword').value\n    let confirm_password = document.getElementById('ConfirmNewPassword').value\n    if (new_password === \"\" || confirm_password === \"\") {\n      setErrorClass(\"border-red-500\");\n      setstatus('Please Enter Password');\n    }\n    else if (new_password !== confirm_password) {\n      setErrorClass(\"border-red-500\");\n      setstatus('Password and confirm password must match');\n    }\n    else {\n      dispatch(changePassword(\"POST\", { 'new_password': new_password, 'confirm_password': confirm_password, 'token': token,  'timeanddate':timeanddate }));\n    }\n    // 'year':year,'month':month, 'date': date, 'hour':hour\n\n  }\n\n  useEffect(() => {\n    change_password_status && setstatus(change_password_status.status)\n    if (status === \"Password Updated Successfully\") {\n      swal(\"Password Updated Successfully.\", {\n        closeOnClickOutside: false\n      })\n        .then((value) => {\n          setTimeout(() => {\n            dispatch(clearIDPasswordResetPASSWORD());\n            window.location.href = '/login/'\n          }, 2000)\n        });\n    }\n  }, [change_password_status, status])\n\n\n  // useEffect(() => {\n  //   return () => {\n  //     dispatch(clearIDPasswordResetPASSWORD());\n  //   };\n  // }, []);\n\n  return (\n    <div>\n      <section className=\"mt-10 flex flex-col items-center justify-center\">\n        <div>\n          <span className=\"text-7xl font-bold text-gray-800\">Reset Password</span>\n        </div>\n        <div className=\"my-32\">\n\n          <div className=\"grid grid-cols-3 border-b-2 border-gray-600 pt-12 pb-12\">\n            <div className=\"pt-6 pl-48 pr-8 col-span-1\">\n              <h1 className=\"font-bold\">Password</h1>\n            </div>\n            <div>\n              <div className=\"mb-4 pr-45 col-span-2 relative\">\n                <div>\n                  <input\n                    type={visibility ? \"input\" : \"password\"}\n                    id=\"NewPassword\"\n                    name=\"newpassword\"\n                    className={`shadow appearance-none border rounded-lg w-full py-8 px-5 text-gray-700 leading-tight focus:border-blue-500  w-28 ${errorClass}`}\n                    placeholder=\"Please Enter a password \"\n\n                  >\n                  </input>\n                  <span className=\"absolute cursor-pointer left-96 top-4\" > {visibility ? <EyeIcon className=\"h-14 w-12 inline text-main-white\" onClick={() => setvisibility(visibility => !visibility)}></EyeIcon> : <EyeOffIcon className=\"h-14 w-12 inline text-main-white\" onClick={() => setvisibility(visibility => !visibility)}></EyeOffIcon>}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-3 border-b-2 border-gray-600 pt-12 pb-12\">\n            <div className=\"pt-6 pl-48 pr-8 col-span-1\">\n              <h1 className=\"font-bold\">Confirm-Password</h1>\n            </div>\n            <div>\n              <div className=\"mb-4 pr-45 col-span-2 relative\">\n                <div>\n                  <input\n                    type={visibility ? \"input\" : \"password\"}\n                    id=\"ConfirmNewPassword\"\n                    name=\"confirmnewpassword\"\n                    className={`shadow appearance-none border rounded-lg w-full py-8 px-5 text-gray-700 leading-tight focus:border-blue-500  w-28 ${errorClass}`}\n                    placeholder=\"Please Enter a password \"\n\n                  >\n                  </input>\n                  <span className=\"absolute cursor-pointer left-96 top-4\" > {visibility ? <EyeIcon className=\"h-14 w-12 inline text-main-white\" onClick={() => setvisibility(visibility => !visibility)}></EyeIcon> : <EyeOffIcon className=\"h-14 w-12 inline text-main-white\" onClick={() => setvisibility(visibility => !visibility)}></EyeOffIcon>}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-3 pt-12\">\n            <div className=\"w-full col-span-3\">\n              {status && (\n                <div className=\"font-bold text-3xl text-red-500\">\n                  {status}\n                </div>\n              )}\n              <button\n                onClick={changePasswordfunction}\n                className=\"bg-blue-500 hover:bg-blue-700 text-white h-28 font-bold py-2 px-4 border border-blue-700 w-full rounded\"\n\n              >\n                <span>Reset Password</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n}\n\nexport default ResetPassword\n\n\n"],"sourceRoot":""}