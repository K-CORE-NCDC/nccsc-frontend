{"version":3,"sources":["containers/Login/login.js"],"names":["LoginComponent","useState","username","password","userFormData","setUserFormData","visibility","setvisibility","errorClass","setErrorClass","errorMessage","setErrorMessage","updateUserNamePassword","e","previousState","target","name","value","loginFailure","className","onChange","id","type","placeholder","onClick","url","config","auth","axios","method","data","then","response","status","localStorage","setItem","access","refresh","window","location","href","origin","loginSuccess","catch","error","to"],"mappings":"8MA+JeA,UAvJQ,WACrB,MAAwCC,mBAAS,CAC/CC,SAAU,GACVC,SAAU,KAFZ,mBAAOC,EAAP,KAAqBC,EAArB,KAIA,EAAoCJ,oBAAS,GAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KAEA,EAAoCN,mBAAS,IAA7C,mBAAOO,EAAP,KAAmBC,EAAnB,KACA,EAAwCR,mBAAS,IAAjD,mBAAOS,EAAP,KAAqBC,EAArB,KAEMC,EAAyB,SAACC,GAC9BR,GAAgB,SAACS,GAAD,mBAAC,eACZA,GADW,kBAEbD,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,YAGxBC,EAAe,WACnBT,EAAc,kBACdE,EAAgB,CACd,mBAAeQ,UAAU,6CAAzB,sCAAO,SAGP,qBAAIA,UAAU,6CAAd,UACG,IADH,uFAA+D,8BAkCnE,OACE,8BACE,0BAASA,UAAU,kDAAnB,UACE,8BACE,sBAAMA,UAAU,mCAAhB,qBAEF,qBAAKA,UAAU,QAAf,SACE,oBAAIA,UAAU,mCAAd,wDAIF,sBAAKA,UAAU,QAAf,UACE,sBAAKA,UAAU,0DAAf,UACE,qBAAKA,UAAU,wBAAf,SACE,oBAAIA,UAAU,YAAd,uBAEF,8BACE,qBAAKA,UAAU,wBAAf,SACE,uBACEF,MAAOb,EAAaF,SACpBkB,SAAUR,EACVI,KAAK,WACLG,UAAS,4HAAuHX,GAChIa,GAAG,WACHC,KAAK,OACLC,YAAY,gCAKpB,sBAAKJ,UAAU,0DAAf,UACE,qBAAKA,UAAU,wBAAf,SACE,oBAAIA,UAAU,YAAd,wBAEF,8BACE,qBAAKA,UAAU,iCAAf,SACE,gCACE,uBACEF,MAAOb,EAAaD,SACpBiB,SAAUR,EACVI,KAAK,WACLG,UAAS,4HAAuHX,GAChIa,GAAG,WACHC,KAAMhB,EAAa,QAAU,WAC7BiB,YAAY,6BAId,uBAAMJ,UAAU,wCAAhB,cAA2Db,EAAa,cAAC,IAAD,CAASa,UAAU,mCAAmCK,QAAS,kBAAMjB,GAAc,SAAAD,GAAU,OAAKA,QAA0B,cAAC,IAAD,CAAYa,UAAU,mCAAmCK,QAAS,kBAAMjB,GAAc,SAAAD,GAAU,OAAKA,qBAKjT,qBAAKa,UAAU,yBAAf,SACE,sBAAKA,UAAU,oBAAf,UACGT,GACC,qBAAKS,UAAU,kCAAf,SACGT,IAGL,yBACEc,QA9EW,SAACX,GAExB,IAAMY,EAAG,UAAMC,IAAOC,KAAb,cACDC,IAAM,CAAEC,OAAQ,OAAQJ,IAAKA,EAAKK,KAAM1B,IAC9C2B,MAAK,SAACC,GACN,IAAMF,EAAOE,EAASF,KAEH,MADAE,EAASC,OAdX,SAACH,GACpBI,aAAaC,QAAQ,mBAAoBL,EAAKM,QAC9CF,aAAaC,QAAQ,oBAAqBL,EAAKO,SAG/CC,OAAOC,SAASC,KAAOF,OAAOC,SAASE,OAAOf,IAAM,SAAa,YAW7DgB,CAAaZ,GAEbZ,OAEDyB,OAAM,SAACC,GACR1B,QAkEUC,UAAU,0GAFZ,UAKE,cAAC,IAAD,CAAUA,UAAU,qCAAsC,IAE1D,iDAIN,qBAAKA,UAAU,yBAAf,SACE,qBAAKA,UAAU,oBAAf,SACE,sBAAKA,UAAU,8BAAf,UACE,cAAC,IAAD,CAAM0B,GAAG,WAAW1B,UAAU,QAA9B,SACE,mBAAGA,UAAU,kCAAb,uBAIF,cAAC,IAAD,CAAM0B,GAAG,iBAAiB1B,UAAU,QAApC,SACE,mBAAGA,UAAU,QAAb","file":"static/js/37.2b1de419.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport config from \"../../config\";\r\nimport { UserIcon, eye, EyeIcon, EyeOffIcon } from \"@heroicons/react/outline\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\n\r\nconst LoginComponent = () => {\r\n  const [userFormData, setUserFormData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [visibility, setvisibility] = useState(false);\r\n\r\n  const [errorClass, setErrorClass] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState([]);\r\n\r\n  const updateUserNamePassword = (e) => {\r\n    setUserFormData((previousState) => ({\r\n      ...previousState,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  };\r\n  const loginFailure = () => {\r\n    setErrorClass(\"border-red-500\");\r\n    setErrorMessage([\r\n      <p key=\"error\" className=\"p-1 font-bold text-3xl text-red-500 italic\">\r\n        Invalid username/Password\r\n      </p>,\r\n      <h1 className=\"p-1 font-bold text-3xl text-red-500 italic\" key=\"CountToEnterCredentials\">\r\n        {\" \"}\r\n        If an error in consecutive password input (5 times) occurs, the account\r\n        is locked.\r\n      </h1>,\r\n    ]);\r\n    // setUserFormData({ username: \"\", password: \"\" });\r\n  };\r\n\r\n  const loginSuccess = (data) => {\r\n    localStorage.setItem(\"ncc_access_token\", data.access);\r\n    localStorage.setItem(\"ncc_refresh_token\", data.refresh);\r\n    // history.push(\"/userdata\")\r\n    // window.location.href = \"/core/userdata\";\r\n    window.location.href = window.location.origin+config['basename']+\"userdata/\";\r\n  };\r\n\r\n  const formSubmitAction = (e) => {\r\n    // e.preventDefault();\r\n    const url = `${config.auth}api/token/`;\r\n    let x = axios({ method: \"POST\", url: url, data: userFormData });\r\n    x.then((response) => {\r\n      const data = response.data;\r\n      const statusCode = response.status;\r\n      if (statusCode === 200) {\r\n        loginSuccess(data);\r\n      } else {\r\n        loginFailure();\r\n      }\r\n    }).catch((error) => {\r\n      loginFailure();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"mt-10 flex flex-col items-center justify-center\">\r\n        <div>\r\n          <span className=\"text-7xl font-bold text-gray-800\">Login</span>\r\n        </div>\r\n        <div className=\"my-14\">\r\n          <h1 className=\"font-bold text-3xl text-gray-800\">\r\n            Please use the service after logging in.\r\n          </h1>\r\n        </div>\r\n        <div className=\"my-32\">\r\n          <div className=\"grid grid-cols-3 border-b-2 border-gray-600 pt-12 pb-12\">\r\n            <div className=\"pt-6 pl-48 col-span-1\">\r\n              <h1 className=\"font-bold\">User ID</h1>\r\n            </div>\r\n            <div>\r\n              <div className=\"mb-4 pr-45 col-span-2\">\r\n                <input\r\n                  value={userFormData.username}\r\n                  onChange={updateUserNamePassword}\r\n                  name=\"username\"\r\n                  className={`shadow appearance-none border rounded-lg w-full py-8 px-5 text-gray-700 leading-tight focus:border-blue-500  w-28 ${errorClass}`}\r\n                  id=\"username\"\r\n                  type=\"text\"\r\n                  placeholder=\"Please Enter your id\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid grid-cols-3 border-b-2 border-gray-600 pt-12 pb-12\">\r\n            <div className=\"pt-6 pl-48 col-span-1\">\r\n              <h1 className=\"font-bold\">Password</h1>\r\n            </div>\r\n            <div>\r\n              <div className=\"mb-4 pr-45 col-span-2 relative\">\r\n                <div>\r\n                  <input\r\n                    value={userFormData.password}\r\n                    onChange={updateUserNamePassword}\r\n                    name=\"password\"\r\n                    className={`shadow appearance-none border rounded-lg w-full py-8 px-5 text-gray-700 leading-tight focus:border-blue-500  w-28 ${errorClass}`}\r\n                    id=\"password\"\r\n                    type={visibility ? \"input\" : \"password\"}\r\n                    placeholder=\"Please Enter a password \"\r\n\r\n                  >\r\n                  </input>\r\n                  <span className=\"absolute cursor-pointer left-80 top-4\" > {visibility ? <EyeIcon className=\"h-14 w-12 inline text-main-white\" onClick={() => setvisibility(visibility => !visibility)}></EyeIcon> : <EyeOffIcon className=\"h-14 w-12 inline text-main-white\" onClick={() => setvisibility(visibility => !visibility)}></EyeOffIcon>}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid grid-cols-3 pt-12\">\r\n            <div className=\"w-full col-span-3\">\r\n              {errorMessage && (\r\n                <div className=\"font-bold text-3xl text-red-500\">\r\n                  {errorMessage}\r\n                </div>\r\n              )}\r\n              <button\r\n                onClick={formSubmitAction}\r\n                className=\"bg-blue-500 hover:bg-blue-700 text-white h-28 font-bold py-2 px-4 border border-blue-700 w-full rounded\"\r\n\r\n              >\r\n                <UserIcon className=\"h-14 w-12 inline text-main-white\" />{\" \"}\r\n\r\n                <span>Login</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid grid-cols-3 pt-12\">\r\n            <div className=\"w-full col-span-3\">\r\n              <div className=\"d-flex flex-row float-right\">\r\n                <Link to=\"/findid/\" className=\" pr-5\">\r\n                  <p className=\"border-r-2 border-gray-600 pr-5\">\r\n                    Find ID\r\n                  </p>\r\n                </Link>\r\n                <Link to=\"/findpassword/\" className=\" pr-5\">\r\n                  <p className=\" pr-5\">\r\n                    Find Password\r\n                  </p>\r\n                </Link>\r\n\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginComponent;\r\n"],"sourceRoot":""}