{"version":3,"sources":["../node_modules/venn.js/node_modules/d3-selection/src/select.js","../node_modules/venn.js/node_modules/d3-selection/src/create.js","../node_modules/venn.js/node_modules/d3-selection/src/local.js","../node_modules/venn.js/node_modules/d3-selection/src/sourceEvent.js","../node_modules/venn.js/node_modules/d3-selection/src/point.js","../node_modules/venn.js/node_modules/d3-selection/src/mouse.js","../node_modules/venn.js/node_modules/d3-selection/src/selectAll.js","../node_modules/venn.js/node_modules/d3-selection/src/touch.js","../node_modules/venn.js/node_modules/d3-selection/src/touches.js","../node_modules/venn.js/node_modules/d3-selection/src/creator.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/on.js","../node_modules/venn.js/node_modules/d3-selection/src/selector.js","../node_modules/venn.js/node_modules/d3-selection/src/namespace.js","../node_modules/venn.js/node_modules/d3-selection/src/namespaces.js","../node_modules/venn.js/node_modules/d3-selection/src/window.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/sparse.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/enter.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/data.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/sort.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/call.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/attr.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/property.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/classed.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/text.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/html.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/raise.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/lower.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/insert.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/remove.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/clone.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/dispatch.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/index.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/select.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/selectAll.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/filter.js","../node_modules/venn.js/node_modules/d3-selection/src/constant.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/exit.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/join.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/merge.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/order.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/nodes.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/node.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/size.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/empty.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/each.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/append.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/datum.js","../node_modules/venn.js/node_modules/d3-selection/src/selectorAll.js","../node_modules/venn.js/node_modules/d3-selection/src/matcher.js","../node_modules/venn.js/node_modules/d3-selection/src/selection/style.js","../node_modules/venn.js/build/venn.js","../node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.esm.js","../node_modules/venn.js/node_modules/d3-dispatch/src/dispatch.js","../node_modules/venn.js/node_modules/d3-timer/src/timer.js","../node_modules/venn.js/node_modules/d3-timer/src/timeout.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/schedule.js","../node_modules/venn.js/node_modules/d3-transition/src/interrupt.js","../node_modules/venn.js/node_modules/d3-interpolate/src/transform/parse.js","../node_modules/venn.js/node_modules/d3-interpolate/src/number.js","../node_modules/venn.js/node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/venn.js/node_modules/d3-interpolate/src/transform/index.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/tween.js","../node_modules/venn.js/node_modules/d3-color/src/define.js","../node_modules/venn.js/node_modules/d3-color/src/color.js","../node_modules/venn.js/node_modules/d3-interpolate/src/basis.js","../node_modules/venn.js/node_modules/d3-interpolate/src/constant.js","../node_modules/venn.js/node_modules/d3-interpolate/src/color.js","../node_modules/venn.js/node_modules/d3-interpolate/src/rgb.js","../node_modules/venn.js/node_modules/d3-interpolate/src/basisClosed.js","../node_modules/venn.js/node_modules/d3-interpolate/src/string.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/interpolate.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/attr.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/attrTween.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/delay.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/duration.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/ease.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/on.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/remove.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/selection.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/style.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/styleTween.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/textTween.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/index.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/select.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/selectAll.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/filter.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/merge.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/transition.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/text.js","../node_modules/venn.js/node_modules/d3-transition/src/transition/end.js","../node_modules/venn.js/node_modules/d3-transition/src/selection/transition.js","../node_modules/venn.js/node_modules/d3-ease/src/cubic.js","../node_modules/venn.js/node_modules/d3-transition/src/selection/index.js","../node_modules/venn.js/node_modules/d3-transition/src/selection/interrupt.js","../node_modules/venn.js/node_modules/d3-transition/src/active.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/nest.js","../node_modules/d3-collection/src/set.js"],"names":["selector","Selection","document","querySelector","documentElement","root","name","select","creator","call","nextId","local","Local","this","_","toString","prototype","constructor","get","node","id","parentNode","set","value","remove","source","current","event","sourceEvent","svg","ownerSVGElement","createSVGPoint","point","x","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","changedTouches","querySelectorAll","touches","identifier","arguments","length","touch","i","n","points","Array","creatorInherit","ownerDocument","uri","namespaceURI","xhtml","createElement","createElementNS","creatorFixed","fullname","space","namespace","filterEvents","mouseenter","mouseleave","filterContextListener","listener","index","group","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","parseTypenames","typenames","trim","split","map","t","indexOf","slice","type","onRemove","typename","on","__on","o","j","m","removeEventListener","capture","onAdd","wrap","hasOwnProperty","d","addEventListener","push","customEvent","that","args","apply","each","none","prefix","namespaces","xlink","xml","xmlns","defaultView","update","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","next","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","keyValues","ascending","a","b","NaN","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","add","classedRemove","classedTrue","classedFalse","classedFunction","join","splice","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","groups","parents","_groups","_parents","selection","subgroups","subnode","subgroup","selectAll","selectorAll","filter","match","matcher","size","bind","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","groups0","groups1","m0","m1","Math","min","merges","group0","group1","sort","compare","compareNode","sortgroups","sortgroup","callback","nodes","empty","attr","getAttributeNS","style","selection_style","property","classed","text","html","create","insert","before","deep","selection_on","dispatch","matches","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","exports","d3Selection","d3Transition","SMALL","intersectionArea","circles","stats","intersectionPoints","getIntersectionPoints","innerPoints","p","containedInCircles","arcArea","polygonArea","arcs","center","getCenter","angle","atan2","p2","p1","midPoint","arc","parentIndex","circle","a1","a2","angleDiff","PI","width","distance","radius","sin","cos","circleArea","smallest","disjoint","abs","area","ret","intersect","circleCircleIntersection","k","r","acos","sqrt","circleOverlap","r1","r2","w2","h","x0","y0","rx","ry","bisect","f","parameters","maxIterations","tolerance","fA","fB","delta","mid","fMid","zeros","zerosM","dot","norm2","scale","c","weightedSum","w1","v1","v2","nelderMead","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","undefined","chi","psi","sigma","N","simplex","fx","updateSimplex","sortOrder","centroid","reflected","contracted","expanded","iteration","history","sortedSimplex","state","max","worst","shouldReduce","wolfeLineSearch","pk","c1","c2","phi0","phiPrime0","fxprime","phi","phi_old","phiPrime","a0","zoom","a_lo","a_high","phi_lo","conjugateGradient","initial","temp","yk","alpha","delta_k","venn","areas","setid","initialLayout","bestInitialLayout","loss","lossFunction","addMissingAreas","setids","positions","values","SMALL$1","distanceFromIntersectArea","overlap","distance$$1","ids","pairs","sets","getDistanceMatrices","distances","constraints","right","constrainedMDSGradient","xi","yi","xj","yj","dij","constraint","squaredDistance","greedyLayout","constrained","constrainedMDSLayout","restarts","matrices","norm","row","best","obj","random","setOverlaps","rowid","weight","mostOverlapped","positioned","isPositioned","element","positionSet","setIndex","d1","d2","extraPoints","l","bestLoss","bestPoint","localLoss","overlaps","output","getCircles","indices","orientateCircles","orientation","orientationOrder","largestX","largestY","rotation","s","slope","disjointCluster","find","union","xRoot","yRoot","maxDistance","disjointClusters","getBoundingBox","minMax","xRange","yRange","normalizeSolution","solution","clusters","bounds","returnBounds","spacing","addCluster","cluster","bottom","xOffset","yOffset","centreing","scaleSolution","height","padding","console","log","xScaling","yScaling","scaling","scaled","VennDiagram","duration","normalize","styled","fontSize","colourMap","colourScheme","colourIndex","colours","layoutFunction","chart","toremove","forEach","some","textCentres","computeTextCentres","labels","label","hasPrevious","path","circleFromPath","pathTween","intersectionAreaPath","start","end","enterPath","enterText","transition","attrTween","updateText","floor","wrapText","exitText","labeller","joined","words","reverse","maxLines","minChars","word","pop","line","lineNumber","lineHeight","tspan","getComputedTextLength","circleMargin","interior","exterior","margin","computeTextCentre","valid","areaStats","getOverlappingCircles","circleids","circleid","overlapped","areaids","exclude","centre","sortAreas","div","relativeTo","check","shouldExclude","circlePath","tokens","parseFloat","wide","Object","defineProperty","factory","require","devicePixelRatio","screen","deviceXDPI","logicalXDPI","utils","inputs","input","lines","concat","unshift","isArray","isNullOrUndef","ctx","font","items","ilen","prev","measureText","updates","orient","origin","dx","dy","ln","region","res","compute$1","range","config","anchor","segment","clamp","x1","y1","r0","clipped","vx","vy","align","aligned","positioners","el","startAngle","endAngle","innerRadius","outerRadius","options","sx","sy","horizontal","base","rasterize","round","getScaleOrigin","context","getDatasetMeta","datasetIndex","vScale","xCenter","yCenter","pixel","getBasePixel","drawFrame","model","bgColor","backgroundColor","borderColor","borderWidth","beginPath","w","HALF_PI","moveTo","closePath","drawRoundedRect","borderRadius","fillStyle","fill","strokeStyle","lineWidth","lineJoin","stroke","drawTextLine","cfg","shadow","shadowBlur","stroked","strokeText","filled","fillText","Label","me","_config","_index","_model","_rects","_ctx","_el","_modelize","display","toFont","resolve","color","defaults$1","chartArea","clip","offset","opacity","toPadding","positioner","ArcElement","PointElement","BarElement","textAlign","textShadowBlur","textShadowColor","textStrokeColor","textStrokeWidth","rects","dataset","valueOrDefault","formatter","th","tw","tx","ty","frame","boundingRects","geometry","visible","draw","save","globalAlpha","translate","rotate","strokeColor","strokeWidth","textGeometry","textBaseline","shadowColor","drawText","restore","MIN_INTEGER","Number","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","rotated","cx","cy","projected","axis","pt","dp","toAxis","p0","HitBox","_rotation","_rect","coordinates","vs","intersects","other","pr0","pr1","_points","axes","layout","prepare","datasets","jlen","$layout","_box","_hidable","_visible","_set","_idx","sa","sb","dirty","proxy","Proxy","getProps","collider","s0","s1","collide","h0","h1","compute","lookup","DEFAULT_KEY","listeners","callback$1","$context","$groups","_key","_dirty","handleMoveEvents","expando","_listeners","leave","_labels","_hovered","dispatchMoveEvents","plugin","defaults","family","keys","klen","isObject","beforeInit","_actives","beforeUpdate","_listened","_datasets","afterDatasetUpdate","isDatasetVisible","override","datalabels","configs","reduce","target","fn","configure","elements","meta","getDataVisibility","skip","active","dataIndex","merger","afterUpdate","afterDatasetsDraw","beforeEvent","handlers","click","handleClickEvents","afterEvent","actives","getActiveElements","render","noop","test","Error","Dispatch","types","T","copy","taskHead","taskTail","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","e","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","TypeError","stop","elapsed","emptyOn","emptyTween","timing","schedules","__transition","self","tween","schedule","tick","ease","init","cssNode","cssRoot","cssView","svgNode","degrees","identity","translateX","translateY","skewX","scaleX","scaleY","atan","interpolateTransform","parse","pxComma","pxParen","degParen","q","xa","ya","xb","yb","number","interpolateTransformCss","transform","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","isNaN","Hsl","hslConvert","hsl2rgb","m2","basis","v0","v3","t3","define","channels","assign","displayable","formatHsl","pow","linear","gamma","nogamma","exponential","constant","rgbGamma","colorRgb","rgbSpline","spline","colors","reA","reB","am","bm","bs","bi","lastIndex","one","zero","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","children","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","Promise","reject","cancel","interrupt","defaultTiming","Map","object","has","clear","entries","sortValues","rollup","nest","sortKeys","array","depth","createResult","setResult","valuesByKey","result","sortKey","createObject","setObject","createMap","setMap","Set","proto"],"mappings":"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","file":"static/js/15.86ef96f7.chunk.js","sourcesContent":["import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-selection'), require('d3-transition')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'd3-selection', 'd3-transition'], factory) :\n\t(factory((global.venn = {}),global.d3,global.d3));\n}(this, (function (exports,d3Selection,d3Transition) { 'use strict';\n\nvar SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nfunction intersectionArea(circles, stats) {\n    // get all the intersection points of the circles\n    var intersectionPoints = getIntersectionPoints(circles);\n\n    // filter out points that aren't included in all the circles\n    var innerPoints = intersectionPoints.filter(function (p) {\n        return containedInCircles(p, circles);\n    });\n\n    var arcArea = 0, polygonArea = 0, arcs = [], i;\n\n    // if we have intersection points that are within all the circles,\n    // then figure out the area contained by them\n    if (innerPoints.length > 1) {\n        // sort the points by angle from the center of the polygon, which lets\n        // us just iterate over points to get the edges\n        var center = getCenter(innerPoints);\n        for (i = 0; i < innerPoints.length; ++i ) {\n            var p = innerPoints[i];\n            p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n        }\n        innerPoints.sort(function(a,b) { return b.angle - a.angle;});\n\n        // iterate over all points, get arc between the points\n        // and update the areas\n        var p2 = innerPoints[innerPoints.length - 1];\n        for (i = 0; i < innerPoints.length; ++i) {\n            var p1 = innerPoints[i];\n\n            // polygon area updates easily ...\n            polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n            // updating the arc area is a little more involved\n            var midPoint = {x : (p1.x + p2.x) / 2,\n                            y : (p1.y + p2.y) / 2},\n                arc = null;\n\n            for (var j = 0; j < p1.parentIndex.length; ++j) {\n                if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n                    // figure out the angle halfway between the two points\n                    // on the current circle\n                    var circle = circles[p1.parentIndex[j]],\n                        a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n                        a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n                    var angleDiff = (a2 - a1);\n                    if (angleDiff < 0) {\n                        angleDiff += 2*Math.PI;\n                    }\n\n                    // and use that angle to figure out the width of the\n                    // arc\n                    var a = a2 - angleDiff/2,\n                        width = distance(midPoint, {\n                            x : circle.x + circle.radius * Math.sin(a),\n                            y : circle.y + circle.radius * Math.cos(a)\n                        });\n\n                    // clamp the width to the largest is can actually be\n                    // (sometimes slightly overflows because of FP errors)\n                    if (width > circle.radius * 2) {\n                        width = circle.radius * 2;\n                    }\n\n                    // pick the circle whose arc has the smallest width\n                    if ((arc === null) || (arc.width > width)) {\n                        arc = { circle : circle,\n                                width : width,\n                                p1 : p1,\n                                p2 : p2};\n                    }\n                }\n            }\n\n            if (arc !== null) {\n                arcs.push(arc);\n                arcArea += circleArea(arc.circle.radius, arc.width);\n                p2 = p1;\n            }\n        }\n    } else {\n        // no intersection points, is either disjoint - or is completely\n        // overlapped. figure out which by examining the smallest circle\n        var smallest = circles[0];\n        for (i = 1; i < circles.length; ++i) {\n            if (circles[i].radius < smallest.radius) {\n                smallest = circles[i];\n            }\n        }\n\n        // make sure the smallest circle is completely contained in all\n        // the other circles\n        var disjoint = false;\n        for (i = 0; i < circles.length; ++i) {\n            if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n                disjoint = true;\n                break;\n            }\n        }\n\n        if (disjoint) {\n            arcArea = polygonArea = 0;\n\n        } else {\n            arcArea = smallest.radius * smallest.radius * Math.PI;\n            arcs.push({circle : smallest,\n                       p1: { x: smallest.x,        y : smallest.y + smallest.radius},\n                       p2: { x: smallest.x - SMALL, y : smallest.y + smallest.radius},\n                       width : smallest.radius * 2 });\n        }\n    }\n\n    polygonArea /= 2;\n    if (stats) {\n        stats.area = arcArea + polygonArea;\n        stats.arcArea = arcArea;\n        stats.polygonArea = polygonArea;\n        stats.arcs = arcs;\n        stats.innerPoints = innerPoints;\n        stats.intersectionPoints = intersectionPoints;\n    }\n\n    return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nfunction containedInCircles(point, circles) {\n    for (var i = 0; i < circles.length; ++i) {\n        if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n    var ret = [];\n    for (var i = 0; i < circles.length; ++i) {\n        for (var j = i + 1; j < circles.length; ++j) {\n            var intersect = circleCircleIntersection(circles[i],\n                                                          circles[j]);\n            for (var k = 0; k < intersect.length; ++k) {\n                var p = intersect[k];\n                p.parentIndex = [i,j];\n                ret.push(p);\n            }\n        }\n    }\n    return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nfunction circleArea(r, width) {\n    return r * r * Math.acos(1 - width/r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nfunction distance(p1, p2) {\n    return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) +\n                     (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nfunction circleOverlap(r1, r2, d) {\n    // no overlap\n    if (d >= r1 + r2) {\n        return 0;\n    }\n\n    // completely overlapped\n    if (d <= Math.abs(r1 - r2)) {\n        return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n    }\n\n    var w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n        w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n    return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nfunction circleCircleIntersection(p1, p2) {\n    var d = distance(p1, p2),\n        r1 = p1.radius,\n        r2 = p2.radius;\n\n    // if to far away, or self contained - can't be done\n    if ((d >= (r1 + r2)) || (d <= Math.abs(r1 - r2))) {\n        return [];\n    }\n\n    var a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n        h = Math.sqrt(r1 * r1 - a * a),\n        x0 = p1.x + a * (p2.x - p1.x) / d,\n        y0 = p1.y + a * (p2.y - p1.y) / d,\n        rx = -(p2.y - p1.y) * (h / d),\n        ry = -(p2.x - p1.x) * (h / d);\n\n    return [{x: x0 + rx, y : y0 - ry },\n            {x: x0 - rx, y : y0 + ry }];\n}\n\n/** Returns the center of a bunch of points */\nfunction getCenter(points) {\n    var center = {x: 0, y: 0};\n    for (var i =0; i < points.length; ++i ) {\n        center.x += points[i].x;\n        center.y += points[i].y;\n    }\n    center.x /= points.length;\n    center.y /= points.length;\n    return center;\n}\n\n/** finds the zeros of a function, given two starting points (which must\n * have opposite signs */\nfunction bisect(f, a, b, parameters) {\n    parameters = parameters || {};\n    var maxIterations = parameters.maxIterations || 100,\n        tolerance = parameters.tolerance || 1e-10,\n        fA = f(a),\n        fB = f(b),\n        delta = b - a;\n\n    if (fA * fB > 0) {\n        throw \"Initial bisect points must have opposite signs\";\n    }\n\n    if (fA === 0) return a;\n    if (fB === 0) return b;\n\n    for (var i = 0; i < maxIterations; ++i) {\n        delta /= 2;\n        var mid = a + delta,\n            fMid = f(mid);\n\n        if (fMid * fA >= 0) {\n            a = mid;\n        }\n\n        if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n            return mid;\n        }\n    }\n    return a + delta;\n}\n\n// need some basic operations on vectors, rather than adding a dependency,\n// just define here\nfunction zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\nfunction zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\nfunction dot(a, b) {\n    var ret = 0;\n    for (var i = 0; i < a.length; ++i) {\n        ret += a[i] * b[i];\n    }\n    return ret;\n}\n\nfunction norm2(a)  {\n    return Math.sqrt(dot(a, a));\n}\n\nfunction scale(ret, value, c) {\n    for (var i = 0; i < value.length; ++i) {\n        ret[i] = value[i] * c;\n    }\n}\n\nfunction weightedSum(ret, w1, v1, w2, v2) {\n    for (var j = 0; j < ret.length; ++j) {\n        ret[j] = w1 * v1[j] + w2 * v2[j];\n    }\n}\n\n/** minimizes a function using the downhill simplex method */\nfunction nelderMead(f, x0, parameters) {\n    parameters = parameters || {};\n\n    var maxIterations = parameters.maxIterations || x0.length * 200,\n        nonZeroDelta = parameters.nonZeroDelta || 1.05,\n        zeroDelta = parameters.zeroDelta || 0.001,\n        minErrorDelta = parameters.minErrorDelta || 1e-6,\n        minTolerance = parameters.minErrorDelta || 1e-5,\n        rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n        chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n        psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n        sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n        maxDiff;\n\n    // initialize simplex.\n    var N = x0.length,\n        simplex = new Array(N + 1);\n    simplex[0] = x0;\n    simplex[0].fx = f(x0);\n    simplex[0].id = 0;\n    for (var i = 0; i < N; ++i) {\n        var point = x0.slice();\n        point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n        simplex[i+1] = point;\n        simplex[i+1].fx = f(point);\n        simplex[i+1].id = i+1;\n    }\n\n    function updateSimplex(value) {\n        for (var i = 0; i < value.length; i++) {\n            simplex[N][i] = value[i];\n        }\n        simplex[N].fx = value.fx;\n    }\n\n    var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n    var centroid = x0.slice(),\n        reflected = x0.slice(),\n        contracted = x0.slice(),\n        expanded = x0.slice();\n\n    for (var iteration = 0; iteration < maxIterations; ++iteration) {\n        simplex.sort(sortOrder);\n\n        if (parameters.history) {\n            // copy the simplex (since later iterations will mutate) and\n            // sort it to have a consistent order between iterations\n            var sortedSimplex = simplex.map(function (x) {\n                var state = x.slice();\n                state.fx = x.fx;\n                state.id = x.id;\n                return state;\n            });\n            sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n            parameters.history.push({x: simplex[0].slice(),\n                                     fx: simplex[0].fx,\n                                     simplex: sortedSimplex});\n        }\n\n        maxDiff = 0;\n        for (i = 0; i < N; ++i) {\n            maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n        }\n\n        if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n            (maxDiff < minTolerance)) {\n            break;\n        }\n\n        // compute the centroid of all but the worst point in the simplex\n        for (i = 0; i < N; ++i) {\n            centroid[i] = 0;\n            for (var j = 0; j < N; ++j) {\n                centroid[i] += simplex[j][i];\n            }\n            centroid[i] /= N;\n        }\n\n        // reflect the worst point past the centroid  and compute loss at reflected\n        // point\n        var worst = simplex[N];\n        weightedSum(reflected, 1+rho, centroid, -rho, worst);\n        reflected.fx = f(reflected);\n\n        // if the reflected point is the best seen, then possibly expand\n        if (reflected.fx < simplex[0].fx) {\n            weightedSum(expanded, 1+chi, centroid, -chi, worst);\n            expanded.fx = f(expanded);\n            if (expanded.fx < reflected.fx) {\n                updateSimplex(expanded);\n            }  else {\n                updateSimplex(reflected);\n            }\n        }\n\n        // if the reflected point is worse than the second worst, we need to\n        // contract\n        else if (reflected.fx >= simplex[N-1].fx) {\n            var shouldReduce = false;\n\n            if (reflected.fx > worst.fx) {\n                // do an inside contraction\n                weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                contracted.fx = f(contracted);\n                if (contracted.fx < worst.fx) {\n                    updateSimplex(contracted);\n                } else {\n                    shouldReduce = true;\n                }\n            } else {\n                // do an outside contraction\n                weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                contracted.fx = f(contracted);\n                if (contracted.fx < reflected.fx) {\n                    updateSimplex(contracted);\n                } else {\n                    shouldReduce = true;\n                }\n            }\n\n            if (shouldReduce) {\n                // if we don't contract here, we're done\n                if (sigma >= 1) break;\n\n                // do a reduction\n                for (i = 1; i < simplex.length; ++i) {\n                    weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                    simplex[i].fx = f(simplex[i]);\n                }\n            }\n        } else {\n            updateSimplex(reflected);\n        }\n    }\n\n    simplex.sort(sortOrder);\n    return {fx : simplex[0].fx,\n            x : simplex[0]};\n}\n\n/// searches along line 'pk' for a point that satifies the wolfe conditions\n/// See 'Numerical Optimization' by Nocedal and Wright p59-60\n/// f : objective function\n/// pk : search direction\n/// current: object containing current gradient/loss\n/// next: output: contains next gradient/loss\n/// returns a: step size taken\nfunction wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n    var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n        phi = phi0, phi_old = phi0,\n        phiPrime = phiPrime0,\n        a0 = 0;\n\n    a = a || 1;\n    c1 = c1 || 1e-6;\n    c2 = c2 || 0.1;\n\n    function zoom(a_lo, a_high, phi_lo) {\n        for (var iteration = 0; iteration < 16; ++iteration) {\n            a = (a_lo + a_high)/2;\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (phi >= phi_lo)) {\n                a_high = a;\n\n            } else  {\n                if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                    return a;\n                }\n\n                if (phiPrime * (a_high - a_lo) >=0) {\n                    a_high = a_lo;\n                }\n\n                a_lo = a;\n                phi_lo = phi;\n            }\n        }\n\n        return 0;\n    }\n\n    for (var iteration = 0; iteration < 10; ++iteration) {\n        weightedSum(next.x, 1.0, current.x, a, pk);\n        phi = next.fx = f(next.x, next.fxprime);\n        phiPrime = dot(next.fxprime, pk);\n        if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n            (iteration && (phi >= phi_old))) {\n            return zoom(a0, a, phi_old);\n        }\n\n        if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n            return a;\n        }\n\n        if (phiPrime >= 0 ) {\n            return zoom(a, a0, phi);\n        }\n\n        phi_old = phi;\n        a0 = a;\n        a *= 2;\n    }\n\n    return a;\n}\n\nfunction conjugateGradient(f, initial, params) {\n    // allocate all memory up front here, keep out of the loop for perfomance\n    // reasons\n    var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n        next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n        yk = initial.slice(),\n        pk, temp,\n        a = 1,\n        maxIterations;\n\n    params = params || {};\n    maxIterations = params.maxIterations || initial.length * 20;\n\n    current.fx = f(current.x, current.fxprime);\n    pk = current.fxprime.slice();\n    scale(pk, current.fxprime,-1);\n\n    for (var i = 0; i < maxIterations; ++i) {\n        a = wolfeLineSearch(f, pk, current, next, a);\n\n        // todo: history in wrong spot?\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        if (!a) {\n            // faiiled to find point that satifies wolfe conditions.\n            // reset direction for next iteration\n            scale(pk, current.fxprime, -1);\n\n        } else {\n            // update direction using PolakRibiere CG method\n            weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n            var delta_k = dot(current.fxprime, current.fxprime),\n                beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n            weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n            temp = current;\n            current = next;\n            next = temp;\n        }\n\n        if (norm2(current.fxprime) <= 1e-5) {\n            break;\n        }\n    }\n\n    if (params.history) {\n        params.history.push({x: current.x.slice(),\n                             fx: current.fx,\n                             fxprime: current.fxprime.slice(),\n                             alpha: a});\n    }\n\n    return current;\n}\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nfunction venn(areas, parameters) {\n    parameters = parameters || {};\n    parameters.maxIterations = parameters.maxIterations || 500;\n    var initialLayout = parameters.initialLayout || bestInitialLayout;\n    var loss = parameters.lossFunction || lossFunction;\n\n    // add in missing pairwise areas as having 0 size\n    areas = addMissingAreas(areas);\n\n    // initial layout is done greedily\n    var circles = initialLayout(areas, parameters);\n\n    // transform x/y coordinates to a vector to optimize\n    var initial = [], setids = [], setid;\n    for (setid in circles) {\n        if (circles.hasOwnProperty(setid)) {\n            initial.push(circles[setid].x);\n            initial.push(circles[setid].y);\n            setids.push(setid);\n        }\n    }\n\n    // optimize initial layout from our loss function\n    var solution = nelderMead(\n        function(values) {\n            var current = {};\n            for (var i = 0; i < setids.length; ++i) {\n                var setid = setids[i];\n                current[setid] = {x: values[2 * i],\n                                  y: values[2 * i + 1],\n                                  radius : circles[setid].radius,\n                                 // size : circles[setid].size\n                                 };\n            }\n            return loss(current, areas);\n        },\n        initial,\n        parameters);\n\n    // transform solution vector back to x/y points\n    var positions = solution.x;\n    for (var i = 0; i < setids.length; ++i) {\n        setid = setids[i];\n        circles[setid].x = positions[2 * i];\n        circles[setid].y = positions[2 * i + 1];\n    }\n\n    return circles;\n}\n\nvar SMALL$1 = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nfunction distanceFromIntersectArea(r1, r2, overlap) {\n    // handle complete overlapped circles\n    if (Math.min(r1, r2) * Math.min(r1,r2) * Math.PI <= overlap + SMALL$1) {\n        return Math.abs(r1 - r2);\n    }\n\n    return bisect(function(distance$$1) {\n        return circleOverlap(r1, r2, distance$$1) - overlap;\n    }, 0, r1 + r2);\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n    areas = areas.slice();\n\n    // two circle intersections that aren't defined\n    var ids = [], pairs = {}, i, j, a, b;\n    for (i = 0; i < areas.length; ++i) {\n        var area = areas[i];\n        if (area.sets.length == 1) {\n            ids.push(area.sets[0]);\n        } else if (area.sets.length == 2) {\n            a = area.sets[0];\n            b = area.sets[1];\n            pairs[[a, b]] = true;\n            pairs[[b, a]] = true;\n        }\n    }\n    ids.sort(function(a, b) { return a > b; });\n\n    for (i = 0; i < ids.length; ++i) {\n        a = ids[i];\n        for (j = i + 1; j < ids.length; ++j) {\n            b = ids[j];\n            if (!([a, b] in pairs)) {\n                areas.push({'sets': [a, b],\n                            'size': 0});\n            }\n        }\n    }\n    return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nfunction getDistanceMatrices(areas, sets, setids) {\n    // initialize an empty distance matrix between all the points\n    var distances = zerosM(sets.length, sets.length),\n        constraints = zerosM(sets.length, sets.length);\n\n    // compute required distances between all the sets such that\n    // the areas match\n    areas.filter(function(x) { return x.sets.length == 2; })\n        .map(function(current) {\n        var left = setids[current.sets[0]],\n            right = setids[current.sets[1]],\n            r1 = Math.sqrt(sets[left].size / Math.PI),\n            r2 = Math.sqrt(sets[right].size / Math.PI),\n            distance$$1 = distanceFromIntersectArea(r1, r2, current.size);\n\n        distances[left][right] = distances[right][left] = distance$$1;\n\n        // also update constraints to indicate if its a subset or disjoint\n        // relationship\n        var c = 0;\n        if (current.size + 1e-10 >= Math.min(sets[left].size,\n                                             sets[right].size)) {\n            c = 1;\n        } else if (current.size <= 1e-10) {\n            c = -1;\n        }\n        constraints[left][right] = constraints[right][left] = c;\n    });\n\n    return {distances: distances, constraints: constraints};\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n    var loss = 0, i;\n    for (i = 0; i < fxprime.length; ++i) {\n        fxprime[i] = 0;\n    }\n\n    for (i = 0; i < distances.length; ++i) {\n        var xi = x[2 * i], yi = x[2 * i + 1];\n        for (var j = i + 1; j < distances.length; ++j) {\n            var xj = x[2 * j], yj = x[2 * j + 1],\n                dij = distances[i][j],\n                constraint = constraints[i][j];\n\n            var squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n                distance$$1 = Math.sqrt(squaredDistance),\n                delta = squaredDistance - dij * dij;\n\n            if (((constraint > 0) && (distance$$1 <= dij)) ||\n                ((constraint < 0) && (distance$$1 >= dij))) {\n                continue;\n            }\n\n            loss += 2 * delta * delta;\n\n            fxprime[2*i]     += 4 * delta * (xi - xj);\n            fxprime[2*i + 1] += 4 * delta * (yi - yj);\n\n            fxprime[2*j]     += 4 * delta * (xj - xi);\n            fxprime[2*j + 1] += 4 * delta * (yj - yi);\n        }\n    }\n    return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nfunction bestInitialLayout(areas, params) {\n    var initial = greedyLayout(areas, params);\n    var loss = params.lossFunction || lossFunction;\n\n    // greedylayout is sufficient for all 2/3 circle cases. try out\n    // constrained MDS for higher order problems, take its output\n    // if it outperforms. (greedy is aesthetically better on 2/3 circles\n    // since it axis aligns)\n    if (areas.length >= 8) {\n        var constrained  = constrainedMDSLayout(areas, params),\n            constrainedLoss = loss(constrained, areas),\n            greedyLoss = loss(initial, areas);\n\n        if (constrainedLoss + 1e-8 < greedyLoss) {\n            initial = constrained;\n        }\n    }\n    return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nfunction constrainedMDSLayout(areas, params) {\n    params = params || {};\n    var restarts = params.restarts || 10;\n\n    // bidirectionally map sets to a rowid  (so we can create a matrix)\n    var sets = [], setids = {}, i;\n    for (i = 0; i < areas.length; ++i ) {\n        var area = areas[i];\n        if (area.sets.length == 1) {\n            setids[area.sets[0]] = sets.length;\n            sets.push(area);\n        }\n    }\n\n    var matrices = getDistanceMatrices(areas, sets, setids),\n        distances = matrices.distances,\n        constraints = matrices.constraints;\n\n    // keep distances bounded, things get messed up otherwise.\n    // TODO: proper preconditioner?\n    var norm = norm2(distances.map(norm2))/(distances.length);\n    distances = distances.map(function (row) {\n        return row.map(function (value) { return value / norm; });});\n\n    var obj = function(x, fxprime) {\n        return constrainedMDSGradient(x, fxprime, distances, constraints);\n    };\n\n    var best, current;\n    for (i = 0; i < restarts; ++i) {\n        var initial = zeros(distances.length*2).map(Math.random);\n\n        current = conjugateGradient(obj, initial, params);\n        if (!best || (current.fx < best.fx)) {\n            best = current;\n        }\n    }\n    var positions = best.x;\n\n    // translate rows back to (x,y,radius) coordinates\n    var circles = {};\n    for (i = 0; i < sets.length; ++i) {\n        var set = sets[i];\n        circles[set.sets[0]] = {\n            x: positions[2*i] * norm,\n            y: positions[2*i + 1] * norm,\n            radius:  Math.sqrt(set.size / Math.PI)\n        };\n    }\n\n    if (params.history) {\n        for (i = 0; i < params.history.length; ++i) {\n            scale(params.history[i].x, norm);\n        }\n    }\n    return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nfunction greedyLayout(areas, params) {\n    var loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n    // define a circle for each set\n    var circles = {}, setOverlaps = {}, set;\n    for (var i = 0; i < areas.length; ++i) {\n        var area = areas[i];\n        if (area.sets.length == 1) {\n            set = area.sets[0];\n            circles[set] = {x: 1e10, y: 1e10,\n                            rowid: circles.length,\n                            size: area.size,\n                            radius: Math.sqrt(area.size / Math.PI)};\n            setOverlaps[set] = [];\n        }\n    }\n    areas = areas.filter(function(a) { return a.sets.length == 2; });\n\n    // map each set to a list of all the other sets that overlap it\n    for (i = 0; i < areas.length; ++i) {\n        var current = areas[i];\n        var weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n        var left = current.sets[0], right = current.sets[1];\n\n        // completely overlapped circles shouldn't be positioned early here\n        if (current.size + SMALL$1 >= Math.min(circles[left].size,\n                                             circles[right].size)) {\n            weight = 0;\n        }\n\n        setOverlaps[left].push ({set:right, size:current.size, weight:weight});\n        setOverlaps[right].push({set:left,  size:current.size, weight:weight});\n    }\n\n    // get list of most overlapped sets\n    var mostOverlapped = [];\n    for (set in setOverlaps) {\n        if (setOverlaps.hasOwnProperty(set)) {\n            var size = 0;\n            for (i = 0; i < setOverlaps[set].length; ++i) {\n                size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n            }\n\n            mostOverlapped.push({set: set, size:size});\n        }\n    }\n\n    // sort by size desc\n    function sortOrder(a,b) {\n        return b.size - a.size;\n    }\n    mostOverlapped.sort(sortOrder);\n\n    // keep track of what sets have been laid out\n    var positioned = {};\n    function isPositioned(element) {\n        return element.set in positioned;\n    }\n\n    // adds a point to the output\n    function positionSet(point, index) {\n        circles[index].x = point.x;\n        circles[index].y = point.y;\n        positioned[index] = true;\n    }\n\n    // add most overlapped set at (0,0)\n    positionSet({x: 0, y: 0}, mostOverlapped[0].set);\n\n    // get distances between all points. TODO, necessary?\n    // answer: probably not\n    // var distances = venn.getDistanceMatrices(circles, areas).distances;\n    for (i = 1; i < mostOverlapped.length; ++i) {\n        var setIndex = mostOverlapped[i].set,\n            overlap = setOverlaps[setIndex].filter(isPositioned);\n        set = circles[setIndex];\n        overlap.sort(sortOrder);\n\n        if (overlap.length === 0) {\n            // this shouldn't happen anymore with addMissingAreas\n            throw \"ERROR: missing pairwise overlap information\";\n        }\n\n        var points = [];\n        for (var j = 0; j < overlap.length; ++j) {\n            // get appropriate distance from most overlapped already added set\n            var p1 = circles[overlap[j].set],\n                d1 = distanceFromIntersectArea(set.radius, p1.radius,\n                                               overlap[j].size);\n\n            // sample positions at 90 degrees for maximum aesthetics\n            points.push({x : p1.x + d1, y : p1.y});\n            points.push({x : p1.x - d1, y : p1.y});\n            points.push({y : p1.y + d1, x : p1.x});\n            points.push({y : p1.y - d1, x : p1.x});\n\n            // if we have at least 2 overlaps, then figure out where the\n            // set should be positioned analytically and try those too\n            for (var k = j + 1; k < overlap.length; ++k) {\n                var p2 = circles[overlap[k].set],\n                    d2 = distanceFromIntersectArea(set.radius, p2.radius,\n                                                   overlap[k].size);\n\n                var extraPoints = circleCircleIntersection(\n                    { x: p1.x, y: p1.y, radius: d1},\n                    { x: p2.x, y: p2.y, radius: d2});\n\n                for (var l = 0; l < extraPoints.length; ++l) {\n                    points.push(extraPoints[l]);\n                }\n            }\n        }\n\n        // we have some candidate positions for the set, examine loss\n        // at each position to figure out where to put it at\n        var bestLoss = 1e50, bestPoint = points[0];\n        for (j = 0; j < points.length; ++j) {\n            circles[setIndex].x = points[j].x;\n            circles[setIndex].y = points[j].y;\n            var localLoss = loss(circles, areas);\n            if (localLoss < bestLoss) {\n                bestLoss = localLoss;\n                bestPoint = points[j];\n            }\n        }\n\n        positionSet(bestPoint, setIndex);\n    }\n\n    return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nfunction lossFunction(sets, overlaps) {\n    var output = 0;\n\n    function getCircles(indices) {\n        return indices.map(function(i) { return sets[i]; });\n    }\n\n    for (var i = 0; i < overlaps.length; ++i) {\n        var area = overlaps[i], overlap;\n        if (area.sets.length == 1) {\n            continue;\n        } else if (area.sets.length == 2) {\n            var left = sets[area.sets[0]],\n                right = sets[area.sets[1]];\n            overlap = circleOverlap(left.radius, right.radius,\n                                    distance(left, right));\n        } else {\n            overlap = intersectionArea(getCircles(area.sets));\n        }\n\n        var weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n        output += weight * (overlap - area.size) * (overlap - area.size);\n    }\n\n    return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n    if (orientationOrder === null) {\n        circles.sort(function (a, b) { return b.radius - a.radius; });\n    } else {\n        circles.sort(orientationOrder);\n    }\n\n    var i;\n    // shift circles so largest circle is at (0, 0)\n    if (circles.length > 0) {\n        var largestX = circles[0].x,\n            largestY = circles[0].y;\n\n        for (i = 0; i < circles.length; ++i) {\n            circles[i].x -= largestX;\n            circles[i].y -= largestY;\n        }\n    }\n\n    if (circles.length == 2) {\n        // if the second circle is a subset of the first, arrange so that\n        // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n        var dist = distance(circles[0], circles[1]);\n        if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n            circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n            circles[1].y = circles[0].y;\n        }\n    }\n\n    // rotate circles so that second largest is at an angle of 'orientation'\n    // from largest\n    if (circles.length > 1) {\n        var rotation = Math.atan2(circles[1].x, circles[1].y) - orientation,\n            c = Math.cos(rotation),\n            s = Math.sin(rotation), x, y;\n\n        for (i = 0; i < circles.length; ++i) {\n            x = circles[i].x;\n            y = circles[i].y;\n            circles[i].x = c * x - s * y;\n            circles[i].y = s * x + c * y;\n        }\n    }\n\n    // mirror solution if third solution is above plane specified by\n    // first two circles\n    if (circles.length > 2) {\n        var angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n        while (angle < 0) { angle += 2* Math.PI; }\n        while (angle > 2*Math.PI) { angle -= 2* Math.PI; }\n        if (angle > Math.PI) {\n            var slope = circles[1].y / (1e-10 + circles[1].x);\n            for (i = 0; i < circles.length; ++i) {\n                var d = (circles[i].x + slope * circles[i].y) / (1 + slope*slope);\n                circles[i].x = 2 * d - circles[i].x;\n                circles[i].y = 2 * d * slope - circles[i].y;\n            }\n        }\n    }\n}\n\nfunction disjointCluster(circles) {\n    // union-find clustering to get disjoint sets\n    circles.map(function(circle) { circle.parent = circle; });\n\n    // path compression step in union find\n    function find(circle) {\n        if (circle.parent !== circle) {\n            circle.parent = find(circle.parent);\n        }\n        return circle.parent;\n    }\n\n    function union(x, y) {\n        var xRoot = find(x), yRoot = find(y);\n        xRoot.parent = yRoot;\n    }\n\n    // get the union of all overlapping sets\n    for (var i = 0; i < circles.length; ++i) {\n        for (var j = i + 1; j < circles.length; ++j) {\n            var maxDistance = circles[i].radius + circles[j].radius;\n            if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n                union(circles[j], circles[i]);\n            }\n        }\n    }\n\n    // find all the disjoint clusters and group them together\n    var disjointClusters = {}, setid;\n    for (i = 0; i < circles.length; ++i) {\n        setid = find(circles[i]).parent.setid;\n        if (!(setid in disjointClusters)) {\n            disjointClusters[setid] = [];\n        }\n        disjointClusters[setid].push(circles[i]);\n    }\n\n    // cleanup bookkeeping\n    circles.map(function(circle) { delete circle.parent; });\n\n    // return in more usable form\n    var ret = [];\n    for (setid in disjointClusters) {\n        if (disjointClusters.hasOwnProperty(setid)) {\n            ret.push(disjointClusters[setid]);\n        }\n    }\n    return ret;\n}\n\nfunction getBoundingBox(circles) {\n    var minMax = function(d) {\n        var hi = Math.max.apply(null, circles.map(\n                                function(c) { return c[d] + c.radius; } )),\n            lo = Math.min.apply(null, circles.map(\n                                function(c) { return c[d] - c.radius;} ));\n        return {max:hi, min:lo};\n    };\n\n    return {xRange: minMax('x'), yRange: minMax('y')};\n}\n\nfunction normalizeSolution(solution, orientation, orientationOrder) {\n    if (orientation === null){\n        orientation = Math.PI/2;\n    }\n\n    // work with a list instead of a dictionary, and take a copy so we\n    // don't mutate input\n    var circles = [], i, setid;\n    for (setid in solution) {\n        if (solution.hasOwnProperty(setid)) {\n            var previous = solution[setid];\n            circles.push({x: previous.x,\n                          y: previous.y,\n                          radius: previous.radius,\n                          setid: setid});\n        }\n    }\n\n    // get all the disjoint clusters\n    var clusters = disjointCluster(circles);\n\n    // orientate all disjoint sets, get sizes\n    for (i = 0; i < clusters.length; ++i) {\n        orientateCircles(clusters[i], orientation, orientationOrder);\n        var bounds = getBoundingBox(clusters[i]);\n        clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n        clusters[i].bounds = bounds;\n    }\n    clusters.sort(function(a, b) { return b.size - a.size; });\n\n    // orientate the largest at 0,0, and get the bounds\n    circles = clusters[0];\n    var returnBounds = circles.bounds;\n\n    var spacing = (returnBounds.xRange.max - returnBounds.xRange.min)/50;\n\n    function addCluster(cluster, right, bottom) {\n        if (!cluster) return;\n\n        var bounds = cluster.bounds, xOffset, yOffset, centreing;\n\n        if (right) {\n            xOffset = returnBounds.xRange.max  - bounds.xRange.min + spacing;\n        } else {\n            xOffset = returnBounds.xRange.max  - bounds.xRange.max;\n            centreing = (bounds.xRange.max - bounds.xRange.min) / 2 -\n                        (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n            if (centreing < 0) xOffset += centreing;\n        }\n\n        if (bottom) {\n            yOffset = returnBounds.yRange.max  - bounds.yRange.min + spacing;\n        } else {\n            yOffset = returnBounds.yRange.max  - bounds.yRange.max;\n            centreing = (bounds.yRange.max - bounds.yRange.min) / 2 -\n                        (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n            if (centreing < 0) yOffset += centreing;\n        }\n\n        for (var j = 0; j < cluster.length; ++j) {\n            cluster[j].x += xOffset;\n            cluster[j].y += yOffset;\n            circles.push(cluster[j]);\n        }\n    }\n\n    var index = 1;\n    while (index < clusters.length) {\n        addCluster(clusters[index], true, false);\n        addCluster(clusters[index+1], false, true);\n        addCluster(clusters[index+2], true, true);\n        index += 3;\n\n        // have one cluster (in top left). lay out next three relative\n        // to it in a grid\n        returnBounds = getBoundingBox(circles);\n    }\n\n    // convert back to solution form\n    var ret = {};\n    for (i = 0; i < circles.length; ++i) {\n        ret[circles[i].setid] = circles[i];\n    }\n    return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nfunction scaleSolution(solution, width, height, padding) {\n    var circles = [], setids = [];\n    for (var setid in solution) {\n        if (solution.hasOwnProperty(setid)) {\n            setids.push(setid);\n            circles.push(solution[setid]);\n        }\n    }\n\n    width -= 2*padding;\n    height -= 2*padding;\n\n    var bounds = getBoundingBox(circles),\n        xRange = bounds.xRange,\n        yRange = bounds.yRange;\n\n    if ((xRange.max == xRange.min) ||\n        (yRange.max == yRange.min)) {\n        console.log(\"not scaling solution: zero size detected\");\n        return solution;\n    }\n\n    var xScaling = width  / (xRange.max - xRange.min),\n        yScaling = height / (yRange.max - yRange.min),\n        scaling = Math.min(yScaling, xScaling),\n\n        // while we're at it, center the diagram too\n        xOffset = (width -  (xRange.max - xRange.min) * scaling) / 2,\n        yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n    var scaled = {};\n    for (var i = 0; i < circles.length; ++i) {\n        var circle = circles[i];\n        scaled[setids[i]] = {\n            radius: scaling * circle.radius,\n            x: padding + xOffset + (circle.x - xRange.min) * scaling,\n            y: padding + yOffset + (circle.y - yRange.min) * scaling,\n        };\n    }\n\n    return scaled;\n}\n\n/*global console:true*/\n\nfunction VennDiagram() {\n    var width = 600,\n        height = 350,\n        padding = 15,\n        duration = 1000,\n        orientation = Math.PI / 2,\n        normalize = true,\n        wrap = true,\n        styled = true,\n        fontSize = null,\n        orientationOrder = null,\n\n        // mimic the behaviour of d3.scale.category10 from the previous\n        // version of d3\n        colourMap = {},\n\n        // so this is the same as d3.schemeCategory10, which is only defined in d3 4.0\n        // since we can support older versions of d3 as long as we don't force this,\n        // I'm hackily redefining below. TODO: remove this and change to d3.schemeCategory10\n        colourScheme = [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\", \"#e377c2\", \"#7f7f7f\", \"#bcbd22\", \"#17becf\"],\n        colourIndex = 0,\n        colours = function(key) {\n            if (key in colourMap) {\n                return colourMap[key];\n            }\n            var ret = colourMap[key] = colourScheme[colourIndex];\n            colourIndex += 1;\n            if (colourIndex >= colourScheme.length) {\n                colourIndex = 0;\n            }\n            return ret;\n        },\n        layoutFunction = venn,\n        loss = lossFunction;\n\n\n    function chart(selection) {\n        var data = selection.datum();\n\n        // handle 0-sized sets by removing from input\n        var toremove = {};\n        data.forEach(function(datum) {\n            if ((datum.size == 0) && datum.sets.length == 1) {\n                toremove[datum.sets[0]] = 1;\n            }\n        });\n        data = data.filter(function(datum) {\n            return !datum.sets.some(function(set) { return set in toremove; });\n        });\n\n        var circles = {};\n        var textCentres = {};\n\n        if (data.length > 0) {\n            var solution = layoutFunction(data, {lossFunction: loss});\n\n            if (normalize) {\n                solution = normalizeSolution(solution,\n                                            orientation,\n                                            orientationOrder);\n            }\n\n            circles = scaleSolution(solution, width, height, padding);\n            textCentres = computeTextCentres(circles, data);\n        }\n\n        // Figure out the current label for each set. These can change\n        // and D3 won't necessarily update (fixes https://github.com/benfred/venn.js/issues/103)\n        var labels = {};\n        data.forEach(function(datum) {\n            if (datum.label) {\n                labels[datum.sets] = datum.label;\n            }\n        });\n\n        function label(d) {\n            if (d.sets in labels) {\n                return labels[d.sets];\n            }\n            if (d.sets.length == 1) {\n                return '' + d.sets[0];\n            }\n        }\n\n        // create svg if not already existing\n        selection.selectAll(\"svg\").data([circles]).enter().append(\"svg\");\n\n        var svg = selection.select(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height);\n\n        // to properly transition intersection areas, we need the\n        // previous circles locations. load from elements\n        var previous = {}, hasPrevious = false;\n        svg.selectAll(\".venn-area path\").each(function (d) {\n            var path = d3Selection.select(this).attr(\"d\");\n            if ((d.sets.length == 1) && path) {\n                hasPrevious = true;\n                previous[d.sets[0]] = circleFromPath(path);\n            }\n        });\n\n        // interpolate intersection area paths between previous and\n        // current paths\n        var pathTween = function(d) {\n            return function(t) {\n                var c = d.sets.map(function(set) {\n                    var start = previous[set], end = circles[set];\n                    if (!start) {\n                        start = {x : width/2, y : height/2, radius : 1};\n                    }\n                    if (!end) {\n                        end = {x : width/2, y : height/2, radius : 1};\n                    }\n                    return {'x' : start.x * (1 - t) + end.x * t,\n                            'y' : start.y * (1 - t) + end.y * t,\n                            'radius' : start.radius * (1 - t) + end.radius * t};\n                });\n                return intersectionAreaPath(c);\n            };\n        };\n\n        // update data, joining on the set ids\n        var nodes = svg.selectAll(\".venn-area\")\n            .data(data, function(d) { return d.sets; });\n\n        // create new nodes\n        var enter = nodes.enter()\n            .append('g')\n            .attr(\"class\", function(d) {\n                return \"venn-area venn-\" +\n                    (d.sets.length == 1 ? \"circle\" : \"intersection\");\n            })\n            .attr(\"data-venn-sets\", function(d) {\n                return d.sets.join(\"_\");\n            });\n\n        var enterPath = enter.append(\"path\"),\n            enterText = enter.append(\"text\")\n            .attr(\"class\", \"label\")\n            .text(function (d) { return label(d); } )\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"dy\", \".35em\")\n            .attr(\"x\", width/2)\n            .attr(\"y\", height/2);\n\n\n        // apply minimal style if wanted\n        if (styled) {\n            enterPath.style(\"fill-opacity\", \"0\")\n                .filter(function (d) { return d.sets.length == 1; } )\n                .style(\"fill\", function(d) { return colours(d.sets); })\n                .style(\"fill-opacity\", \".25\");\n\n            enterText\n                .style(\"fill\", function(d) { return d.sets.length == 1 ? colours(d.sets) : \"#444\"; });\n        }\n\n        // update existing, using pathTween if necessary\n        var update = selection;\n        if (hasPrevious) {\n            update = selection.transition(\"venn\").duration(duration);\n            update.selectAll(\"path\")\n                .attrTween(\"d\", pathTween);\n        } else {\n            update.selectAll(\"path\")\n                .attr(\"d\", function(d) {\n                    return intersectionAreaPath(d.sets.map(function (set) { return circles[set]; }));\n                });\n        }\n\n        var updateText = update.selectAll(\"text\")\n            .filter(function (d) { return d.sets in textCentres; })\n            .text(function (d) { return label(d); } )\n            .attr(\"x\", function(d) { return Math.floor(textCentres[d.sets].x);})\n            .attr(\"y\", function(d) { return Math.floor(textCentres[d.sets].y);});\n\n        if (wrap) {\n            if (hasPrevious) {\n                // d3 4.0 uses 'on' for events on transitions,\n                // but d3 3.0 used 'each' instead. switch appropiately\n                if ('on' in updateText) {\n                    updateText.on(\"end\", wrapText(circles, label));\n                } else {\n                    updateText.each(\"end\", wrapText(circles, label));\n                }\n            } else {\n                updateText.each(wrapText(circles, label));\n            }\n        }\n\n        // remove old\n        var exit = nodes.exit().transition('venn').duration(duration).remove();\n        exit.selectAll(\"path\")\n            .attrTween(\"d\", pathTween);\n\n        var exitText = exit.selectAll(\"text\")\n            .attr(\"x\", width/2)\n            .attr(\"y\", height/2);\n\n        // if we've been passed a fontSize explicitly, use it to\n        // transition\n        if (fontSize !== null) {\n            enterText.style(\"font-size\", \"0px\");\n            updateText.style(\"font-size\", fontSize);\n            exitText.style(\"font-size\", \"0px\");\n        }\n\n\n        return {'circles': circles,\n                'textCentres': textCentres,\n                'nodes': nodes,\n                'enter': enter,\n                'update': update,\n                'exit': exit};\n    }\n\n    chart.wrap = function(_) {\n        if (!arguments.length) return wrap;\n        wrap = _;\n        return chart;\n    };\n\n    chart.width = function(_) {\n        if (!arguments.length) return width;\n        width = _;\n        return chart;\n    };\n\n    chart.height = function(_) {\n        if (!arguments.length) return height;\n        height = _;\n        return chart;\n    };\n\n    chart.padding = function(_) {\n        if (!arguments.length) return padding;\n        padding = _;\n        return chart;\n    };\n\n    chart.colours = function(_) {\n        if (!arguments.length) return colours;\n        colours = _;\n        return chart;\n    };\n\n    chart.fontSize = function(_) {\n        if (!arguments.length) return fontSize;\n        fontSize = _;\n        return chart;\n    };\n\n    chart.duration = function(_) {\n        if (!arguments.length) return duration;\n        duration = _;\n        return chart;\n    };\n\n    chart.layoutFunction = function(_) {\n        if (!arguments.length) return layoutFunction;\n        layoutFunction = _;\n        return chart;\n    };\n\n    chart.normalize = function(_) {\n        if (!arguments.length) return normalize;\n        normalize = _;\n        return chart;\n    };\n\n    chart.styled = function(_) {\n        if (!arguments.length) return styled;\n        styled = _;\n        return chart;\n    };\n\n    chart.orientation = function(_) {\n        if (!arguments.length) return orientation;\n        orientation = _;\n        return chart;\n    };\n\n    chart.orientationOrder = function(_) {\n        if (!arguments.length) return orientationOrder;\n        orientationOrder = _;\n        return chart;\n    };\n\n    chart.lossFunction = function(_) {\n      if (!arguments.length) return loss;\n      loss = _;\n      return chart;\n    };\n\n    return chart;\n}\n// sometimes text doesn't fit inside the circle, if thats the case lets wrap\n// the text here such that it fits\n// todo: looks like this might be merged into d3 (\n// https://github.com/mbostock/d3/issues/1642),\n// also worth checking out is\n// http://engineering.findthebest.com/wrapping-axis-labels-in-d3-js/\n// this seems to be one of those things that should be easy but isn't\nfunction wrapText(circles, labeller) {\n    return function() {\n        var text = d3Selection.select(this),\n            data = text.datum(),\n            width = circles[data.sets[0]].radius || 50,\n            label = labeller(data) || '';\n\n            var words = label.split(/\\s+/).reverse(),\n            maxLines = 3,\n            minChars = (label.length + words.length) / maxLines,\n            word = words.pop(),\n            line = [word],\n            joined,\n            lineNumber = 0,\n            lineHeight = 1.1, // ems\n            tspan = text.text(null).append(\"tspan\").text(word);\n\n        while (true) {\n            word = words.pop();\n            if (!word) break;\n            line.push(word);\n            joined = line.join(\" \");\n            tspan.text(joined);\n            if (joined.length > minChars && tspan.node().getComputedTextLength() > width) {\n                line.pop();\n                tspan.text(line.join(\" \"));\n                line = [word];\n                tspan = text.append(\"tspan\").text(word);\n                lineNumber++;\n            }\n        }\n\n        var initial = 0.35 - lineNumber * lineHeight / 2,\n            x = text.attr(\"x\"),\n            y = text.attr(\"y\");\n\n        text.selectAll(\"tspan\")\n            .attr(\"x\", x)\n            .attr(\"y\", y)\n            .attr(\"dy\", function(d, i) {\n                 return (initial + i * lineHeight) + \"em\";\n            });\n    };\n}\n\nfunction circleMargin(current, interior, exterior) {\n    var margin = interior[0].radius - distance(interior[0], current), i, m;\n    for (i = 1; i < interior.length; ++i) {\n        m = interior[i].radius - distance(interior[i], current);\n        if (m <= margin) {\n            margin = m;\n        }\n    }\n\n    for (i = 0; i < exterior.length; ++i) {\n        m = distance(exterior[i], current) - exterior[i].radius;\n        if (m <= margin) {\n            margin = m;\n        }\n    }\n    return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nfunction computeTextCentre(interior, exterior) {\n    // get an initial estimate by sampling around the interior circles\n    // and taking the point with the biggest margin\n    var points = [], i;\n    for (i = 0; i < interior.length; ++i) {\n        var c = interior[i];\n        points.push({x: c.x, y: c.y});\n        points.push({x: c.x + c.radius/2, y: c.y});\n        points.push({x: c.x - c.radius/2, y: c.y});\n        points.push({x: c.x, y: c.y + c.radius/2});\n        points.push({x: c.x, y: c.y - c.radius/2});\n    }\n    var initial = points[0], margin = circleMargin(points[0], interior, exterior);\n    for (i = 1; i < points.length; ++i) {\n        var m = circleMargin(points[i], interior, exterior);\n        if (m >= margin) {\n            initial = points[i];\n            margin = m;\n        }\n    }\n\n    // maximize the margin numerically\n    var solution = nelderMead(\n                function(p) { return -1 * circleMargin({x: p[0], y: p[1]}, interior, exterior); },\n                [initial.x, initial.y],\n                {maxIterations:500, minErrorDelta:1e-10}).x;\n    var ret = {x: solution[0], y: solution[1]};\n\n    // check solution, fallback as needed (happens if fully overlapped\n    // etc)\n    var valid = true;\n    for (i = 0; i < interior.length; ++i) {\n        if (distance(ret, interior[i]) > interior[i].radius) {\n            valid = false;\n            break;\n        }\n    }\n\n    for (i = 0; i < exterior.length; ++i) {\n        if (distance(ret, exterior[i]) < exterior[i].radius) {\n            valid = false;\n            break;\n        }\n    }\n\n    if (!valid) {\n        if (interior.length == 1) {\n            ret = {x: interior[0].x, y: interior[0].y};\n        } else {\n            var areaStats = {};\n            intersectionArea(interior, areaStats);\n\n            if (areaStats.arcs.length === 0) {\n                ret = {'x': 0, 'y': -1000, disjoint:true};\n\n            } else if (areaStats.arcs.length == 1) {\n                ret = {'x': areaStats.arcs[0].circle.x,\n                       'y': areaStats.arcs[0].circle.y};\n\n            } else if (exterior.length) {\n                // try again without other circles\n                ret = computeTextCentre(interior, []);\n\n            } else {\n                // take average of all the points in the intersection\n                // polygon. this should basically never happen\n                // and has some issues:\n                // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n                ret = getCenter(areaStats.arcs.map(function (a) { return a.p1; }));\n            }\n        }\n    }\n\n    return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n    var ret = {}, circleids = [];\n    for (var circleid in circles) {\n        circleids.push(circleid);\n        ret[circleid] = [];\n    }\n    for (var i  = 0; i < circleids.length; i++) {\n        var a = circles[circleids[i]];\n        for (var j = i + 1; j < circleids.length; ++j) {\n            var b = circles[circleids[j]],\n                d = distance(a, b);\n\n            if (d + b.radius <= a.radius + 1e-10) {\n                ret[circleids[j]].push(circleids[i]);\n\n            } else if (d + a.radius <= b.radius + 1e-10) {\n                ret[circleids[i]].push(circleids[j]);\n            }\n        }\n    }\n    return ret;\n}\n\nfunction computeTextCentres(circles, areas) {\n    var ret = {}, overlapped = getOverlappingCircles(circles);\n    for (var i = 0; i < areas.length; ++i) {\n        var area = areas[i].sets, areaids = {}, exclude = {};\n        for (var j = 0; j < area.length; ++j) {\n            areaids[area[j]] = true;\n            var overlaps = overlapped[area[j]];\n            // keep track of any circles that overlap this area,\n            // and don't consider for purposes of computing the text\n            // centre\n            for (var k = 0; k < overlaps.length; ++k) {\n                exclude[overlaps[k]] = true;\n            }\n        }\n\n        var interior = [], exterior = [];\n        for (var setid in circles) {\n            if (setid in areaids) {\n                interior.push(circles[setid]);\n            } else if (!(setid in exclude)) {\n                exterior.push(circles[setid]);\n            }\n        }\n        var centre = computeTextCentre(interior, exterior);\n        ret[area] = centre;\n        if (centre.disjoint && (areas[i].size > 0)) {\n            console.log(\"WARNING: area \" + area + \" not represented on screen\");\n        }\n    }\n    return  ret;\n}\n\n// sorts all areas in the venn diagram, so that\n// a particular area is on top (relativeTo) - and\n// all other areas are so that the smallest areas are on top\nfunction sortAreas(div, relativeTo) {\n\n    // figure out sets that are completly overlapped by relativeTo\n    var overlaps = getOverlappingCircles(div.selectAll(\"svg\").datum());\n    var exclude = {};\n    for (var i = 0; i < relativeTo.sets.length; ++i) {\n        var check = relativeTo.sets[i];\n        for (var setid in overlaps) {\n            var overlap = overlaps[setid];\n            for (var j = 0; j < overlap.length; ++j) {\n                if (overlap[j] == check) {\n                    exclude[setid] = true;\n                    break;\n                }\n            }\n        }\n    }\n\n    // checks that all sets are in exclude;\n    function shouldExclude(sets) {\n        for (var i = 0; i < sets.length; ++i) {\n            if (!(sets[i] in exclude)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    // need to sort div's so that Z order is correct\n    div.selectAll(\"g\").sort(function (a, b) {\n        // highest order set intersections first\n        if (a.sets.length != b.sets.length) {\n            return a.sets.length - b.sets.length;\n        }\n\n        if (a == relativeTo) {\n            return shouldExclude(b.sets) ? -1 : 1;\n        }\n        if (b == relativeTo) {\n            return shouldExclude(a.sets) ? 1 : -1;\n        }\n\n        // finally by size\n        return b.size - a.size;\n    });\n}\n\nfunction circlePath(x, y, r) {\n    var ret = [];\n    ret.push(\"\\nM\", x, y);\n    ret.push(\"\\nm\", -r, 0);\n    ret.push(\"\\na\", r, r, 0, 1, 0, r *2, 0);\n    ret.push(\"\\na\", r, r, 0, 1, 0,-r *2, 0);\n    return ret.join(\" \");\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nfunction circleFromPath(path) {\n    var tokens = path.split(' ');\n    return {'x' : parseFloat(tokens[1]),\n            'y' : parseFloat(tokens[2]),\n            'radius' : -parseFloat(tokens[4])\n            };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nfunction intersectionAreaPath(circles) {\n    var stats = {};\n    intersectionArea(circles, stats);\n    var arcs = stats.arcs;\n\n    if (arcs.length === 0) {\n        return \"M 0 0\";\n\n    } else if (arcs.length == 1) {\n        var circle = arcs[0].circle;\n        return circlePath(circle.x, circle.y, circle.radius);\n\n    } else {\n        // draw path around arcs\n        var ret = [\"\\nM\", arcs[0].p2.x, arcs[0].p2.y];\n        for (var i = 0; i < arcs.length; ++i) {\n            var arc = arcs[i], r = arc.circle.radius, wide = arc.width > r;\n            ret.push(\"\\nA\", r, r, 0, wide ? 1 : 0, 1,\n                     arc.p1.x, arc.p1.y);\n        }\n        return ret.join(\" \");\n    }\n}\n\nexports.intersectionArea = intersectionArea;\nexports.circleCircleIntersection = circleCircleIntersection;\nexports.circleOverlap = circleOverlap;\nexports.circleArea = circleArea;\nexports.distance = distance;\nexports.venn = venn;\nexports.greedyLayout = greedyLayout;\nexports.scaleSolution = scaleSolution;\nexports.normalizeSolution = normalizeSolution;\nexports.bestInitialLayout = bestInitialLayout;\nexports.lossFunction = lossFunction;\nexports.disjointCluster = disjointCluster;\nexports.distanceFromIntersectArea = distanceFromIntersectArea;\nexports.VennDiagram = VennDiagram;\nexports.wrapText = wrapText;\nexports.computeTextCentres = computeTextCentres;\nexports.computeTextCentre = computeTextCentre;\nexports.sortAreas = sortAreas;\nexports.circlePath = circlePath;\nexports.circleFromPath = circleFromPath;\nexports.intersectionAreaPath = intersectionAreaPath;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","/*!\n * chartjs-plugin-datalabels v2.0.0\n * https://chartjs-plugin-datalabels.netlify.app\n * (c) 2017-2021 chartjs-plugin-datalabels contributors\n * Released under the MIT license\n */\nimport { isNullOrUndef, merge, toFont, resolve, toPadding, valueOrDefault, callback, isObject, each } from 'chart.js/helpers';\nimport { defaults as defaults$1, ArcElement, PointElement, BarElement } from 'chart.js';\n\nvar devicePixelRatio = (function() {\n  if (typeof window !== 'undefined') {\n    if (window.devicePixelRatio) {\n      return window.devicePixelRatio;\n    }\n\n    // devicePixelRatio is undefined on IE10\n    // https://stackoverflow.com/a/20204180/8837887\n    // https://github.com/chartjs/chartjs-plugin-datalabels/issues/85\n    var screen = window.screen;\n    if (screen) {\n      return (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1);\n    }\n  }\n\n  return 1;\n}());\n\nvar utils = {\n  // @todo move this in Chart.helpers.toTextLines\n  toTextLines: function(inputs) {\n    var lines = [];\n    var input;\n\n    inputs = [].concat(inputs);\n    while (inputs.length) {\n      input = inputs.pop();\n      if (typeof input === 'string') {\n        lines.unshift.apply(lines, input.split('\\n'));\n      } else if (Array.isArray(input)) {\n        inputs.push.apply(inputs, input);\n      } else if (!isNullOrUndef(inputs)) {\n        lines.unshift('' + input);\n      }\n    }\n\n    return lines;\n  },\n\n  // @todo move this in Chart.helpers.canvas.textSize\n  // @todo cache calls of measureText if font doesn't change?!\n  textSize: function(ctx, lines, font) {\n    var items = [].concat(lines);\n    var ilen = items.length;\n    var prev = ctx.font;\n    var width = 0;\n    var i;\n\n    ctx.font = font.string;\n\n    for (i = 0; i < ilen; ++i) {\n      width = Math.max(ctx.measureText(items[i]).width, width);\n    }\n\n    ctx.font = prev;\n\n    return {\n      height: ilen * font.lineHeight,\n      width: width\n    };\n  },\n\n  /**\n   * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\n   * @todo move this method in Chart.helpers.bound\n   * https://doc.qt.io/qt-5/qtglobal.html#qBound\n   */\n  bound: function(min, value, max) {\n    return Math.max(min, Math.min(value, max));\n  },\n\n  /**\n   * Returns an array of pair [value, state] where state is:\n   * * -1: value is only in a0 (removed)\n   * *  1: value is only in a1 (added)\n   */\n  arrayDiff: function(a0, a1) {\n    var prev = a0.slice();\n    var updates = [];\n    var i, j, ilen, v;\n\n    for (i = 0, ilen = a1.length; i < ilen; ++i) {\n      v = a1[i];\n      j = prev.indexOf(v);\n\n      if (j === -1) {\n        updates.push([v, 1]);\n      } else {\n        prev.splice(j, 1);\n      }\n    }\n\n    for (i = 0, ilen = prev.length; i < ilen; ++i) {\n      updates.push([prev[i], -1]);\n    }\n\n    return updates;\n  },\n\n  /**\n   * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\n   */\n  rasterize: function(v) {\n    return Math.round(v * devicePixelRatio) / devicePixelRatio;\n  }\n};\n\nfunction orient(point, origin) {\n  var x0 = origin.x;\n  var y0 = origin.y;\n\n  if (x0 === null) {\n    return {x: 0, y: -1};\n  }\n  if (y0 === null) {\n    return {x: 1, y: 0};\n  }\n\n  var dx = point.x - x0;\n  var dy = point.y - y0;\n  var ln = Math.sqrt(dx * dx + dy * dy);\n\n  return {\n    x: ln ? dx / ln : 0,\n    y: ln ? dy / ln : -1\n  };\n}\n\nfunction aligned(x, y, vx, vy, align) {\n  switch (align) {\n  case 'center':\n    vx = vy = 0;\n    break;\n  case 'bottom':\n    vx = 0;\n    vy = 1;\n    break;\n  case 'right':\n    vx = 1;\n    vy = 0;\n    break;\n  case 'left':\n    vx = -1;\n    vy = 0;\n    break;\n  case 'top':\n    vx = 0;\n    vy = -1;\n    break;\n  case 'start':\n    vx = -vx;\n    vy = -vy;\n    break;\n  case 'end':\n    // keep natural orientation\n    break;\n  default:\n    // clockwise rotation (in degree)\n    align *= (Math.PI / 180);\n    vx = Math.cos(align);\n    vy = Math.sin(align);\n    break;\n  }\n\n  return {\n    x: x,\n    y: y,\n    vx: vx,\n    vy: vy\n  };\n}\n\n// Line clipping (CohenSutherland algorithm)\n// https://en.wikipedia.org/wiki/CohenSutherland_algorithm\n\nvar R_INSIDE = 0;\nvar R_LEFT = 1;\nvar R_RIGHT = 2;\nvar R_BOTTOM = 4;\nvar R_TOP = 8;\n\nfunction region(x, y, rect) {\n  var res = R_INSIDE;\n\n  if (x < rect.left) {\n    res |= R_LEFT;\n  } else if (x > rect.right) {\n    res |= R_RIGHT;\n  }\n  if (y < rect.top) {\n    res |= R_TOP;\n  } else if (y > rect.bottom) {\n    res |= R_BOTTOM;\n  }\n\n  return res;\n}\n\nfunction clipped(segment, area) {\n  var x0 = segment.x0;\n  var y0 = segment.y0;\n  var x1 = segment.x1;\n  var y1 = segment.y1;\n  var r0 = region(x0, y0, area);\n  var r1 = region(x1, y1, area);\n  var r, x, y;\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    if (!(r0 | r1) || (r0 & r1)) {\n      // both points inside or on the same side: no clipping\n      break;\n    }\n\n    // at least one point is outside\n    r = r0 || r1;\n\n    if (r & R_TOP) {\n      x = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0);\n      y = area.top;\n    } else if (r & R_BOTTOM) {\n      x = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0);\n      y = area.bottom;\n    } else if (r & R_RIGHT) {\n      y = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0);\n      x = area.right;\n    } else if (r & R_LEFT) {\n      y = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0);\n      x = area.left;\n    }\n\n    if (r === r0) {\n      x0 = x;\n      y0 = y;\n      r0 = region(x0, y0, area);\n    } else {\n      x1 = x;\n      y1 = y;\n      r1 = region(x1, y1, area);\n    }\n  }\n\n  return {\n    x0: x0,\n    x1: x1,\n    y0: y0,\n    y1: y1\n  };\n}\n\nfunction compute$1(range, config) {\n  var anchor = config.anchor;\n  var segment = range;\n  var x, y;\n\n  if (config.clamp) {\n    segment = clipped(segment, config.area);\n  }\n\n  if (anchor === 'start') {\n    x = segment.x0;\n    y = segment.y0;\n  } else if (anchor === 'end') {\n    x = segment.x1;\n    y = segment.y1;\n  } else {\n    x = (segment.x0 + segment.x1) / 2;\n    y = (segment.y0 + segment.y1) / 2;\n  }\n\n  return aligned(x, y, range.vx, range.vy, config.align);\n}\n\nvar positioners = {\n  arc: function(el, config) {\n    var angle = (el.startAngle + el.endAngle) / 2;\n    var vx = Math.cos(angle);\n    var vy = Math.sin(angle);\n    var r0 = el.innerRadius;\n    var r1 = el.outerRadius;\n\n    return compute$1({\n      x0: el.x + vx * r0,\n      y0: el.y + vy * r0,\n      x1: el.x + vx * r1,\n      y1: el.y + vy * r1,\n      vx: vx,\n      vy: vy\n    }, config);\n  },\n\n  point: function(el, config) {\n    var v = orient(el, config.origin);\n    var rx = v.x * el.options.radius;\n    var ry = v.y * el.options.radius;\n\n    return compute$1({\n      x0: el.x - rx,\n      y0: el.y - ry,\n      x1: el.x + rx,\n      y1: el.y + ry,\n      vx: v.x,\n      vy: v.y\n    }, config);\n  },\n\n  bar: function(el, config) {\n    var v = orient(el, config.origin);\n    var x = el.x;\n    var y = el.y;\n    var sx = 0;\n    var sy = 0;\n\n    if (el.horizontal) {\n      x = Math.min(el.x, el.base);\n      sx = Math.abs(el.base - el.x);\n    } else {\n      y = Math.min(el.y, el.base);\n      sy = Math.abs(el.base - el.y);\n    }\n\n    return compute$1({\n      x0: x,\n      y0: y + sy,\n      x1: x + sx,\n      y1: y,\n      vx: v.x,\n      vy: v.y\n    }, config);\n  },\n\n  fallback: function(el, config) {\n    var v = orient(el, config.origin);\n\n    return compute$1({\n      x0: el.x,\n      y0: el.y,\n      x1: el.x,\n      y1: el.y,\n      vx: v.x,\n      vy: v.y\n    }, config);\n  }\n};\n\nvar rasterize = utils.rasterize;\n\nfunction boundingRects(model) {\n  var borderWidth = model.borderWidth || 0;\n  var padding = model.padding;\n  var th = model.size.height;\n  var tw = model.size.width;\n  var tx = -tw / 2;\n  var ty = -th / 2;\n\n  return {\n    frame: {\n      x: tx - padding.left - borderWidth,\n      y: ty - padding.top - borderWidth,\n      w: tw + padding.width + borderWidth * 2,\n      h: th + padding.height + borderWidth * 2\n    },\n    text: {\n      x: tx,\n      y: ty,\n      w: tw,\n      h: th\n    }\n  };\n}\n\nfunction getScaleOrigin(el, context) {\n  var scale = context.chart.getDatasetMeta(context.datasetIndex).vScale;\n\n  if (!scale) {\n    return null;\n  }\n\n  if (scale.xCenter !== undefined && scale.yCenter !== undefined) {\n    return {x: scale.xCenter, y: scale.yCenter};\n  }\n\n  var pixel = scale.getBasePixel();\n  return el.horizontal ?\n    {x: pixel, y: null} :\n    {x: null, y: pixel};\n}\n\nfunction getPositioner(el) {\n  if (el instanceof ArcElement) {\n    return positioners.arc;\n  }\n  if (el instanceof PointElement) {\n    return positioners.point;\n  }\n  if (el instanceof BarElement) {\n    return positioners.bar;\n  }\n  return positioners.fallback;\n}\n\nfunction drawRoundedRect(ctx, x, y, w, h, radius) {\n  var HALF_PI = Math.PI / 2;\n\n  if (radius) {\n    var r = Math.min(radius, h / 2, w / 2);\n    var left = x + r;\n    var top = y + r;\n    var right = x + w - r;\n    var bottom = y + h - r;\n\n    ctx.moveTo(x, top);\n    if (left < right && top < bottom) {\n      ctx.arc(left, top, r, -Math.PI, -HALF_PI);\n      ctx.arc(right, top, r, -HALF_PI, 0);\n      ctx.arc(right, bottom, r, 0, HALF_PI);\n      ctx.arc(left, bottom, r, HALF_PI, Math.PI);\n    } else if (left < right) {\n      ctx.moveTo(left, y);\n      ctx.arc(right, top, r, -HALF_PI, HALF_PI);\n      ctx.arc(left, top, r, HALF_PI, Math.PI + HALF_PI);\n    } else if (top < bottom) {\n      ctx.arc(left, top, r, -Math.PI, 0);\n      ctx.arc(left, bottom, r, 0, Math.PI);\n    } else {\n      ctx.arc(left, top, r, -Math.PI, Math.PI);\n    }\n    ctx.closePath();\n    ctx.moveTo(x, y);\n  } else {\n    ctx.rect(x, y, w, h);\n  }\n}\n\nfunction drawFrame(ctx, rect, model) {\n  var bgColor = model.backgroundColor;\n  var borderColor = model.borderColor;\n  var borderWidth = model.borderWidth;\n\n  if (!bgColor && (!borderColor || !borderWidth)) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  drawRoundedRect(\n    ctx,\n    rasterize(rect.x) + borderWidth / 2,\n    rasterize(rect.y) + borderWidth / 2,\n    rasterize(rect.w) - borderWidth,\n    rasterize(rect.h) - borderWidth,\n    model.borderRadius);\n\n  ctx.closePath();\n\n  if (bgColor) {\n    ctx.fillStyle = bgColor;\n    ctx.fill();\n  }\n\n  if (borderColor && borderWidth) {\n    ctx.strokeStyle = borderColor;\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = 'miter';\n    ctx.stroke();\n  }\n}\n\nfunction textGeometry(rect, align, font) {\n  var h = font.lineHeight;\n  var w = rect.w;\n  var x = rect.x;\n  var y = rect.y + h / 2;\n\n  if (align === 'center') {\n    x += w / 2;\n  } else if (align === 'end' || align === 'right') {\n    x += w;\n  }\n\n  return {\n    h: h,\n    w: w,\n    x: x,\n    y: y\n  };\n}\n\nfunction drawTextLine(ctx, text, cfg) {\n  var shadow = ctx.shadowBlur;\n  var stroked = cfg.stroked;\n  var x = rasterize(cfg.x);\n  var y = rasterize(cfg.y);\n  var w = rasterize(cfg.w);\n\n  if (stroked) {\n    ctx.strokeText(text, x, y, w);\n  }\n\n  if (cfg.filled) {\n    if (shadow && stroked) {\n      // Prevent drawing shadow on both the text stroke and fill, so\n      // if the text is stroked, remove the shadow for the text fill.\n      ctx.shadowBlur = 0;\n    }\n\n    ctx.fillText(text, x, y, w);\n\n    if (shadow && stroked) {\n      ctx.shadowBlur = shadow;\n    }\n  }\n}\n\nfunction drawText(ctx, lines, rect, model) {\n  var align = model.textAlign;\n  var color = model.color;\n  var filled = !!color;\n  var font = model.font;\n  var ilen = lines.length;\n  var strokeColor = model.textStrokeColor;\n  var strokeWidth = model.textStrokeWidth;\n  var stroked = strokeColor && strokeWidth;\n  var i;\n\n  if (!ilen || (!filled && !stroked)) {\n    return;\n  }\n\n  // Adjust coordinates based on text alignment and line height\n  rect = textGeometry(rect, align, font);\n\n  ctx.font = font.string;\n  ctx.textAlign = align;\n  ctx.textBaseline = 'middle';\n  ctx.shadowBlur = model.textShadowBlur;\n  ctx.shadowColor = model.textShadowColor;\n\n  if (filled) {\n    ctx.fillStyle = color;\n  }\n  if (stroked) {\n    ctx.lineJoin = 'round';\n    ctx.lineWidth = strokeWidth;\n    ctx.strokeStyle = strokeColor;\n  }\n\n  for (i = 0, ilen = lines.length; i < ilen; ++i) {\n    drawTextLine(ctx, lines[i], {\n      stroked: stroked,\n      filled: filled,\n      w: rect.w,\n      x: rect.x,\n      y: rect.y + rect.h * i\n    });\n  }\n}\n\nvar Label = function(config, ctx, el, index) {\n  var me = this;\n\n  me._config = config;\n  me._index = index;\n  me._model = null;\n  me._rects = null;\n  me._ctx = ctx;\n  me._el = el;\n};\n\nmerge(Label.prototype, {\n  /**\n   * @private\n   */\n  _modelize: function(display, lines, config, context) {\n    var me = this;\n    var index = me._index;\n    var font = toFont(resolve([config.font, {}], context, index));\n    var color = resolve([config.color, defaults$1.color], context, index);\n\n    return {\n      align: resolve([config.align, 'center'], context, index),\n      anchor: resolve([config.anchor, 'center'], context, index),\n      area: context.chart.chartArea,\n      backgroundColor: resolve([config.backgroundColor, null], context, index),\n      borderColor: resolve([config.borderColor, null], context, index),\n      borderRadius: resolve([config.borderRadius, 0], context, index),\n      borderWidth: resolve([config.borderWidth, 0], context, index),\n      clamp: resolve([config.clamp, false], context, index),\n      clip: resolve([config.clip, false], context, index),\n      color: color,\n      display: display,\n      font: font,\n      lines: lines,\n      offset: resolve([config.offset, 0], context, index),\n      opacity: resolve([config.opacity, 1], context, index),\n      origin: getScaleOrigin(me._el, context),\n      padding: toPadding(resolve([config.padding, 0], context, index)),\n      positioner: getPositioner(me._el),\n      rotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180),\n      size: utils.textSize(me._ctx, lines, font),\n      textAlign: resolve([config.textAlign, 'start'], context, index),\n      textShadowBlur: resolve([config.textShadowBlur, 0], context, index),\n      textShadowColor: resolve([config.textShadowColor, color], context, index),\n      textStrokeColor: resolve([config.textStrokeColor, color], context, index),\n      textStrokeWidth: resolve([config.textStrokeWidth, 0], context, index)\n    };\n  },\n\n  update: function(context) {\n    var me = this;\n    var model = null;\n    var rects = null;\n    var index = me._index;\n    var config = me._config;\n    var value, label, lines;\n\n    // We first resolve the display option (separately) to avoid computing\n    // other options in case the label is hidden (i.e. display: false).\n    var display = resolve([config.display, true], context, index);\n\n    if (display) {\n      value = context.dataset.data[index];\n      label = valueOrDefault(callback(config.formatter, [value, context]), value);\n      lines = isNullOrUndef(label) ? [] : utils.toTextLines(label);\n\n      if (lines.length) {\n        model = me._modelize(display, lines, config, context);\n        rects = boundingRects(model);\n      }\n    }\n\n    me._model = model;\n    me._rects = rects;\n  },\n\n  geometry: function() {\n    return this._rects ? this._rects.frame : {};\n  },\n\n  rotation: function() {\n    return this._model ? this._model.rotation : 0;\n  },\n\n  visible: function() {\n    return this._model && this._model.opacity;\n  },\n\n  model: function() {\n    return this._model;\n  },\n\n  draw: function(chart, center) {\n    var me = this;\n    var ctx = chart.ctx;\n    var model = me._model;\n    var rects = me._rects;\n    var area;\n\n    if (!this.visible()) {\n      return;\n    }\n\n    ctx.save();\n\n    if (model.clip) {\n      area = model.area;\n      ctx.beginPath();\n      ctx.rect(\n        area.left,\n        area.top,\n        area.right - area.left,\n        area.bottom - area.top);\n      ctx.clip();\n    }\n\n    ctx.globalAlpha = utils.bound(0, model.opacity, 1);\n    ctx.translate(rasterize(center.x), rasterize(center.y));\n    ctx.rotate(model.rotation);\n\n    drawFrame(ctx, rects.frame, model);\n    drawText(ctx, model.lines, rects.text, model);\n\n    ctx.restore();\n  }\n});\n\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991; // eslint-disable-line es/no-number-minsafeinteger\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;  // eslint-disable-line es/no-number-maxsafeinteger\n\nfunction rotated(point, center, angle) {\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n  var cx = center.x;\n  var cy = center.y;\n\n  return {\n    x: cx + cos * (point.x - cx) - sin * (point.y - cy),\n    y: cy + sin * (point.x - cx) + cos * (point.y - cy)\n  };\n}\n\nfunction projected(points, axis) {\n  var min = MAX_INTEGER;\n  var max = MIN_INTEGER;\n  var origin = axis.origin;\n  var i, pt, vx, vy, dp;\n\n  for (i = 0; i < points.length; ++i) {\n    pt = points[i];\n    vx = pt.x - origin.x;\n    vy = pt.y - origin.y;\n    dp = axis.vx * vx + axis.vy * vy;\n    min = Math.min(min, dp);\n    max = Math.max(max, dp);\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n}\n\nfunction toAxis(p0, p1) {\n  var vx = p1.x - p0.x;\n  var vy = p1.y - p0.y;\n  var ln = Math.sqrt(vx * vx + vy * vy);\n\n  return {\n    vx: (p1.x - p0.x) / ln,\n    vy: (p1.y - p0.y) / ln,\n    origin: p0,\n    ln: ln\n  };\n}\n\nvar HitBox = function() {\n  this._rotation = 0;\n  this._rect = {\n    x: 0,\n    y: 0,\n    w: 0,\n    h: 0\n  };\n};\n\nmerge(HitBox.prototype, {\n  center: function() {\n    var r = this._rect;\n    return {\n      x: r.x + r.w / 2,\n      y: r.y + r.h / 2\n    };\n  },\n\n  update: function(center, rect, rotation) {\n    this._rotation = rotation;\n    this._rect = {\n      x: rect.x + center.x,\n      y: rect.y + center.y,\n      w: rect.w,\n      h: rect.h\n    };\n  },\n\n  contains: function(point) {\n    var me = this;\n    var margin = 1;\n    var rect = me._rect;\n\n    point = rotated(point, me.center(), -me._rotation);\n\n    return !(point.x < rect.x - margin\n      || point.y < rect.y - margin\n      || point.x > rect.x + rect.w + margin * 2\n      || point.y > rect.y + rect.h + margin * 2);\n  },\n\n  // Separating Axis Theorem\n  // https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n  intersects: function(other) {\n    var r0 = this._points();\n    var r1 = other._points();\n    var axes = [\n      toAxis(r0[0], r0[1]),\n      toAxis(r0[0], r0[3])\n    ];\n    var i, pr0, pr1;\n\n    if (this._rotation !== other._rotation) {\n      // Only separate with r1 axis if the rotation is different,\n      // else it's enough to separate r0 and r1 with r0 axis only!\n      axes.push(\n        toAxis(r1[0], r1[1]),\n        toAxis(r1[0], r1[3])\n      );\n    }\n\n    for (i = 0; i < axes.length; ++i) {\n      pr0 = projected(r0, axes[i]);\n      pr1 = projected(r1, axes[i]);\n\n      if (pr0.max < pr1.min || pr1.max < pr0.min) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\n   * @private\n   */\n  _points: function() {\n    var me = this;\n    var rect = me._rect;\n    var angle = me._rotation;\n    var center = me.center();\n\n    return [\n      rotated({x: rect.x, y: rect.y}, center, angle),\n      rotated({x: rect.x + rect.w, y: rect.y}, center, angle),\n      rotated({x: rect.x + rect.w, y: rect.y + rect.h}, center, angle),\n      rotated({x: rect.x, y: rect.y + rect.h}, center, angle)\n    ];\n  }\n});\n\nfunction coordinates(el, model, geometry) {\n  var point = model.positioner(el, model);\n  var vx = point.vx;\n  var vy = point.vy;\n\n  if (!vx && !vy) {\n    // if aligned center, we don't want to offset the center point\n    return {x: point.x, y: point.y};\n  }\n\n  var w = geometry.w;\n  var h = geometry.h;\n\n  // take in account the label rotation\n  var rotation = model.rotation;\n  var dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation));\n  var dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation));\n\n  // scale the unit vector (vx, vy) to get at least dx or dy equal to\n  // w or h respectively (else we would calculate the distance to the\n  // ellipse inscribed in the bounding rect)\n  var vs = 1 / Math.max(Math.abs(vx), Math.abs(vy));\n  dx *= vx * vs;\n  dy *= vy * vs;\n\n  // finally, include the explicit offset\n  dx += model.offset * vx;\n  dy += model.offset * vy;\n\n  return {\n    x: point.x + dx,\n    y: point.y + dy\n  };\n}\n\nfunction collide(labels, collider) {\n  var i, j, s0, s1;\n\n  // IMPORTANT Iterate in the reverse order since items at the end of the\n  // list have an higher weight/priority and thus should be less impacted\n  // by the overlapping strategy.\n\n  for (i = labels.length - 1; i >= 0; --i) {\n    s0 = labels[i].$layout;\n\n    for (j = i - 1; j >= 0 && s0._visible; --j) {\n      s1 = labels[j].$layout;\n\n      if (s1._visible && s0._box.intersects(s1._box)) {\n        collider(s0, s1);\n      }\n    }\n  }\n\n  return labels;\n}\n\nfunction compute(labels) {\n  var i, ilen, label, state, geometry, center, proxy;\n\n  // Initialize labels for overlap detection\n  for (i = 0, ilen = labels.length; i < ilen; ++i) {\n    label = labels[i];\n    state = label.$layout;\n\n    if (state._visible) {\n      // Chart.js 3 removed el._model in favor of getProps(), making harder to\n      // abstract reading values in positioners. Also, using string arrays to\n      // read values (i.e. var {a,b,c} = el.getProps([\"a\",\"b\",\"c\"])) would make\n      // positioners inefficient in the normal case (i.e. not the final values)\n      // and the code a bit ugly, so let's use a Proxy instead.\n      proxy = new Proxy(label._el, {get: (el, p) => el.getProps([p], true)[p]});\n\n      geometry = label.geometry();\n      center = coordinates(proxy, label.model(), geometry);\n      state._box.update(center, geometry, label.rotation());\n    }\n  }\n\n  // Auto hide overlapping labels\n  return collide(labels, function(s0, s1) {\n    var h0 = s0._hidable;\n    var h1 = s1._hidable;\n\n    if ((h0 && h1) || h1) {\n      s1._visible = false;\n    } else if (h0) {\n      s0._visible = false;\n    }\n  });\n}\n\nvar layout = {\n  prepare: function(datasets) {\n    var labels = [];\n    var i, j, ilen, jlen, label;\n\n    for (i = 0, ilen = datasets.length; i < ilen; ++i) {\n      for (j = 0, jlen = datasets[i].length; j < jlen; ++j) {\n        label = datasets[i][j];\n        labels.push(label);\n        label.$layout = {\n          _box: new HitBox(),\n          _hidable: false,\n          _visible: true,\n          _set: i,\n          _idx: j\n        };\n      }\n    }\n\n    // TODO New `z` option: labels with a higher z-index are drawn\n    // of top of the ones with a lower index. Lowest z-index labels\n    // are also discarded first when hiding overlapping labels.\n    labels.sort(function(a, b) {\n      var sa = a.$layout;\n      var sb = b.$layout;\n\n      return sa._idx === sb._idx\n        ? sb._set - sa._set\n        : sb._idx - sa._idx;\n    });\n\n    this.update(labels);\n\n    return labels;\n  },\n\n  update: function(labels) {\n    var dirty = false;\n    var i, ilen, label, model, state;\n\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      label = labels[i];\n      model = label.model();\n      state = label.$layout;\n      state._hidable = model && model.display === 'auto';\n      state._visible = label.visible();\n      dirty |= state._hidable;\n    }\n\n    if (dirty) {\n      compute(labels);\n    }\n  },\n\n  lookup: function(labels, point) {\n    var i, state;\n\n    // IMPORTANT Iterate in the reverse order since items at the end of\n    // the list have an higher z-index, thus should be picked first.\n\n    for (i = labels.length - 1; i >= 0; --i) {\n      state = labels[i].$layout;\n\n      if (state && state._visible && state._box.contains(point)) {\n        return labels[i];\n      }\n    }\n\n    return null;\n  },\n\n  draw: function(chart, labels) {\n    var i, ilen, label, state, geometry, center;\n\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      label = labels[i];\n      state = label.$layout;\n\n      if (state._visible) {\n        geometry = label.geometry();\n        center = coordinates(label._el, label.model(), geometry);\n        state._box.update(center, geometry, label.rotation());\n        label.draw(chart, center);\n      }\n    }\n  }\n};\n\nvar formatter = function(value) {\n  if (isNullOrUndef(value)) {\n    return null;\n  }\n\n  var label = value;\n  var keys, klen, k;\n  if (isObject(value)) {\n    if (!isNullOrUndef(value.label)) {\n      label = value.label;\n    } else if (!isNullOrUndef(value.r)) {\n      label = value.r;\n    } else {\n      label = '';\n      keys = Object.keys(value);\n      for (k = 0, klen = keys.length; k < klen; ++k) {\n        label += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]];\n      }\n    }\n  }\n\n  return '' + label;\n};\n\n/**\n * IMPORTANT: make sure to also update tests and TypeScript definition\n * files (`/test/specs/defaults.spec.js` and `/types/options.d.ts`)\n */\n\nvar defaults = {\n  align: 'center',\n  anchor: 'center',\n  backgroundColor: null,\n  borderColor: null,\n  borderRadius: 0,\n  borderWidth: 0,\n  clamp: false,\n  clip: false,\n  color: undefined,\n  display: true,\n  font: {\n    family: undefined,\n    lineHeight: 1.2,\n    size: undefined,\n    style: undefined,\n    weight: null\n  },\n  formatter: formatter,\n  labels: undefined,\n  listeners: {},\n  offset: 4,\n  opacity: 1,\n  padding: {\n    top: 4,\n    right: 4,\n    bottom: 4,\n    left: 4\n  },\n  rotation: 0,\n  textAlign: 'start',\n  textStrokeColor: undefined,\n  textStrokeWidth: 0,\n  textShadowBlur: 0,\n  textShadowColor: undefined\n};\n\n/**\n * @see https://github.com/chartjs/Chart.js/issues/4176\n */\n\nvar EXPANDO_KEY = '$datalabels';\nvar DEFAULT_KEY = '$default';\n\nfunction configure(dataset, options) {\n  var override = dataset.datalabels;\n  var listeners = {};\n  var configs = [];\n  var labels, keys;\n\n  if (override === false) {\n    return null;\n  }\n  if (override === true) {\n    override = {};\n  }\n\n  options = merge({}, [options, override]);\n  labels = options.labels || {};\n  keys = Object.keys(labels);\n  delete options.labels;\n\n  if (keys.length) {\n    keys.forEach(function(key) {\n      if (labels[key]) {\n        configs.push(merge({}, [\n          options,\n          labels[key],\n          {_key: key}\n        ]));\n      }\n    });\n  } else {\n    // Default label if no \"named\" label defined.\n    configs.push(options);\n  }\n\n  // listeners: {<event-type>: {<label-key>: <fn>}}\n  listeners = configs.reduce(function(target, config) {\n    each(config.listeners || {}, function(fn, event) {\n      target[event] = target[event] || {};\n      target[event][config._key || DEFAULT_KEY] = fn;\n    });\n\n    delete config.listeners;\n    return target;\n  }, {});\n\n  return {\n    labels: configs,\n    listeners: listeners\n  };\n}\n\nfunction dispatchEvent(chart, listeners, label) {\n  if (!listeners) {\n    return;\n  }\n\n  var context = label.$context;\n  var groups = label.$groups;\n  var callback$1;\n\n  if (!listeners[groups._set]) {\n    return;\n  }\n\n  callback$1 = listeners[groups._set][groups._key];\n  if (!callback$1) {\n    return;\n  }\n\n  if (callback(callback$1, [context]) === true) {\n    // Users are allowed to tweak the given context by injecting values that can be\n    // used in scriptable options to display labels differently based on the current\n    // event (e.g. highlight an hovered label). That's why we update the label with\n    // the output context and schedule a new chart render by setting it dirty.\n    chart[EXPANDO_KEY]._dirty = true;\n    label.update(context);\n  }\n}\n\nfunction dispatchMoveEvents(chart, listeners, previous, label) {\n  var enter, leave;\n\n  if (!previous && !label) {\n    return;\n  }\n\n  if (!previous) {\n    enter = true;\n  } else if (!label) {\n    leave = true;\n  } else if (previous !== label) {\n    leave = enter = true;\n  }\n\n  if (leave) {\n    dispatchEvent(chart, listeners.leave, previous);\n  }\n  if (enter) {\n    dispatchEvent(chart, listeners.enter, label);\n  }\n}\n\nfunction handleMoveEvents(chart, event) {\n  var expando = chart[EXPANDO_KEY];\n  var listeners = expando._listeners;\n  var previous, label;\n\n  if (!listeners.enter && !listeners.leave) {\n    return;\n  }\n\n  if (event.type === 'mousemove') {\n    label = layout.lookup(expando._labels, event);\n  } else if (event.type !== 'mouseout') {\n    return;\n  }\n\n  previous = expando._hovered;\n  expando._hovered = label;\n  dispatchMoveEvents(chart, listeners, previous, label);\n}\n\nfunction handleClickEvents(chart, event) {\n  var expando = chart[EXPANDO_KEY];\n  var handlers = expando._listeners.click;\n  var label = handlers && layout.lookup(expando._labels, event);\n  if (label) {\n    dispatchEvent(chart, handlers, label);\n  }\n}\n\nvar plugin = {\n  id: 'datalabels',\n\n  defaults: defaults,\n\n  beforeInit: function(chart) {\n    chart[EXPANDO_KEY] = {\n      _actives: []\n    };\n  },\n\n  beforeUpdate: function(chart) {\n    var expando = chart[EXPANDO_KEY];\n    expando._listened = false;\n    expando._listeners = {};     // {<event-type>: {<dataset-index>: {<label-key>: <fn>}}}\n    expando._datasets = [];      // per dataset labels: [Label[]]\n    expando._labels = [];        // layouted labels: Label[]\n  },\n\n  afterDatasetUpdate: function(chart, args, options) {\n    var datasetIndex = args.index;\n    var expando = chart[EXPANDO_KEY];\n    var labels = expando._datasets[datasetIndex] = [];\n    var visible = chart.isDatasetVisible(datasetIndex);\n    var dataset = chart.data.datasets[datasetIndex];\n    var config = configure(dataset, options);\n    var elements = args.meta.data || [];\n    var ctx = chart.ctx;\n    var i, j, ilen, jlen, cfg, key, el, label;\n\n    ctx.save();\n\n    for (i = 0, ilen = elements.length; i < ilen; ++i) {\n      el = elements[i];\n      el[EXPANDO_KEY] = [];\n\n      if (visible && el && chart.getDataVisibility(i) && !el.skip) {\n        for (j = 0, jlen = config.labels.length; j < jlen; ++j) {\n          cfg = config.labels[j];\n          key = cfg._key;\n\n          label = new Label(cfg, ctx, el, i);\n          label.$groups = {\n            _set: datasetIndex,\n            _key: key || DEFAULT_KEY\n          };\n          label.$context = {\n            active: false,\n            chart: chart,\n            dataIndex: i,\n            dataset: dataset,\n            datasetIndex: datasetIndex\n          };\n\n          label.update(label.$context);\n          el[EXPANDO_KEY].push(label);\n          labels.push(label);\n        }\n      }\n    }\n\n    ctx.restore();\n\n    // Store listeners at the chart level and per event type to optimize\n    // cases where no listeners are registered for a specific event.\n    merge(expando._listeners, config.listeners, {\n      merger: function(event, target, source) {\n        target[event] = target[event] || {};\n        target[event][args.index] = source[event];\n        expando._listened = true;\n      }\n    });\n  },\n\n  afterUpdate: function(chart, options) {\n    chart[EXPANDO_KEY]._labels = layout.prepare(\n      chart[EXPANDO_KEY]._datasets,\n      options);\n  },\n\n  // Draw labels on top of all dataset elements\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\n  afterDatasetsDraw: function(chart) {\n    layout.draw(chart, chart[EXPANDO_KEY]._labels);\n  },\n\n  beforeEvent: function(chart, args) {\n    // If there is no listener registered for this chart, `listened` will be false,\n    // meaning we can immediately ignore the incoming event and avoid useless extra\n    // computation for users who don't implement label interactions.\n    if (chart[EXPANDO_KEY]._listened) {\n      var event = args.event;\n      switch (event.type) {\n      case 'mousemove':\n      case 'mouseout':\n        handleMoveEvents(chart, event);\n        break;\n      case 'click':\n        handleClickEvents(chart, event);\n        break;\n      }\n    }\n  },\n\n  afterEvent: function(chart) {\n    var expando = chart[EXPANDO_KEY];\n    var previous = expando._actives;\n    var actives = expando._actives = chart.getActiveElements();\n    var updates = utils.arrayDiff(previous, actives);\n    var i, ilen, j, jlen, update, label, labels;\n\n    for (i = 0, ilen = updates.length; i < ilen; ++i) {\n      update = updates[i];\n      if (update[1]) {\n        labels = update[0].element[EXPANDO_KEY] || [];\n        for (j = 0, jlen = labels.length; j < jlen; ++j) {\n          label = labels[j];\n          label.$context.active = (update[1] === 1);\n          label.update(label.$context);\n        }\n      }\n    }\n\n    if (expando._dirty || updates.length) {\n      layout.update(expando._labels);\n      chart.render();\n    }\n\n    delete expando._dirty;\n  }\n};\n\nexport default plugin;\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n"],"sourceRoot":""}