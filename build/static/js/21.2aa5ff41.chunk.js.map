{"version":3,"sources":["containers/Common/Loader.js","assets/insulin.fasta","containers/Tools/InterPro.js"],"names":["LoaderComp","className","type","color","height","width","timeout","Modal","showModal","setShowModal","body","style","onClick","href","Attachments","download","InterPro","useState","interProFile","setInterProFile","loader","setLoader","msg","setMsg","setLoop","html","setHtml","startInterval","setStartInterval","setShowModalInfo","isError","setIsError","interproResponse","useSelector","data","homeReducer","interpro","dispatch","useDispatch","backend_url","config","useEffect","setInterval","interPro","console","log","interval","clearInterval","h","push","InforIcon","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","stateData","Loader","id","defaultMessage","htmlFor","rows","placeholder","accept","onChange","e","target","files","includes","length"],"mappings":"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","file":"static/js/21.2aa5ff41.chunk.js","sourcesContent":["import React from 'react'\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default function LoaderComp() {\r\n  return (\r\n      <div className=\"flex justify-center mt-12\">\r\n        <div className=\"bg-white shadow-md rounded-full\">\r\n          <Loader\r\n            type=\"TailSpin\"\r\n            color=\"#0c3c6a\"\r\n            height={80}\r\n            width={80}\r\n            timeout={3000000} //3 secs\r\n          />\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/insulin.cd0ada05.fasta\";","import React, { useState, useEffect } from \"react\";\n\nimport { interPro } from \"../../actions/api_actions\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport LoaderCmp from '../Common/Loader'\nimport config from \"../../config\";\nimport {FormattedMessage} from 'react-intl';\nimport Attachments from '../../assets/insulin.fasta'\n\nfunction Modal({ showModal, setShowModal, body }) {\n    return (\n      <>\n        {showModal ? (\n          <>\n            <div\n              className=\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\"\n            >\n              <div className=\"relative w-auto my-6 mx-auto max-w-3xl\">\n                {/*content*/}\n                <div className=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\" style={{width:'31vw'}}>\n                  {/*header*/}\n                  <div className=\"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t\">\n                    <h3 className=\"text-3xl font-semibold\">\n                      Interpro Sample File\n                    </h3>\n                    <button\n                      className=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\n                      onClick={() => setShowModal(false)}\n                    >\n                      <span className=\"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\">\n                        Ã—\n                      </span>\n                    </button>\n                  </div>\n                  {/*body*/}\n                  <div className=\"relative p-6 flex-auto\">\n                    <div className=\"my-4 text-2xl leading-relaxed\">\n                      <p>Click on the link to download sample file</p>\n                      <a href={Attachments} download className='text-blue-300'>Download</a>\n                    </div>\n                  </div>\n                  {/*footer*/}\n                  <div className=\"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b\">\n                    <button\n                      className=\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n                      type=\"button\"\n                      onClick={() => setShowModal(false)}\n                    >\n                      Close\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"opacity-25 fixed inset-0 z-40 bg-black\"></div>\n          </>\n        ) : null}\n      </>\n    );\n  }\n\n\nfunction InterPro() {\n    const [interProFile, setInterProFile] = useState();\n    const [loader, setLoader] = useState(false)\n    const [msg, setMsg] = useState('')\n    const [loop,setLoop] = useState(null)\n    const [html, setHtml] = useState([])\n    const [startInterval, setStartInterval] = useState(false)\n    const [showModalInfo, setShowModalInfo] = useState(false)\n    const [showModal, setShowModal] = useState(false)\n    const [isError, setIsError] = useState(false)\n    const interproResponse = useSelector((data) => data.homeReducer.interpro);    \n    const dispatch = useDispatch();\n    let backend_url = config['auth']\n    let InterProTool = (event) => {\n        setInterProFile(event.target.files[0])\n        \n    };\n\n\n    const setShowModalFunction = (stateData) => {\n        setShowModal(stateData)\n      }\n\n\n\n    let uploadFile = () => {\n        if(interProFile[\"name\"].includes(\".fasta\")){\n            setIsError(false)\n            setLoader(true)\n            dispatch(interPro(\"POST\", { \"file\": interProFile, \"filename\": interProFile[\"name\"] }));\n            setMsg('File Uploading, Please Wait......')\n        }\n        else{\n            setIsError(true)\n        }\n\n    };\n\n    useEffect(()=>{\n        if(startInterval){\n            setLoop(setInterval(() => {\n                dispatch(interPro(\"GET\", { \"container_name\": interproResponse['container_name']  }))\n            }, 10000));\n        }\n    },[startInterval])\n\n\n    useEffect(()=>{\n        if(interproResponse){\n            console.log('interproResponse',interproResponse);\n            if(interproResponse['status']==='running'){\n                setLoader(true)\n                setStartInterval(true)\n                setMsg('File Uploaded, Conversion Started.....')\n            }else{\n                setLoader(false)\n                setStartInterval(false)\n                setLoop(interval => {\n                    clearInterval(interval);\n                    return null;\n                });\n                let h = []\n                h.push(\n                    <>\n                        <div className='flex flex-row'>\n                            <div>\n                                Your Results are ready kindly click link to download &nbsp;\n                                <a className='text-blue-600 hover:text-blue-700 transition duration-300 ease-in-out mb-4'\n                                 href={backend_url+\"media/Interpro/files/\"+interproResponse['container_name']+\".tsv\"} \n                                 download={interproResponse['container_name']+\".tsv\"}>{interproResponse['container_name']}</a>\n                            </div>\n                            {/* <div>\n                                <p className='text-blue-400 hover:text-blue-500 transition duration-300 ease-in-out mb-4'>logs</p>\n                            </div> */}\n                        </div>\n                    </>\n                )\n                setHtml(h)\n            }\n        }\n    },[interproResponse])\n\n    const InforIcon = () => {\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n          </svg>\n        )\n      }\n\n    return (\n        <div>\n            <div>\n            {showModal && <Modal showModal={showModal} setShowModal={setShowModalFunction}/>}\n            </div>\n            <div>\n                <div className=\"flex justify-between\">\n                    <div></div>\n                <h1 className=\"text-center font-medium leading-tight text-5xl mt-4 mb-2 text-black-600 flex justify-center\">\n                    Interpro\n                </h1>\n                <div className=\"flex justify-end xs:pr-9 sm:pr-10 lg:pr-52\">\n                </div>\n              </div>\n              \n                <div className=\"py-5\">\n                    {!loader ?<section className=\"mt-2 flex flex-col items-center justify-center\">\n                        <div>\n                            <div\n                                className=\"bg-white p-8\"\n                                style={{\n                                    width: \"90rem\",\n                                }}\n                            >\n                                              <div className=\"flex flex-row-reverse m-4\">\n                <button onClick={() => setShowModalInfo(true)} className=\"has-tooltip bg-red-500 hover:bg-red-700 text-white text-center py-2 px-4 rounded-full h-14 w-14 inline-flex items-center\">\n                  <InforIcon />\n                </button>\n              </div>\n                                <p className=\"text-md leading-10 text-justify\">\n                                    <FormattedMessage id=\"InterproDesc\" defaultMessage=\" InterPro is a resource that provides functional analysis of protein sequences by classifying them into families and predicting the presence of domains and important sites.\n                                    To classify proteins, InterPro uses predictive models called signatures, provided by several collaborating databases that collectively make up the InterPro consortium\" />\n                                    \n                                </p>\n                            </div>\n                            <div\n                                className=\"bg-white p-8\"\n                                style={{\n                                    width: \"90rem\",\n                                }}\n                            >\n                                <div className=\"\">\n                                    \n                                    <div className=\"hidden\">\n                                        <label\n                                            htmlFor=\"message\"\n                                            className=\" py-2 block mb-2  text-md text-gray-900 dark:text-gray-400\"\n                                        >\n                                            Sequence, in FASTA format\n                                        </label>\n                                        <textarea\n                                            id=\"message\"\n                                            rows=\"4\"\n                                            className=\" w-full h-50  block text-md text-gray-900 \n                                            bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 \n                                            focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 \n                                            dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 \n                                            dark:focus:border-blue-500 p-8\"\n                                            placeholder=\"Enter your sequence\"\n                                        ></textarea>\n                                    </div>\n                                    <div>\n                                        <div className=\"flex \">\n                                            <div className=\"mb-3 w-96\">\n                                                <label\n                                                    htmlFor=\"FastaFile\"\n                                                    className=\"mx-2 my-2 form-label inline-block mb-2 text-gray-700 text-md\"\n                                                >\n                                                    <FormattedMessage id=\"UploadFile\" defaultMessage=\"Upload File\" />\n                                                </label>\n                                                <input\n                                                    className=\"text-md block w-full text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-outm-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none\"\n                                                    accept=\".fasta, .fna, .ffn, .faa, .frn, .fa\"\n                                                    type=\"file\"\n                                                    id=\"FastaFile\"\n                                                    onChange={(e)=>InterProTool(e)}\n                                                />\n                                            </div>\n                                        </div>\n                                        <button\n                                            className=\"bg-main-blue hover:bg-main-blue mb-3 lg:w-80 sm:w-40 lg:h-16 sm:h-16 xs:text-sm sm:text-xl lg:text-2xl text-white mt-4 font-bold py-2 px-4 border border-blue-700 rounded\"\n                                            onClick={uploadFile}\n                                        >\n                                            <FormattedMessage id=\"Submit\" defaultMessage=\"Submit\" />\n                                        </button>\n                                    </div>\n                                    {isError && <p>Upload only .fasta extension files</p> }\n                                </div>\n                            </div>\n                            <span className='text-base'>\n                                Note: protein sequence in .fasta format\n                            </span>\n                        </div>\n                    </section>:\n                    <>\n                        <LoaderCmp/>\n                        <p className='text-center'>\n                            {msg}\n                        </p>\n                    </>\n                    }\n                </div>\n                {html.length>0 && \n                    <section className=\"mt-2 flex flex-col items-center justify-center\">\n                        <div>\n                            <div className=\"bg-white p-8\" style={{width: \"90rem\"}}>\n                                {html}\n                            </div>\n                        </div>\n                    </section>\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default InterPro;\n"],"sourceRoot":""}