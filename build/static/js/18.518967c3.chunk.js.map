{"version":3,"sources":["containers/Common/Loader.js","containers/Common/HorizontalBarChart.js","containers/Common/StackedBarChart.js","containers/Common/boxplot.js","containers/Common/VerticalStackBarChart.js","containers/Common/Venn.js","containers/DataSummary/genomicCharyTypes.js","containers/DataSummary/GenomicInformation.js","containers/Common/Barchart.js","containers/Common/Piechart.js","containers/DataSummary/data.js","containers/DataSummary/ClinicalInformation.js","containers/DataSummary/AdvanceAnalysis/filter.js","containers/DataSummary/AdvanceAnalysis/index.js","containers/DataSummary/index.js"],"names":["LoaderComp","className","type","color","height","width","timeout","BarChartComp","data","chartRef","useRef","useEffect","labels","data_list","k","push","data_","current","Chart","datasets","label","backgroundColor","borderColor","borderWidth","borderRadius","options","indexAxis","plugins","legend","display","layout","padding","scales","y","beginAtZero","x","grid","drawBorder","drawOnChartArea","drawTicks","drawGraph","ref","id","StackBarChartComp","key","axis","option","stacked","register","registerables","Boxplot","elementRef","w","dt","document","getElementById","hasChildNodes","innerHTML","margin","svg","d3","append","attr","div","style","domains","max_d","i","length","Math","max","min","colors","sumstat","d3Collection","d","rollup","data_sorted","sort","q1","median","q3","interQuantileRange","entries","range","domain","paddingInner","paddingOuter","call","selectAll","p","enter","value","boxWidth","on","this","html","drawChart","getBoundingClientRect","VerticalStackBarChartComp","chartRef_1","left","VennCmp","sets","chart","venn","datum","select","tooltip","n","join","svgTmp","dTmp","xTmp","yTmp","dyTmp","parseFloat","textContent","dy","size","text","s","j","ht","transition","duration","chart_types","payload","GenomicInfo","summaryJson","useSelector","homeReducer","genomicData","useState","state","setState","loader","setLoader","dispatch","useDispatch","getGenomicInformation","visual_type","Object","keys","forEach","item","comp","prevState","setTimeout","Loader","Barchart","chart_type","title","useCallback","g_data","ct_type","ctx","getContext","position","element","parseInt","name","cnt","g_dat","t","hex_color","hex","replace","m","r","g","b","substring","match","map","hexToRgb","h","linear","na","split","c","isNaN","round","charAt","trim","convertToRGB","Piechart","gradeint_color","fma","tmp","dbf","turc","her2","ki","bmi","colorStart","colorEnd","colorCount","rgb","start","end","len","alpha","saida","generateColor","render","datalabels","formatter","val","dataIndex","responsive","ChartDataLabels","inputJson","ClinicalInformation","dataSummary","leftSide","setLeftSide","activeChartsList","setActiveChartsList","selected","setSelected","firstLoad","setFirstLoad","smallScreen","setSmallScreen","change_visual","e","target","dataset","checked","c_type","current_class_name","toggle_name","previous_class_name","classList","remove","add","loadChart","getDashboardDsummaryData","leftSideHtml","icon_type","chart_names","chart_inside_names","ac","itm","check","indexOf","htmlFor","defaultMessage","onClick","checkBoxFn","data-parent","onChange","opacity","switchButton","event","did","background","indx","splice","getAttribute","includes","parent_name","data-chart","defaultChecked","data-id","objDiv","scrollTop","scrollHeight","window","scroll","top","body","offsetHeight","behavior","setCheck","myRadios","getElementsByName","onclick","Filter","parentCallback","set_screen","project_id","selectState","setSelectState","filtersUi","setFiltersUi","setFilterHtml","userDefinedFilter","dataVisualizationReducer","setTotalSamples","filterJson","setFilterJson","totalSamplesS","samplesCount","totalCount","Keys","filterCondition","setFilterCondition","undefined","filterBoxes","sub","random","childElements","childelm","childHtml","inputHtml","checkbox","inputbox","selectFn","onKeyDown","preventDefault","placeholder","index","m_id","substr","from_0","from_","min_value","to_0","to_","max_value","checkboxselectFn","child_id","inputElements","querySelectorAll","changeFilterCondition","toggle_check","ckb","el","toggle_check_","input_boxes","il","abcd","AdvancedInfo","callback","filters","bool","small_screen","DataSummary","menuItems","setMenuItems","tab","useParams","querySelector","toggler","href","children","classes","to","tabTogglers","addEventListener","parentElement","toggleTab","LoadChart"],"mappings":"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","file":"static/js/18.518967c3.chunk.js","sourcesContent":["import React from 'react'\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default function LoaderComp() {\r\n  return (\r\n      <div className=\"flex justify-center mt-12\">\r\n        <div className=\"bg-white shadow-md rounded-full\">\r\n          <Loader\r\n            type=\"TailSpin\"\r\n            color=\"#0c3c6a\"\r\n            height={80}\r\n            width={80}\r\n            timeout={3000000} //3 secs\r\n          />\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n","import React, { useState,useEffect,useRef } from 'react';\r\nimport {Chart, registerables} from 'chart.js';\r\nChart.register(...registerables);\r\n\r\nexport default function BarChartComp({data}){\r\n    const chartRef = useRef(null);\r\n    const drawGraph = (labels, data_) => {\r\n      if(chartRef.current){\r\n        var myChart = new Chart(chartRef.current, {\r\n          type: 'bar',\r\n          data: {\r\n            labels: labels,\r\n            datasets: [{\r\n              label: '',\r\n              data: data_,\r\n              backgroundColor: [\r\n                  '#529d3f',\r\n                  '#d2352b',\r\n                  '#f18532',\r\n                  '#644195',\r\n                  '#3777af',\r\n                  '#c74a52',\r\n                  '#fffebc'\r\n              ],\r\n              borderColor: [\r\n                '#529d3f',\r\n                '#d2352b',\r\n                '#f18532',\r\n                '#644195',\r\n                '#3777af',\r\n                '#c74a52',\r\n                '#fffebc'\r\n              ],\r\n              borderWidth: 1,\r\n              borderRadius: 0\r\n            }]\r\n          },\r\n          options: {\r\n            indexAxis: 'y',\r\n            plugins:{\r\n              legend: {\r\n                display: false\r\n              }\r\n\r\n            },\r\n            layout:{\r\n              padding:20\r\n            },\r\n            scales: {\r\n              y: {\r\n                beginAtZero: true\r\n              },\r\n              x: {\r\n                grid: {\r\n                  display: true,\r\n                  drawBorder: true,\r\n                  drawOnChartArea: true,\r\n                  drawTicks: true,\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    useEffect(() => {\r\n      let labels = []\r\n      let data_list = []\r\n      for (var k in data){\r\n          labels.push(data[k]['name'])\r\n          data_list.push(data[k]['cnt'])\r\n      }\r\n      drawGraph(labels,data_list)\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <div>\r\n          <canvas ref={chartRef} id=\"myChart\" height=\"200\"></canvas>\r\n        </div>\r\n    )\r\n  }\r\n","import React, { useState,useEffect,useRef } from 'react';\r\nimport {Chart, registerables} from 'chart.js';\r\n\r\nChart.register(...registerables);\r\n\r\nexport default function StackBarChartComp({data, axis, key}){\r\n      const chartRef = useRef(null);\r\n\r\n      let option = {\r\n              plugins:{\r\n                legend: {\r\n                  display: false\r\n                }\r\n              },\r\n              indexAxis: 'y',\r\n              layout:{\r\n                padding:20\r\n              },\r\n              scales:{\r\n                x: {\r\n                  stacked: true,\r\n                },\r\n                y: {\r\n                  beginAtZero: true,\r\n                  stacked: true\r\n                }\r\n              }\r\n          }\r\n\r\n    const drawGraph = (labels, data_) => {\r\n        if(chartRef.current){\r\n          var myChart = new Chart(chartRef.current, {\r\n              type: 'bar',\r\n              data: {\r\n                  labels: labels,\r\n                  datasets: data_\r\n              },\r\n              options:option\r\n            });\r\n        }\r\n      }\r\n\r\n    useEffect(() => {\r\n      let datasets = data['datasets']\r\n      let labels = data['labels']\r\n      drawGraph(labels, datasets)\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <div>\r\n          <canvas ref={chartRef} id={key} height=\"200\"></canvas>\r\n        </div>\r\n    )\r\n  }\r\n","import React, { useState,useEffect,useRef } from 'react';\nimport * as d3 from 'd3'\n// import {nest} from 'd3-collection';\nimport * as d3Collection from 'd3-collection';\n\n\nexport default function Boxplot({data}) {\n  const elementRef = useRef(null);\n\n  const drawChart = (w,dt)=>{\n    var doc = document.getElementById('my_dataviz')\n    if(doc.hasChildNodes()){\n      document.getElementById('my_dataviz').innerHTML=''\n    }\n    // set the dimensions and margins of the graph\n    var margin = {top: 10, right: 30, bottom: 30, left: 40},\n        width = w - margin.left - margin.right,\n        height = 300 - margin.top - margin.bottom;\n\n    // append the svg object to the body of the page\n    var svg = d3.select(\"#my_dataviz\")\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\",\"translate(40,-40)\");\n\n    var div = d3.select(\"#my_dataviz\").append(\"div\").attr('class','boxplot_tooltip').style(\"opacity\", 0);\n    var data = dt\n\n    var domains = []\n    var max_d = []\n    for (var i = 0; i < data.length; i++) {\n      domains.push(data[i].label)\n      max_d.push(...data[i].data)\n    }\n    var max_vl = 10\n    var min_vl = 0\n    if(max_d.length>0){\n      max_vl = Math.max(...max_d)\n      min_vl = Math.min(...max_d)\n    }\n    var colors = {\n      'In_Frame_Del': '#1b4879',\n      'In_Frame_Ins': '#c74951',\n      'Frame_Shift_Del': '#603d92',\n      'Frame_Shift_Ins': '#3778ae',\n      'Nonsense_Mutation': '#d3352b',\n      'Splice_Site': '#f28432',\n      'Germline': '#000000',\n      'Missense_Mutation': '#549d3e'\n    }\n    var sumstat = d3Collection.nest() .key(function(d) { return d.label;})\n    .rollup(function(d) {\n      var d = d[0]\n      \n      var data_sorted = d['data'].sort(d3.ascending)\n      var q1 = d3.quantile(data_sorted,.25)\n      var median = d3.quantile(data_sorted,.5)\n      var q3 = d3.quantile(data_sorted,.75)\n      var interQuantileRange = q3 - q1\n      var min = q1 - 1.5 * interQuantileRange\n      var max = q3 + 1.5 * interQuantileRange\n      if(min<1){\n        min=2\n      }\n      return({'color':colors[d['label']],q1: q1, median: median, q3: q3, min: min, max: max})\n    })\n    .entries(data)\n\n        // Show the X scale\n     var x = d3.scaleBand()\n       .range([ 0, width ])\n       .domain(domains)\n       .paddingInner(1)\n       .paddingOuter(.5)\n\n     svg.append(\"g\")\n       .attr(\"transform\", \"translate(0,\" + height + \")\")\n       .call(d3.axisBottom(x))\n       .selectAll(\"text\")\n       .attr(\"y\", 0)\n       .attr(\"x\", 9)\n       .attr(\"dy\", \".35em\")\n       .attr(\"font-size\", \"0.8em\")\n       .attr(\"transform\", \"rotate(60)\")\n       .style(\"text-anchor\", \"start\");\n    \n\n      var y = d3.scaleLinear()\n              .domain([0, 400])\n              .range([height, 0])\n      svg.append(\"g\").call(d3.axisLeft(y))\n\n    for (var i = 0; i < sumstat.length; i++) {\n      var p = svg.append('g').attr('class','box').attr('id',i)\n      p.selectAll(\"vertLines\").data([sumstat[i]])\n      .enter()\n      .append(\"line\")\n      .attr(\"x1\", function(d){return(x(d.key))})\n      .attr(\"x2\", function(d){return(x(d.key))})\n      .attr(\"y1\", function(d){return(y(d.value.min))})\n      .attr(\"y2\", function(d){return(y(d.value.max))})\n      .attr(\"stroke\", function(d,i){\n        return d.value.color\n      })\n      .style(\"width\", 40)\n\n      var boxWidth = 50\n      p\n      .selectAll(\"boxes\")\n      .data([sumstat[i]])\n      .enter()\n      .append(\"rect\")\n          .attr(\"x\", function(d){return(x(d.key)-boxWidth/2)})\n          .attr(\"y\", function(d){return(y(d.value.q3))})\n          .attr(\"height\", function(d){return(y(d.value.q1)-y(d.value.q3))})\n          .attr(\"width\", boxWidth )\n          .attr(\"stroke\",function(d,i){\n            return d.value.color\n          })\n          .style(\"fill\", function(d,i){\n            return d.value.color\n          })\n      \n      \n      p\n      .selectAll(\"medianLines\")\n      .data([sumstat[i]])\n      .enter()\n      .append(\"line\")\n        .attr(\"x1\", function(d){return(x(d.key)-boxWidth/2) })\n        .attr(\"x2\", function(d){return(x(d.key)+boxWidth/2) })\n        .attr(\"y1\", function(d){return(y(d.value.median))})\n        .attr(\"y2\", function(d){return(y(d.value.median))})\n        .attr(\"stroke\", \"#fff\")\n        .style(\"width\", 80)\n      \n      p\n      .selectAll(\"medianLines\")\n      .data([sumstat[i]])\n      .enter()\n      .append(\"line\")\n        .attr(\"x1\", function(d){return(x(d.key)-boxWidth/2) })\n        .attr(\"x2\", function(d){return(x(d.key)+boxWidth/2) })\n        .attr(\"y1\", function(d){return(y(d.value.min))})\n        .attr(\"y2\", function(d){return(y(d.value.min))})\n        .attr(\"stroke\", function(d,i){\n          return d.value.color\n        })\n        .style(\"width\", 80)\n      \n      p\n      .selectAll(\"medianLines\")\n      .data([sumstat[i]])\n      .enter()\n      .append(\"line\")\n        .attr(\"x1\", function(d){return(x(d.key)-boxWidth/2) })\n        .attr(\"x2\", function(d){return(x(d.key)+boxWidth/2) })\n        .attr(\"y1\", function(d){return(y(d.value.max))})\n        .attr(\"y2\", function(d){return(y(d.value.max))})\n        .attr(\"stroke\", function(d,i){\n          return d.value.color\n        })\n        .style(\"width\", 80)\n      \n        p.on(\"mouseover\", function(d){\n          var id = this.id\n          var html = ''\n          for(var key in sumstat[id].value){\n            if(key!=='color'){\n              html +=key+\":\"+ sumstat[id].value[key]+\"<br/>\"\n            }\n          }\n          div.html(html)\n             .style(\"left\",\"50px\")\n             .style(\"top\", \"0px\")\n             .style(\"opacity\", 1);\n  \n        })\n        p.on(\"mouseleave\", function(d){\n          div.style(\"opacity\", 0);\n        })\n\n    }\n\n     \n  }\n\n  useEffect(()=>{\n    if(data){\n      let w = elementRef.current.getBoundingClientRect().width\n      drawChart(w,data)\n    }\n  },[data])\n  return (\n    <>\n      <div id=\"my_dataviz\" className='relative' ref={elementRef}></div>\n    </>\n  )\n}\n","import React, { useState,useEffect,useRef } from 'react';\r\nimport {Chart, registerables} from 'chart.js';\r\n\r\nChart.register(...registerables);\r\n\r\nexport default function VerticalStackBarChartComp({data, axis, key}){\r\n    const chartRef_1 = useRef(null);\r\n    let option = {\r\n              plugins:{\r\n                legend: {\r\n                  display: false\r\n                }\r\n              },\r\n              indexAxis: 'x',\r\n              layout: {\r\n               padding: {\r\n                 left: 20\r\n               }\r\n              },\r\n              scales:{\r\n                x: {\r\n                  stacked: true,\r\n                },\r\n                y: {\r\n                  stacked: true\r\n                }\r\n              }\r\n          }\r\n\r\n    const drawGraph = (labels, data_) => {\r\n        if(chartRef_1.current){\r\n          \r\n          var myChart = new Chart(chartRef_1.current, {\r\n              type: 'bar',\r\n              data: {\r\n                  labels: labels,\r\n                  datasets: data_\r\n              },\r\n              options:option\r\n            });\r\n        }\r\n      }\r\n\r\n    useEffect(() => {\r\n      let datasets = data['datasets']\r\n      let labels = data['labels']\r\n      drawGraph(labels, datasets)\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <div>\r\n          <canvas ref={chartRef_1} id={key} height=\"200\"></canvas>\r\n        </div>\r\n    )\r\n  }\r\n","import React, { useEffect, useRef } from \"react\";\r\n// var venn = require(\"venn\")\r\n// import {VennDiagram} from 'venn.js'\r\nimport * as venn from \"venn.js\";\r\nimport * as d3 from \"d3\";\r\nimport \"../../styles/survival.css\";\r\n\r\nexport default function VennCmp({ width, data = null }) {\r\n  useEffect(() => {\r\n    if (data) {\r\n      let sets = data;\r\n      \r\n      var chart = venn.VennDiagram().width(width);\r\n\r\n      var div = d3.select(\"#venn\").datum(sets).call(chart);\r\n\r\n      div.select(\"svg\").attr(\"class\", \"inline\");\r\n\r\n      var tooltip = d3\r\n        .select(\"body\")\r\n        .append(\"div\")\r\n        .attr(\"class\", \"venntooltip\");\r\n\r\n      div.selectAll(\"path\").style(\"stroke-opacity\", 0).style(\"stroke\", \"#fff\");\r\n\r\n      // chart.colours = ['#d2352b','#529d3f','#f18532']\r\n      let colors = {\r\n        \"Global Proteome\": \"#f18532\",\r\n        \"RNA Expression\": \"#d2352b\",\r\n        \"DNA Mutation\": \"#529d3f\",\r\n        \"Global Proteome_RNA Expression\": \"#c74a52\",\r\n        \"DNA Mutation_RNA Expression\": \"#b49cd6\",\r\n        \"RNA Expression_DNA Mutation\": \"#b49cd6\",\r\n        \"Global Proteome_DNA Mutation\": \"#3777af\",\r\n        \"Global Proteome_DNA Mutation_RNA Expression\": \"#fffebc\",\r\n      };\r\n      var div = d3.select(\"#venn\").datum(sets).call(chart);\r\n      var tooltip = d3\r\n        .select(\"body\")\r\n        .append(\"div\")\r\n        .attr(\"class\", \"venntooltip\");\r\n      div\r\n        .selectAll(\"path\")\r\n        .data(data)\r\n        .style(\"fill\", function (d, i) {\r\n          if (d[\"sets\"].length == 1) {\r\n            return colors[d[\"sets\"][0]];\r\n          } else {\r\n            let n = d[\"sets\"].join(\"_\");\r\n            return colors[n];\r\n          }\r\n        })\r\n        .style(\"fill-opacity\", 1);\r\n\r\n      div\r\n        .selectAll(\"text\")\r\n        .data(data)\r\n        .style(\"fill\", function (d, i) {\r\n          return \"#333\";\r\n        });\r\n      var svgTmp = d3.selectAll(\".venn-area\");\r\n      let dTmp = [];\r\n      let labels = svgTmp.selectAll(\".label\")[\"_groups\"];\r\n      if (labels.length > 0) {\r\n        for (let x = 0; x < labels.length; x++) {\r\n          let xTmp = labels[x][0][\"x\"][\"baseVal\"][0][\"valueAsString\"];\r\n          let yTmp = labels[x][0][\"y\"][\"baseVal\"][0][\"valueAsString\"];\r\n          let dyTmp = parseFloat(\r\n            labels[x][0][\"dy\"][\"baseVal\"][0][\"valueAsString\"]\r\n          );\r\n          if (labels[x][0].textContent) {\r\n            dyTmp = 2;\r\n          }\r\n          dTmp.push({\r\n            x: xTmp,\r\n            y: yTmp,\r\n            dy: dyTmp,\r\n            size: data[x].size,\r\n          });\r\n        }\r\n\r\n        svgTmp\r\n          .data(dTmp)\r\n          .append(\"text\")\r\n          .attr(\"class\", \"sam\")\r\n          .text(function (d) {\r\n            return d.size;\r\n          })\r\n          .attr(\"text-anchor\", \"middle\")\r\n          .attr(\"fill\", \"#333\")\r\n          .attr(\"dy\", function (d, i) {\r\n            return d.dy + \"em\";\r\n          })\r\n          .attr(\"x\", function (d, i) {\r\n            return d.x;\r\n          })\r\n          .attr(\"y\", function (d, i) {\r\n            return d.y;\r\n          });\r\n      }\r\n\r\n      div\r\n        .selectAll(\"g\")\r\n        .data(data)\r\n        .on(\"click\", function (d, i) {\r\n        })\r\n        .on(\"mouseover\", function (d, i) {\r\n          var s = i[\"sets\"];\r\n          var html = [];\r\n          for (var j = 0; j < s.length; j++) {\r\n            html.push(s[j]);\r\n          }\r\n          var ht = html.join(\"/\");\r\n          ht = ht + \"(\" + i.size + \")\";\r\n          tooltip.html(ht);\r\n          tooltip.transition().duration(40).style(\"opacity\", 1);\r\n        })\r\n        // .on(\"mousemove\", function(d) {\r\n        //     tooltip.style(\"left\", (d.pageX) + \"px\")\r\n        //            .style(\"top\", (d.pageY - 28) + \"px\");\r\n        // })\r\n        // .on(\"mouseout\", function(d, i) {\r\n        //   tooltip.transition().duration(2500).style(\"opacity\", 0);\r\n        // });\r\n    }\r\n  }, [width, data]);\r\n\r\n  return (\r\n    <div>\r\n      <div id=\"venn\" className=\"relative w-full block text-center\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import BarChartComp from \"../Common/HorizontalBarChart\"\r\nimport StackBarChartComp from \"../Common/StackedBarChart\"\r\nimport Boxplot from \"../Common/boxplot\"\r\n// import BoxPlot from \"../Common/BoxPlot\"\r\nimport VerticalStackBarChartComp from \"../Common/VerticalStackBarChart\"\r\nimport VennCmp from \"../Common/Venn\"\r\n\r\nconst chart_types = (type,payload,axis) => {\r\n  switch (type) {\r\n    case \"Bar\":\r\n      return <BarChartComp data={payload}/>\r\n    case \"stack_bar\":\r\n      return <StackBarChartComp data={payload} axis={axis}/>\r\n    case \"box_plot\":\r\n      return <Boxplot data={payload}/>\r\n    case \"vertical_stack_bar\":\r\n      return <VerticalStackBarChartComp data={payload} />\r\n    case \"Venn\":\r\n        return <VennCmp width={300} data={payload}/>\r\n    default:\r\n      return \"\"\r\n  }\r\n}\r\nexport default chart_types;\r\n","import React,{useState,useEffect,useRef } from \"react\";\r\nimport {\r\n  ChevronDownIcon,\r\n  ChevronUpIcon,\r\n  AdjustmentsIcon\r\n} from '@heroicons/react/outline'\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getGenomicInformation } from '../../actions/api_actions'\r\nimport chart_types from './genomicCharyTypes'\r\nimport LoaderCmp from '../Common/Loader';\r\nimport Loader from \"react-loader-spinner\";\r\n\r\n\r\nexport default function GenomicInfo() {\r\n  const summaryJson = useSelector((data) => data.homeReducer.genomicData);\r\n  const [state, setState] = useState({\"charts\":[]});\r\n  const [loader, setLoader] = useState(true)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    // if(!summaryJson){\r\n      dispatch(getGenomicInformation(\"POST\",\"\"))\r\n    // }\r\n  }, [dispatch])\r\n\r\n  let visual_type = {\r\n    \"Omics Sample Summary\":\"Venn\",\r\n    \"Variant Classification\":\"Bar\",\r\n    \"Variant Type\":\"Bar\",\r\n    \"SNV Class\":\"Bar\",\r\n    \"Top 10 Mutated Genes\":\"stack_bar\",\r\n    \"Variant Classification Summary\":'box_plot',\r\n    \"Variant per Sample\":\"vertical_stack_bar\",\r\n    \"Methylation\":\"vertical_stack_bar\",\r\n    \"Proteome\":\"vertical_stack_bar\",\r\n    \"Phospho\":\"vertical_stack_bar\"\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(summaryJson){\r\n      let html = []\r\n      Object.keys(summaryJson).forEach((item, k) => {\r\n        let type = visual_type[item]\r\n        let comp = ''\r\n        if(item === \"dna_per_sample\"){\r\n          comp = chart_types(type, summaryJson[item], \"x-axis\")\r\n        }\r\n        else{\r\n          comp = chart_types(type, summaryJson[item],'')\r\n        }\r\n\r\n        html.push(\r\n          <div key={'omics_'+k} className='max-w bg-white rounded overflow-hidden shadow-lg px-4 py-3 mb-5 mx-3 card-border'>\r\n            <div className=\"px-6 py-4\">\r\n              <div className=\"font-bold lg:text-2xl sm:text-xl md:text-xl mb-2\">{item}</div>\r\n            </div>\r\n            <div className=\"lg:px-6 md:px-3 sm:px-0 sm:pt-1 lg:pt-4 md:pt-1 pb-4\">\r\n              {comp}\r\n            </div>\r\n          </div>\r\n        )\r\n      })\r\n      setState((prevState)=>({\r\n        ...prevState,\r\n        'charts':html\r\n      }))\r\n\r\n      setTimeout(function() {\r\n          setLoader(false)\r\n      }, (1000));\r\n    }\r\n  },[summaryJson])\r\n\r\n  return (\r\n    <>\r\n    {\r\n      loader?\r\n        <LoaderCmp />\r\n      :\r\n      <div className=\"grid lg:grid-cols-3 sm:grid-cols-2 md:grid-cols-2 md:gap-3 lg:gap-6 sm:gap-3 mt-6\">\r\n        {state['charts']}\r\n      </div>\r\n    }\r\n    </>\r\n  )\r\n}\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport {Chart, registerables} from 'chart.js';\r\nChart.register(...registerables);\r\n\r\n\r\n\r\nexport default function Barchart({id,data,width,color, chart_type,title}) {\r\n  const hexToRgb = hex =>\r\n      hex.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i\r\n         ,(m, r, g, b) => '#' + r + r + g + g + b + b)\r\n         .substring(1).match(/.{2}/g)\r\n         .map(x => parseInt(x, 16))\r\n  const drawGraph = useCallback((g_data,ct_type) => {\r\n    var ctx = document.getElementById(id).getContext('2d');\r\n    var options = {\r\n      plugins:{\r\n        legend: {\r\n          display: false\r\n        },\r\n        title: {\r\n            display: true,\r\n            position: 'left',\r\n            text: ' # of samples ',\r\n        }\r\n      },\r\n      layout:{\r\n        padding:20\r\n      },\r\n      scales: {\r\n        x: {\r\n         grid: {\r\n           display: true,\r\n           drawBorder: true,\r\n           drawOnChartArea: true,\r\n           drawTicks: true,\r\n         },\r\n         title:{\r\n          display: true,\r\n          text: (title)?title:''\r\n         }\r\n        }\r\n      }\r\n    }\r\n    \r\n    new Chart(ctx, {\r\n        type: 'bar',\r\n        data: g_data,\r\n        options: options\r\n    });\r\n            \r\n\r\n  },[id, title])\r\n\r\n  useEffect(() => {\r\n    \r\n    if (data){\r\n      if(id==='chart_bar_BodyMassIndex'){\r\n        let d = {}\r\n        for (let i = 0; i < data.length; i++) {\r\n          const element = data[i];\r\n          let n = parseInt(element.name)\r\n          if(n in d){\r\n            d[n] = d[n]+element.cnt\r\n          }else{\r\n            d[n] = element.cnt\r\n          }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        data = []\r\n        for (const key in d) {\r\n          data.push({\"name\":key,\"cnt\":d[key]})\r\n        }\r\n      }\r\n      let g_dat = {\"labels\":[],\"datasets\":[]}\r\n      let t = []\r\n      let colors = []\r\n      let hex_color = hexToRgb(color)\r\n      let h = 'rgba('+hex_color[0]+','+hex_color[1]+','+hex_color[2]+','\r\n      let linear = 1\r\n      let na = ''\r\n      for (var i = 0; i < data.length; i++) {\r\n        if(data[i].name===null){\r\n          na = 'N/A'\r\n        }\r\n        else if(data[i].name===\"null\"){\r\n          na = 'N/A'\r\n        }\r\n        else if(data[i].name===\"\"){\r\n          na = 'N/A'\r\n        }\r\n        else if(data[i].name===\"N/A\"){\r\n          na = data[i].name\r\n        }\r\n        else{\r\n          g_dat['labels'].push(data[i].name)\r\n        }\r\n\r\n        if(na===\"N/A\"){\r\n          na += \"||\"+data[i].cnt\r\n          \r\n        }else{\r\n          t.push(data[i].cnt)\r\n        }\r\n        colors.push(h+linear+\")\")\r\n        \r\n        if(id!=='chart_bar_TCategory' && id!=='chart_bar_NCategory' && id!=='chart_bar_DurationofBreastfeeding' && id!=='chart_bar_Ki-67Index' && id!=='chart_bar_HER2Score' && id!=='chart_bar_Timeuntilrelapseisconfirmed' && id!=='chart_bar_FirstMenstrualAge' && id!=='chart_bar_AgeOfDaignosis' && id!==\"chart_bar_BodyMassIndex\"){\r\n          linear = linear-0.2\r\n        }\r\n      }\r\n      \r\n      if(na!==''){\r\n        na = na.split('||')\r\n        g_dat['labels'].push(na[0])\r\n        t.push(parseInt(na[1]))\r\n      }\r\n      \r\n      g_dat['datasets'].push({\r\n        data:t,\r\n        backgroundColor:colors,\r\n        borderRadius: 11\r\n      })\r\n      \r\n      drawGraph(g_dat, chart_type)\r\n    }\r\n  },[data,chart_type,color,drawGraph,id])\r\n  let w = width-20\r\n\r\n  return (\r\n    <div id={'parent'+id}>\r\n      <canvas id={id}  width={w} height=\"300\"></canvas>\r\n    </div>\r\n  )\r\n}\r\n","\r\nimport React, { useEffect } from 'react'\r\nimport {Chart, registerables} from 'chart.js';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nChart.register(...registerables);\r\n\r\nfunction hex (c) {\r\n  var s = \"0123456789abcdef\";\r\n  let i = parseInt (c);\r\n  if (i === 0 || isNaN (c))\r\n    return \"00\";\r\n  i = Math.round (Math.min (Math.max (0, i), 255));\r\n  return s.charAt ((i - i % 16) / 16) + s.charAt (i % 16);\r\n}\r\n\r\n/* Convert an RGB triplet to a hex string */\r\nfunction convertToHex (rgb) {\r\n  return \"#\"+hex(rgb[0]) + hex(rgb[1]) + hex(rgb[2]);\r\n}\r\n\r\n/* Remove '#' in color hex string */\r\nfunction trim (s) { return (s.charAt(0) === '#') ? s.substring(1, 7) : s }\r\n\r\n/* Convert a hex string to an RGB triplet */\r\nfunction convertToRGB (hex) {\r\n  var color = [];\r\n  color[0] = parseInt ((trim(hex)).substring (0, 2), 16);\r\n  color[1] = parseInt ((trim(hex)).substring (2, 4), 16);\r\n  color[2] = parseInt ((trim(hex)).substring (4, 6), 16);\r\n  return color;\r\n}\r\n\r\nfunction generateColor(colorStart,colorEnd,colorCount){\r\n\r\n  // The beginning of your gradient\r\n  var start = convertToRGB (colorStart);    \r\n\r\n  // The end of your gradient\r\n  var end   = convertToRGB (colorEnd);    \r\n\r\n  // The number of colors to compute\r\n  var len = colorCount;\r\n\r\n  //Alpha blending amount\r\n  var alpha = 0.0;\r\n\r\n  var saida = [];\r\n  \r\n  for (let i = 0; i < len; i++) {\r\n    var c = [];\r\n    alpha += (1.0/len);\r\n    \r\n    c[0] = start[0] * alpha + (1 - alpha) * end[0];\r\n    c[1] = start[1] * alpha + (1 - alpha) * end[1];\r\n    c[2] = start[2] * alpha + (1 - alpha) * end[2];\r\n\r\n    saida.push(convertToHex (c));\r\n    \r\n  }\r\n  \r\n  return saida;\r\n  \r\n}\r\n// labels:{\r\n//   generateLabels: function(chart) {\r\n//     var data = chart.data;\r\n//     var datasets = data['datasets'][0]\r\n    \r\n//     let l = data['labels']\r\n//     let tmp = []\r\n//     for (let index = 0; index < l.length; index++) {\r\n//       tmp.push({\r\n//         text: l[index]+\": (\"+datasets.data[index]+\")\",\r\n//         fillStyle: datasets.backgroundColor[index],\r\n//         strokeStyle: datasets.backgroundColor[index],\r\n//         lineWidth: 1,\r\n//         // hidden: isNaN(ds.data[i]) || meta.data[i].hidden,\r\n//         index: index\r\n//       })\r\n      \r\n//     }\r\n//     return tmp\r\n//   }\r\n// }\r\n\r\nexport default function Piechart({id,data,width,color,gradeint_color, chart_type}) {\r\n\r\n  const hexToRgb = hex =>\r\n      hex.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i\r\n         ,(m, r, g, b) => '#' + r + r + g + g + b + b)\r\n         .substring(1).match(/.{2}/g)\r\n         .map(x => parseInt(x, 16))\r\n\r\n  const drawGraph = (g_data,ct_type) => {\r\n    let ctx = document.getElementById(id).getContext('2d');\r\n\r\n    // let segment;\r\n    // let selectedIndex;\r\n    new Chart(ctx, {\r\n        type: 'pie',\r\n        data: g_data,\r\n        options: {\r\n          labels: {\r\n            render: 'label'\r\n          },\r\n          plugins:{\r\n            legend: {\r\n              display: true,\r\n              position:'bottom',\r\n              \r\n            },\r\n            datalabels: {\r\n              display: true,\r\n              formatter: (val, ctx) => {\r\n                return ctx.chart.data.labels[ctx.dataIndex];\r\n              },\r\n              color: '#fff',\r\n              // backgroundColor: '#404040'\r\n            },\r\n            \r\n            // datalabels: {\r\n\r\n              // formatter: (value, ctx) => {\r\n              //     // var data = chart.data;\r\n              //     let sum = 0;\r\n              //     let dataArr = ctx.chart.data;\r\n              //     // dataArr.map(data => {\r\n              //     //     sum += data;\r\n              //     // });\r\n              //     // let percentage = (value*100 / sum).toFixed(2)+\"%\";\r\n              //     return '';\r\n              // },\r\n              // color: '#fff',\r\n            // }\r\n          },\r\n          responsive: false,\r\n          layout:{\r\n            padding:20\r\n          }\r\n        },\r\n        plugins: [ChartDataLabels]\r\n    });\r\n  }\r\n\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n\r\n\r\n    if (data){\r\n      let g_dat = {\"labels\":[],\"datasets\":[]}\r\n      let t = []\r\n      let colors = []\r\n      let hex_color = hexToRgb(color)\r\n      let h = 'rgba('+hex_color[0]+','+hex_color[1]+','+hex_color[2]+','\r\n\r\n      let linear = 1\r\n      \r\n      if(id==='chart_pie_FirstMenstrualAge'){\r\n        let fma = {}\r\n        for (let i = 0; i < data.length; i++) {\r\n          let n = parseInt(data[i].name)\r\n          \r\n          let tmp =''\r\n          if (n>10 &&n<=13) {\r\n            tmp = '10~13'\r\n          }else if (n>14 &&n<=17) {\r\n            tmp='14~17'\r\n          }\r\n          if(tmp in fma) {\r\n            fma[tmp] += data[i].cnt\r\n          } else {\r\n            fma[tmp] = data[i].cnt\r\n          }\r\n        }\r\n        let d = []\r\n        for (let key in fma) {\r\n          d.push({\r\n            'name': key,\r\n            'cnt': fma[key]\r\n          })\r\n        }\r\n        data = d\r\n\r\n      }else if(id==='chart_pie_DurationofBreastfeeding'){\r\n        let dbf = {}\r\n        for (let i = 0; i < data.length; i++) {\r\n          let name = parseInt(data[i].name)\r\n          if(name<=12){\r\n            if('< 1year' in dbf){\r\n              dbf['< 1year'] = dbf['< 1year']+data[i].cnt\r\n            }else{\r\n              dbf['< 1year'] = data[i].cnt\r\n            }\r\n          }else if(name > 12){\r\n            dbf['1year ≤'] = data[i].cnt\r\n          }else{\r\n            dbf['N/A'] = data[i].cnt\r\n          }\r\n        }\r\n        let d = []\r\n        for (let key in dbf) {\r\n          d.push({\r\n            'name': key,\r\n            'cnt': dbf[key]\r\n          })\r\n        }\r\n        data = d\r\n      }\r\n      else if(id==='chart_pie_Timeuntilrelapseisconfirmed'){\r\n        let turc = {}\r\n        for (let i = 0; i < data.length; i++) {\r\n          let name = parseInt(data[i].name)\r\n          if(name<=9){\r\n            if('0~9' in turc){\r\n              turc['0~9'] = turc['0~9']+data[i].cnt\r\n            }else{\r\n              turc['0~9'] = data[i].cnt\r\n            }\r\n          }else{\r\n            turc[name] = data[i].cnt\r\n          }\r\n        }\r\n        let d = []\r\n        for (let key in turc) {\r\n          d.push({\r\n            'name': key,\r\n            'cnt': turc[key]\r\n          })\r\n        }\r\n        data = d\r\n      }\r\n      else if(id==='chart_pie_HER2Score'){\r\n        let her2 = {}\r\n        for (let i = 0; i < data.length; i++) {\r\n          let name = data[i].name\r\n          if(name===\"0\"||name===\"0~1\"||name===\"1+\"){\r\n            if ('negative(0-1+)' in her2){\r\n              her2['negative(0-1+)'] = her2['negative(0-1+)']+data[i].cnt\r\n            }else{\r\n              her2['negative(0-1+)'] = data[i].cnt\r\n            }\r\n          }else if(name===\"2\"||name===\"2+\"){\r\n            if ('equivocal(2+)' in her2){\r\n              her2['equivocal(2+)'] = her2['equivocal(2+)']+data[i].cnt\r\n            }else{\r\n              her2['equivocal(2+)'] = data[i].cnt\r\n            }\r\n          }else if(name===\"3\"||name===\"3+\"){\r\n            if ('positive(3+)' in her2){\r\n              her2['positive(3+)'] = her2['positive(3+)']+data[i].cnt\r\n            }else{\r\n              her2['positive(3+)'] = data[i].cnt\r\n            }\r\n          }else{\r\n            if ('N/A' in her2){\r\n              her2['N/A'] = her2['N/A']+data[i].cnt\r\n            }else{\r\n              her2['N/A'] = data[i].cnt\r\n            }\r\n          }\r\n        }\r\n        let d = []\r\n        for (let key in her2) {\r\n          d.push({\r\n            'name': key,\r\n            'cnt': her2[key]\r\n          })\r\n        }\r\n        data = d\r\n      }\r\n      else if(id===\"chart_pie_Ki-67Index\"){\r\n        let ki = {}\r\n        for (let i = 0; i < data.length; i++) {\r\n          let name = parseInt(data[i].name)\r\n          if(name>0 && name<15){\r\n            if ('low(≤15%)' in ki){\r\n              ki['low(≤15%)'] = ki['low(≤15%)']+data[i].cnt\r\n            }else{\r\n              ki['low(≤15%)'] = data[i].cnt\r\n            }\r\n          }else if(name>15 && name<30){\r\n            if ('intermediate (<15-30%≤)' in ki){\r\n              ki['intermediate (<15-30%≤)'] = ki['intermediate (<15-30%≤)']+data[i].cnt\r\n            }else{\r\n              ki['intermediate (<15-30%≤)'] = data[i].cnt\r\n            }\r\n          }else if(name>30 && name<100){\r\n            if ('high (30%<)' in ki){\r\n              ki['high (30%<)'] = ki['high (30%<)']+data[i].cnt\r\n            }else{\r\n              ki['high (30%<)'] = data[i].cnt\r\n            }\r\n          }else{\r\n            if ('N/A' in ki){\r\n              ki['N/A'] = ki['N/A']+data[i].cnt\r\n            }else{\r\n              ki['N/A'] = data[i].cnt\r\n            }\r\n          }\r\n        }\r\n        let d = []\r\n        for (let key in ki) {\r\n          d.push({\r\n            'name': key,\r\n            'cnt': ki[key]\r\n          })\r\n        }\r\n        data = d\r\n      }\r\n      else if(id==='chart_pie_BodyMassIndex') {\r\n        let bmi = {}\r\n        for (let i = 0; i < data.length; i++) {\r\n          let n = data[i].name\r\n          \r\n          let tmp =''\r\n          if(n<=18.5){\r\n            tmp='<18.5'\r\n          }else if (n>18.5 && n<25) {\r\n            tmp = '18.5-24.9'\r\n          }else if (n>=25 &&n<30) {\r\n            tmp='25.0-29.9'\r\n          }else if (n>=30) {\r\n            tmp='30.0≤'\r\n          }\r\n          if(tmp in bmi) {\r\n            bmi[tmp] += data[i].cnt\r\n          } else {\r\n            bmi[tmp] = data[i].cnt\r\n          }\r\n        }\r\n        let d = []\r\n        for (let key in bmi) {\r\n          d.push({\r\n            'name': key,\r\n            'cnt': bmi[key]\r\n          })\r\n        }\r\n        data = d\r\n\r\n      }\r\n      var tmp = generateColor(color,\"#fefefe\",data.length);\r\n      for (let i = 0; i < data.length; i++) {\r\n        t.push(data[i].cnt)\r\n        if(data[i].name === null){\r\n          g_dat['labels'].push(\"N/A\")\r\n        }\r\n        else if(data[i].name === \"null\"){\r\n          g_dat['labels'].push(\"N/A\")\r\n        }\r\n        else if(data[i].name === \"\"){\r\n          g_dat['labels'].push(\"N/A\")\r\n        }\r\n        else if(data[i].name === \"N/A\"){\r\n          g_dat['labels'].push(\"N/A\")\r\n        }\r\n        else{\r\n          g_dat['labels'].push(data[i].name)\r\n        }\r\n        colors.push(h+linear+\")\")\r\n        linear = linear-0.080\r\n      }\r\n      g_dat['datasets'].push({\r\n        \"data\":t,\r\n        \"backgroundColor\":tmp,\r\n      })\r\n\r\n      drawGraph(g_dat, chart_type)\r\n    }\r\n  },[data,chart_type,id])\r\n  let w = width-20\r\n\r\n  return (\r\n    <div id={'parent_pie'+id} className=\"flex\">\r\n      <div className=\"m-auto\">\r\n        <canvas id={id}  width={w} height=\"400\"></canvas>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n// scales: {\r\n//   x: {\r\n//    grid: {\r\n//      display: true,\r\n//      drawBorder: true,\r\n//      // drawOnChartArea: true,\r\n//      drawTicks: true,\r\n//    }\r\n//   },\r\n// }\r\n","let clinicalColor = {\r\n  \"Basic/Diagnostic Information\":\"#56a21d\",\r\n  \"Patient Health Information\":\"#b71d26\",\r\n  \"Clinical Information\":\"#1d52b5\",\r\n  \"Follow-up Observation\":\"#db941b\"\r\n}\r\n\r\nlet clinical_info_title = {\r\n  \"Age Of Daignosis\":\"Age\",\r\n  \"Body Mass Index\":\"kg/m2\",\r\n  \"Duration of Breastfeeding\":\"month\",\r\n  \"First Menstrual Age\":'Year',\r\n  // 'Lactation period (1-24 M)':'Month',\r\n  'T Category':'Category',\r\n  'N Category':'Category',\r\n  'Time until relapse is confirmed':'Year'\r\n}\r\n\r\n\r\n// let filterBoxes = {\r\n//   \"Basic/Diagnostic Information\":{\r\n//     \"Sex\":[\r\n//       {'type':'checkbox','name':'sex','id':'sex_male','value':'Male'},\r\n//       {'type':'checkbox','name':'sex','id':'sex_female','value':'Female'}\r\n//     ],\r\n//     \"Age Of Daignosis\":[\r\n//       {'type':'number','id':'aod','value':''},\r\n\r\n//     ],\r\n//     \"Body Mass Index\":[\r\n//       {'type':'number','id':'bmi','value':''},\r\n\r\n//     ],\r\n\r\n//     \"Diagnosis Of Bilateral Breast Cancer\":[\r\n//       {'type':'checkbox','id':'dbbc_from','value':'Yes'},\r\n//       {'type':'checkbox','id':'dbbc_to','value':'No'}\r\n//     ],\r\n\r\n//   },\r\n//   \"Patient Health Information\":{\r\n//     \"Smoking Status\":[\r\n//       {'type':'checkbox','name':'smoking_status','id':'current_smoker','value':'Current Smoker'},\r\n//       {'type':'checkbox','name':'smoking_status','id':'former_smoker','value':'Former Smoker'},\r\n//       {'type':'checkbox','name':'smoking_status','id':'non_smoker','value':'Nonsmoker'},\r\n//     ],\r\n//     \"Alcohol Consumption\":[\r\n//       {'type':'checkbox','name':'alcohol_consuption','id':'ac_yes','value':'Yes'},\r\n//       {'type':'checkbox','name':'alcohol_consuption','id':'ac_no','value':'No'},\r\n//     ],\r\n//     \"Family History of Breast Cancer\":[\r\n//       {'type':'checkbox','name':'fhbc','id':'fhbc_yes','value':'Yes'},\r\n//       {'type':'checkbox','name':'fhbc','id':'fhbc_no','value':'No'},\r\n//     ],\r\n//     \"First Menstrual Age\":[\r\n//       {'type':'number','name':'fma','id':'fma','value':''},\r\n//     ],\r\n//     \"Menopause\":[\r\n//       {'type':'checkbox','name':'menopause','id':'menopause_yes','value':'Yes'},\r\n//       {'type':'checkbox','name':'menopause','id':'menopause_no','value':'No'},\r\n//     ],\r\n//     \"Childbirth\":[\r\n//       {'type':'checkbox','name':'childbirth','id':'childbirth_yes','value':'Yes'},\r\n//       {'type':'checkbox','name':'childbirth','id':'childbirth_no','value':'No'},\r\n//     ],\r\n//     \"Experience of Breastfeeding\":[\r\n//       {'type':'checkbox','name':'eob','id':'eob_yes','value':'Yes'},\r\n//       {'type':'checkbox','name':'eob','id':'eob_no','value':'No'},\r\n//     ],\r\n//     \"Duration of Breastfeeding\":[\r\n//       {'type':'number','name':'dob','id':'dob','value':''},\r\n//     ],\r\n//     \"Intake of Oral Contraceptive Pill\":[\r\n//       {'type':'checkbox','name':'iocp','id':'iocp_yes','value':'Yes'},\r\n//       {'type':'checkbox','name':'iocp','id':'iocp_no','value':'No'},\r\n//     ],\r\n//     \"Hormone Replacement Therapy\":[\r\n//       {'type':'checkbox','name':'hrt','id':'hrt_yes','value':'Yes'},\r\n//       {'type':'checkbox','name':'hrt','id':'hrt_no','value':'No'},\r\n//     ],\r\n//   },\r\n//   \"Clinical Information\":{\r\n//     \"T Stage\":[\r\n//       {'type':'checkbox','name':'tstage','id':'tstage_1','value':'Stage I'},\r\n//       {'type':'checkbox','name':'tstage','id':'tstage_2','value':'Stage II'},\r\n//       {'type':'checkbox','name':'tstage','id':'tstage_3','value':'Stage III'},\r\n//       {'type':'checkbox','name':'tstage','id':'tstage_4','value':'Stage IV'},\r\n//     ],\r\n//     \"N Stage\":[\r\n//       {'type':'checkbox','name':'nstage','id':'nstage_na','value':'Not evaluated'},\r\n//       {'type':'checkbox','name':'nstage','id':'nstage_o','value':'Stage O'},\r\n//       {'type':'checkbox','name':'nstage','id':'nstage_i','value':'Stage I'},\r\n//       {'type':'checkbox','name':'nstage','id':'nstage_ii','value':'Stage II'},\r\n//       {'type':'checkbox','name':'nstage','id':'nstage_iii','value':'Stage III'},\r\n//     ],\r\n//     \"ER Test Results\":[\r\n//       {'type':'checkbox','name':'etr','id':'etr_yes','value':'Positive'},\r\n//       {'type':'checkbox','name':'etr','id':'etr_no','value':'Negative'},\r\n//       {'type':'checkbox','name':'etr','id':'etr_na','value':'Not evaluated'},\r\n\r\n//     ],\r\n//     \"PR Test Results\":[\r\n//       {'type':'checkbox','name':'ptr','id':'ptr_yes','value':'Positive'},\r\n//       {'type':'checkbox','name':'ptr','id':'ptr_no','value':'Negative'},\r\n//       {'type':'checkbox','name':'ptr','id':'ptr_na','value':'Not evaluated'},\r\n//     ],\r\n//     \"HER2 Score\":[\r\n//       {'type':'checkbox','name':'herscore','id':'herscore_o','value':\"O\"},\r\n//       {'type':'checkbox','name':'herscore','id':'herscore_o1','value':'O~1+'},\r\n//       {'type':'checkbox','name':'herscore','id':'herscore_1','value':'1+'},\r\n//       {'type':'checkbox','name':'herscore','id':'herscore_2','value':'2'},\r\n//       {'type':'checkbox','name':'herscore','id':'herscore_2+','value':'2+'},\r\n//       {'type':'checkbox','name':'herscore','id':'herscore_3+','value':'3+'},\r\n//     ],\r\n//     \"Ki-67 Index\":[\r\n//       {'type':'number','name':'ki67','id':'ki67','value':''},\r\n//     ]\r\n//   },\r\n//   \"Follow-up Observation\":{\r\n//     \"Cancer Recurrence\":[\r\n//       {'type':'checkbox','name':'cr','id':'cr_yes','value':'Yes'},\r\n//       {'type':'checkbox','name':'cr','id':'cr_no','value':'No'},\r\n//     ],\r\n//     \"Time until relapse is confirmed\":[\r\n//       {'type':'number','name':'turc','id':'turc','value':''},\r\n//     ]\r\n//   },\r\n// }\r\nlet filterBoxes = {\r\n  \"Basic/Diagnostic Information\":{\r\n    \"Sex\":[\r\n      {'type':'checkbox','name':'sex','id':'sex_male','value':'Male'},\r\n      {'type':'checkbox','name':'sex','id':'sex_female','value':'Female'}\r\n    ],\r\n    \"Age Of Daignosis\":[\r\n      {'type':'number','id':'aod','value':'', 'min':20,'max':40},\r\n      \r\n\r\n    ],\r\n    \"Body Mass Index\":[\r\n      {'type':'number','id':'bmi','value':'','min':15.82,'max':36.33},\r\n    ],\r\n    \"Diagnosis Of Bilateral Breast Cancer\":[\r\n      {'type':'checkbox','name':'dbbc','id':'dbbc_from','value':'Yes'},\r\n      {'type':'checkbox','name':'dbbc','id':'dbbc_to','value':'No'}\r\n    ],\r\n\r\n  },\r\n  \"Patient Health Information\":{\r\n    \"Smoking Status\":[\r\n      {'type':'checkbox','name':'smoking_status','id':'current_smoker','value':'Current Smoker'},\r\n      {'type':'checkbox','name':'smoking_status','id':'former_smoker','value':'Former Smoker'},\r\n      {'type':'checkbox','name':'smoking_status','id':'non_smoker','value':'Nonsmoker'},\r\n    ],\r\n    \"Alcohol Consumption\":[\r\n      {'type':'checkbox','name':'alcohol_consuption','id':'ac_yes','value':'Yes'},\r\n      {'type':'checkbox','name':'alcohol_consuption','id':'ac_no','value':'No'},\r\n    ],\r\n    \"Family History of Breast Cancer\":[\r\n      {'type':'checkbox','name':'fhbc','id':'fhbc_yes','value':'Yes'},\r\n      {'type':'checkbox','name':'fhbc','id':'fhbc_no','value':'No'},\r\n    ],\r\n    \"First Menstrual Age\":[\r\n      {'type':'number','name':'fma','id':'fma','value':'','min':10,'max':17},\r\n    ],\r\n    \"Menopause\":[\r\n      {'type':'checkbox','name':'menopause','id':'menopause_yes','value':'Yes'},\r\n      {'type':'checkbox','name':'menopause','id':'menopause_no','value':'No'},\r\n    ],\r\n    \"Childbirth\":[\r\n      {'type':'checkbox','name':'childbirth','id':'childbirth_yes','value':'Yes'},\r\n      {'type':'checkbox','name':'childbirth','id':'childbirth_no','value':'No'},\r\n    ],\r\n    \"Experience of Breastfeeding\":[\r\n      {'type':'checkbox','name':'eob','id':'eob_yes','value':'Yes'},\r\n      {'type':'checkbox','name':'eob','id':'eob_no','value':'No'},\r\n    ],\r\n    \"Duration of Breastfeeding\":[\r\n      {'type':'number','name':'dob','id':'dob','value':'','min':1,'max':24},\r\n    ],\r\n    \"Intake of Oral Contraceptive Pill\":[\r\n      {'type':'checkbox','name':'iocp','id':'iocp_yes','value':'Yes'},\r\n      {'type':'checkbox','name':'iocp','id':'iocp_no','value':'No'},\r\n    ],\r\n    \"Hormone Replacement Therapy\":[\r\n      {'type':'checkbox','name':'hrt','id':'hrt_yes','value':'Yes'},\r\n      {'type':'checkbox','name':'hrt','id':'hrt_no','value':'No'},\r\n    ],\r\n  },\r\n  \"Clinical Information\":{\r\n    \"T Stage\":[\r\n      {'type':'checkbox','name':'tstage','id':'tstage_is','value':'Tis'},\r\n      {'type':'checkbox','name':'tstage','id':'tstage_1','value':'T1(1, 1a, 1b, 1c, 1mi)'},\r\n      {'type':'checkbox','name':'tstage','id':'tstage_2','value':'T2(2)'},\r\n      {'type':'checkbox','name':'tstage','id':'tstage_3','value':'T3(3)'},\r\n      {'type':'checkbox','name':'tstage','id':'tstage_4','value':'T4(4b, 4d)'},\r\n    ],\r\n    \"N Stage\":[\r\n      {'type':'checkbox','name':'nstage','id':'nstage_nx','value':'Nx'},\r\n      {'type':'checkbox','name':'nstage','id':'nstage_n0','value':'N0'},\r\n      {'type':'checkbox','name':'nstage','id':'nstage_n1','value':'N1(1mi, 1a, 1b)'},\r\n      {'type':'checkbox','name':'nstage','id':'nstage_n2','value':' N2(2, 2a)'},\r\n      {'type':'checkbox','name':'nstage','id':'nstage_n3','value':'N3(3, 3a)'},\r\n    ],\r\n    \"ER Test Results\":[\r\n      {'type':'checkbox','name':'etr','id':'etr_yes','value':'Positive'},\r\n      {'type':'checkbox','name':'etr','id':'etr_no','value':'Negative'},\r\n      {'type':'checkbox','name':'etr','id':'etr_na','value':'Not evaluated'},\r\n\r\n    ],\r\n    \"PR Test Results\":[\r\n      {'type':'checkbox','name':'ptr','id':'ptr_yes','value':'Positive'},\r\n      {'type':'checkbox','name':'ptr','id':'ptr_no','value':'Negative'},\r\n      {'type':'checkbox','name':'ptr','id':'ptr_na','value':'Not evaluated'},\r\n    ],\r\n    \"HER2 Score\":[\r\n      {'type':'checkbox','name':'herscore','id':'herscore_o','value':\"O\"},\r\n      {'type':'checkbox','name':'herscore','id':'herscore_o1','value':'O~1+'},\r\n      {'type':'checkbox','name':'herscore','id':'herscore_1','value':'1+'},\r\n      {'type':'checkbox','name':'herscore','id':'herscore_2','value':'2'},\r\n      {'type':'checkbox','name':'herscore','id':'herscore_2+','value':'2+'},\r\n      {'type':'checkbox','name':'herscore','id':'herscore_3+','value':'3+'},\r\n    ],\r\n    \"Ki-67 Index\":[\r\n      {'type':'number','name':'ki67','id':'ki67','value':'','min':1,'max':95},\r\n    ]\r\n  },\r\n  \"Follow-up Observation\":{\r\n    \"Cancer Recurrence\":[\r\n      {'type':'checkbox','name':'cr','id':'cr_yes','value':'Yes'},\r\n      {'type':'checkbox','name':'cr','id':'cr_no','value':'No'},\r\n    ],\r\n    \"Time until relapse is confirmed\":[\r\n      {'type':'number','name':'turc','id':'turc','value':'','min':1,'max':16},\r\n    ]\r\n  },\r\n}\r\n\r\nlet inputJson = {\r\n  \"clinicalColor\":clinicalColor,\r\n  \"filterBoxes\":filterBoxes,\r\n  \"clinical_info_title\":clinical_info_title\r\n}\r\n\r\nexport default inputJson\r\n","import React,{useState,useEffect,useRef,useLayoutEffect,updateState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  ChevronDownIcon,\r\n  ChevronUpIcon,\r\n  AdjustmentsIcon,\r\n  UserCircleIcon,\r\n  BeakerIcon,\r\n  SearchIcon,\r\n  DocumentAddIcon\r\n} from '@heroicons/react/outline'\r\nimport Barchart from '../Common/Barchart'\r\nimport Piechart from '../Common/Piechart'\r\nimport { getDashboardDsummaryData } from '../../actions/api_actions'\r\n// import Loader from \"react-loader-spinner\";\r\nimport LoaderCmp from '../Common/Loader';\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\nimport inputJson from './data'\r\n\r\nexport default function ClinicalInformation() {\r\n  const summaryJson = useSelector((data) => data.homeReducer.dataSummary);\r\n  const [leftSide, setLeftSide] = useState({\"charts\":[],\"leftSide\":[],\"activeCharts\":[]});\r\n  const [activeChartsList, setActiveChartsList] = useState([\"Sex\",\"Age Of Daignosis\",\"Body Mass Index\",\"Diagnosis Of Bilateral Breast Cancer\"]);\r\n  const [selected, setSelected] = useState('Basic/Diagnostic Information');\r\n  \r\n  const dispatch = useDispatch()\r\n  const [firstLoad, setFirstLoad] = useState(true)\r\n  const [loader, setLoader] = useState(true)\r\n  const [smallScreen,setSmallScreen] = useState(false)\r\n\r\n\r\n  // const forceUpdate = React.useCallback(() => updateState({}), []);\r\n  const change_visual = (e) =>{\r\n\r\n    let id = e.target.dataset['id']\r\n\r\n    e.target.checked = true\r\n    let c_type = e.target.value\r\n    let current_class_name = \"parent_chart_\"+c_type+\"_\"+id\r\n    let toggle_name =''\r\n    if(c_type === \"bar\"){\r\n      toggle_name ='pie'\r\n    }else if(c_type === \"pie\"){\r\n      toggle_name ='bar'\r\n    }\r\n    // document.getElementById(id+\"_\"toggle_name).remove\r\n    let previous_class_name = \"parent_chart_\"+toggle_name+\"_\"+id\r\n\r\n    document.getElementById(current_class_name).classList.remove(\"hidden\")\r\n    document.getElementById(previous_class_name).classList.add(\"hidden\")\r\n    // e.stopPropagation()\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(firstLoad===true && summaryJson){\r\n      let tmp = activeChartsList\r\n      for (var i = 0; i < tmp.length; i++) {\r\n        loadChart(tmp[i],selected)\r\n      }\r\n      setFirstLoad(false)\r\n    }\r\n  },[firstLoad,summaryJson])\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if(!summaryJson){\r\n      setLoader(true)\r\n      dispatch(getDashboardDsummaryData())\r\n    }\r\n  }, [dispatch])\r\n\r\n\r\n\r\n  useEffect(()=>{\r\n    if(summaryJson){\r\n      leftSideHtml(summaryJson)\r\n      setTimeout(function() {\r\n          setLoader(false)\r\n      }, (1000));\r\n    }\r\n  },[summaryJson])\r\n\r\n  useEffect(()=>{\r\n    if(selected){\r\n      leftSideHtml(summaryJson)\r\n    }\r\n  },[selected])\r\n\r\n  let icon_type = {\r\n    \"Basic/Diagnostic Information\":<UserCircleIcon className=\"h-8 w-8 inline text-main-blue\"/>,\r\n    \"Patient Health Information\":<DocumentAddIcon className=\"h-8 w-8 inline text-main-blue\"/>,\r\n    \"Clinical Information\":<BeakerIcon className=\"h-8 w-8 inline text-main-blue\"/>,\r\n    \"Follow-up Observation\":<SearchIcon className=\"h-8 w-8 inline text-main-blue\"/>\r\n  }\r\n\r\n  let chart_names = {\r\n    'Age Of Daignosis':'Age of Diagnosis (20-40 Y)',\r\n    \"Body Mass Index\":'Body Mass Index (15.82-36.33 kg/㎡)',\r\n    'First Menstrual Age':'First Menstrual Age (10-17 Y)',\r\n    'Duration of Breastfeeding':'Duration of Breastfeeding (1-24 M)',\r\n    'Ki-67 Index':'Ki-67 Index(1-95 %)',\r\n    'Time until relapse is confirmed':'Time until relapse is confirmed (1-16 Y)'\r\n  }\r\n\r\n  let chart_inside_names = {\r\n    'Duration of Breastfeeding':'Duration of Breastfeeding (Targeting Experience of Breastfeeding Y respondents(58))',\r\n    'Time until relapse is confirmed':'Time until relapse is confirmed (Targeting Cancer Recurrence Y respondents(44))'\r\n  }\r\n\r\n\r\n  const leftSideHtml = (data)=>{\r\n    let ac = leftSide['activeCharts']\r\n\r\n    let tmp = []\r\n    if(data && selected){\r\n      Object.keys(data).forEach((item, k) => {\r\n        let t = []\r\n        Object.keys(data[item]).forEach((itm, i) => {\r\n          let check = false\r\n          let color = '#ccc'\r\n\r\n          if(ac.indexOf(itm)>-1){\r\n            check = true\r\n            color = inputJson['clinicalColor'][item]\r\n          }\r\n\r\n          let id = itm.split(\" \").join(\"\")\r\n\r\n          t.push(\r\n            <div className=\"p-3 relative z-40\" key={'div_mb_'+i}>\r\n              <label htmlFor=\"toogleA\" className=\"flex items-center cursor-pointer\">\r\n                <div className=\"ml-3 lg:text-3xl md:text-2xl sm:text-xl text-gray-700 w-9/12  tracking-wide\">\r\n                  {\r\n                    (itm in chart_names)?<FormattedMessage  id = {itm} defaultMessage={chart_names[itm]}/>:<FormattedMessage  id = {itm} defaultMessage={itm}/>\r\n                  }\r\n                </div>\r\n                <div className=\"relative\" id={'div_'+id}  onClick={e=>checkBoxFn(e,'md_'+i,itm)}>\r\n                  <input type=\"checkbox\" id={'md_'+i} checked={check} data-parent={item}  className=\"checkbox sr-only\"\r\n                  onChange={e=>checkBoxFn(e,'md_'+i,itm)}  />\r\n                  <div className=\"block bg-gray-600 w-14 h-6 rounded-full\" id={'md_'+i+'_toggle'} style={{backgroundColor:color}}></div>\r\n                  <div className=\"dot absolute left-1 top-1 bg-white w-6 h-4 rounded-full transition\" style={{backgroundColor:'#fff',opacity:1}}></div>\r\n                </div>\r\n              </label>\r\n            </div>\r\n          )\r\n        })\r\n\r\n        tmp.push(\r\n          <div key={item+'_'+k} className=\"tab w-full overflow-hidden border-t\" onClick={(e)=>switchButton(e,item,k)}>\r\n            <input className=\"absolute opacity-0\" id={\"tab-single-\"+k} type=\"radio\" name=\"tabs2\"/>\r\n            <label className=\"block p-5 leading-normal cursor-pointer\" htmlFor={\"tab-single-\"+k}>\r\n              {icon_type[item]}\r\n              <span className=\"no-underline  ml-5 text-2xl tracking-wide\"><FormattedMessage  id = {item} defaultMessage={item}/></span>\r\n            </label>\r\n              {selected===item ? <div className=\"tab-content overflow-hidden border-l-2 bg-gray-100  leading-normal relative\">\r\n                {t}\r\n              </div>:\"\"}\r\n          </div>\r\n        )\r\n      })\r\n\r\n      setLeftSide((prevState)=>({\r\n        ...prevState,\r\n        'leftSide':tmp\r\n      }))\r\n\r\n    }\r\n  }\r\n\r\n  const checkBoxFn = (event,id,chart) => {\r\n\r\n    let tmp = activeChartsList\r\n    var did = document.getElementById(id)\r\n    var checkbox_elm = document.getElementById(id).checked;\r\n    if(checkbox_elm){\r\n      document.getElementById(id).checked=false\r\n      document.getElementById(id+\"_toggle\").style.background='#ccc'\r\n      let indx = tmp.indexOf(chart)\r\n      if(indx>-1){\r\n        tmp.splice(indx,1)\r\n      }\r\n    }else{\r\n      document.getElementById(id).checked=true\r\n      document.getElementById(id+\"_toggle\").style.background=inputJson['clinicalColor'][did.getAttribute('data-parent')]\r\n      if(!tmp.includes(chart)){\r\n        tmp.push(chart)\r\n\r\n      }\r\n    }\r\n    setActiveChartsList(tmp)\r\n    loadChart(chart, did.getAttribute('data-parent'))\r\n\r\n  }\r\n\r\n  const loadChart = (chart, parent_name)=>{\r\n\r\n    let tmp = leftSide['charts']\r\n    let ac = leftSide['activeCharts']\r\n    let check = true\r\n\r\n    for (var i = 0; i < tmp.length; i++) {\r\n      if(tmp[i].key === \"chart_\"+chart) {\r\n        tmp.splice(i,1)\r\n        check = false\r\n        ac.splice(i,1)\r\n      }\r\n    }\r\n\r\n\r\n\r\n    if(check ){\r\n      Object.keys(summaryJson[parent_name]).forEach((item, k) => {\r\n        let id = item.split(\" \").join(\"\")\r\n        if(item===chart){\r\n          tmp.push(\r\n            <div key={'chart_'+item} data-chart=\"bar\" className='max-w bg-white rounded-2xl overflow-hidden shadow-lg px-4 py-3 mb-5 mx-3 card-border'>\r\n              <h2 className=\"lg:text-3xl md:text-2xl sm:text-2xl tracking-wide\">{(item in chart_inside_names)?<FormattedMessage  id = {item+\"_chart\"} defaultMessage={chart_inside_names[item]}/>:<FormattedMessage  id = {item} defaultMessage={item}/>}</h2>\r\n              <div className=\"mt-2 ml-5 p-3\">\r\n                  <label className=\"inline-flex items-center\">\r\n                    <input key={'radio_'+id+\"_bar\"} type=\"radio\" defaultChecked={true} className=\"form-radio\" id={id+\"_bar\"} data-id={id} name={\"cr_\"+id+\"_\"+k} value=\"bar\" onChange={change_visual} />\r\n                    <span className=\"ml-2 sm:text-xl\">Bar</span>\r\n                  </label>\r\n                  <label className=\"inline-flex items-center ml-6\">\r\n                    <input key={'radio_'+id+\"_pie\"} type=\"radio\" defaultChecked={false} className=\"form-radio\" id={id+\"_pie\"} data-id={id} name={\"cr_\"+id+\"_\"+k} value=\"pie\" onChange={change_visual} />\r\n                    <span className=\"ml-2 sm:text-xl\">Pie</span>\r\n                  </label>\r\n              </div>\r\n              <div id=\"chart-tab-contents\">\r\n                <div id={'parent_chart_bar_'+id} className=\"\">\r\n                  <Barchart  id={'chart_bar_'+id}\r\n                  data={summaryJson[parent_name][item]}\r\n                  width='300'\r\n                  color={inputJson['clinicalColor'][parent_name]}\r\n                  title={inputJson['clinical_info_title'][item]}\r\n                  />\r\n                </div>\r\n                <div id={'parent_chart_pie_'+id} className=\"hidden\">\r\n                  <Piechart id={'chart_pie_'+id}\r\n                  data={summaryJson[parent_name][item]}\r\n                  width='300'\r\n                  color={ inputJson['clinicalColor'][parent_name] }\r\n\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n\r\n          ac.push(item)\r\n        }\r\n      })\r\n    }\r\n\r\n\r\n    setLeftSide((prevState)=>({\r\n      ...prevState,\r\n      'charts':tmp,\r\n      'activeCharts':ac\r\n    }))\r\n  }\r\n\r\n  useEffect(()=>{\r\n    var objDiv = document.getElementById('charts_container')\r\n    if(objDiv){\r\n      objDiv.scrollTop = objDiv.scrollHeight;\r\n      window.scroll({\r\n        top: document.body.offsetHeight,\r\n        left: 0,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  },[leftSide])\r\n\r\n  const switchButton = (event,id,k) => {\r\n    let s = selected\r\n\r\n    var myRadios = document.getElementsByName('tabs2');\r\n    var setCheck;\r\n    var x = 0;\r\n\r\n    for(x = 0; x < myRadios.length; x++){\r\n      var child_id = myRadios[x].id\r\n      myRadios[x].onclick = function(e){\r\n        if(setCheck != this){\r\n          setCheck = this;\r\n        }else{\r\n\r\n          this.checked = false;\r\n          setCheck = null;\r\n        }\r\n      }\r\n    }\r\n    setSelected(id)\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n   <>\r\n      {loader?\r\n        <LoaderCmp />\r\n      :\r\n      <div className=\"relative\">\r\n        <div className=\"grid grid-cols-4 gap-6\">\r\n          <div className={`relative ${smallScreen?\"col-span-4 z-10\":\"\"}`}>\r\n          <div className={`sm:hidden xs:opacity-95 sm:opacity-95 lg:block xl:block bg-white border border-gray-200 ${smallScreen?\"\":\"xs:hidden\"}`}>\r\n              <h4 className=\"p-3 float-left\"><AdjustmentsIcon className=\"h-6 w-6 inline\"/> &nbsp;Filters</h4>\r\n              <button className=\"float-right lg:hidden md:hidden bg-blue-500 text-white active:bg-pink-600 font-bold uppercase text-xs px-4 py-2 my-4 mr-4 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\r\n              onClick={()=>setSmallScreen(false)}\r\n              type=\"button\">\r\n               close\r\n              </button>\r\n            <div className=\"shadow-box shadow-md w-full p-3 \" id='accordian_tabs' >\r\n              {\r\n                leftSide['leftSide']\r\n              }\r\n            </div>\r\n          </div>\r\n          </div>\r\n          <div className={`xl:col-start-2 lg:col-start-2 col-span-4 m-5 overflow-y-auto h-screen ${smallScreen?\"absolute\":\"\"}`} id='charts_container'>\r\n            <div className=\"pl-6 mb-5 lg:hidden md:hidden\">\r\n              <button className=\"bg-blue-500 text-white active:bg-pink-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\r\n              onClick={()=>setSmallScreen(true)}\r\n              type=\"button\">\r\n               <AdjustmentsIcon className=\"h-6 w-6 inline\"/>\r\n              </button>\r\n            </div>\r\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-3 sm:grid-cols-2 gap-3\" >\r\n              {\r\n                leftSide['charts']\r\n              }\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  UserCircleIcon,\r\n  BeakerIcon,\r\n  SearchIcon,\r\n  DocumentAddIcon,\r\n} from \"@heroicons/react/outline\";\r\nimport inputJson from \"../data\";\r\n// import filterBoxes from './data'\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\n\r\n\r\n\r\nexport default function Filter({ parentCallback, set_screen,project_id }) {\r\n  const [state, setState] = useState({ html: [] });\r\n  const [selectState, setSelectState] = useState({'filterCondition':'and'});\r\n  const [selected, setSelected] = useState(\"Basic/Diagnostic Information\");\r\n  const [filtersUi, setFiltersUi] = useState({});\r\n  const [filterHtml, setFilterHtml] = useState([]);\r\n  const userDefinedFilter = useSelector((data) => data.dataVisualizationReducer.userDefinedFilter);\r\n  // const [totalSamplesS,setTotalSamplesS] = useState(useSelector((data) => data.dataVisualizationReducer.samplesCount))\r\n  const[totalSamples, setTotalSamples] = useState(0)\r\n  const [filterJson,setFilterJson] = useState({})\r\n  const totalSamplesS = useSelector((data) => data.dataVisualizationReducer.samplesCount)\r\n  \r\n  // useEffect(()=>{\r\n  //   if(project_id!==undefined){\r\n  //     dispatch(samplesCount(\"POST\",{'project_id':project_id}))\r\n  //   }\r\n  // else{\r\n  //     dispatch(samplesCount(\"POST\",{}))\r\n  //   }\r\n  // },[])\r\n\r\n\r\n  useEffect(()=>{\r\n    if  (totalSamplesS && 'no_of_samples' in totalSamplesS){\r\n      setTotalSamples(totalSamplesS['no_of_samples'])\r\n    } \r\n  },[totalSamplesS])\r\n  \r\n  const totalCount = useSelector((state) => {\r\n    if ('Keys' in state.dataVisualizationReducer){\r\n      return Object.keys(state.dataVisualizationReducer.Keys).length || 0;\r\n    }else{\r\n      return 0\r\n    }\r\n  });\r\n  const [totalCountS] = useState(totalCount);\r\n  const [filterCondition, setFilterCondition] = useState(\"and\");\r\n\r\n\r\n  useEffect(()=>{\r\n    if(project_id!==undefined){\r\n      if(userDefinedFilter && Object.keys(userDefinedFilter).length > 0){\r\n        setSelected('Clinical Information')\r\n        setFilterJson(userDefinedFilter['filterJson'])\r\n\r\n      }}\r\n      else{\r\n        let filterBoxes = inputJson.filterBoxes;\r\n        setFilterJson(filterBoxes)\r\n      }\r\n  },[project_id,userDefinedFilter])\r\n  useEffect(() => {\r\n    if(project_id!==undefined){\r\n      if(userDefinedFilter && Object.keys(userDefinedFilter).length > 0){\r\n        leftSide(filterJson);\r\n        // drawTags(filterJson);\r\n      }\r\n    }else{\r\n      // let filterBoxes = inputJson.filterBoxes;\r\n      leftSide(filterJson);\r\n      // drawTags(filterJson)\r\n    }\r\n  }, [userDefinedFilter,filterJson]);\r\n\r\n  useEffect(() => {\r\n    if(project_id!==undefined){\r\n      if(userDefinedFilter && Object.keys(userDefinedFilter).length > 0){\r\n        leftSide(filterJson);\r\n        // drawTags(filterJson);\r\n      }\r\n    }else{\r\n      // let filterBoxes = inputJson.filterBoxes;\r\n      leftSide(filterJson);\r\n      // drawTags(filterJson)\r\n    }\r\n    // leftSide();\r\n  }, [selected, selectState,filterJson]);\r\n\r\n  // useEffect(() => {\r\n  //   if (Object.keys(filterState).length !== 0) {\r\n  //     setSelectState({ ...filterState });\r\n  //     switchButton();\r\n  //   }\r\n  // }, [filterState]);\r\n\r\n  useEffect(() => {\r\n    let html = [];\r\n\r\n    if (Object.keys(filtersUi).length > 0) {\r\n      Object.keys(filtersUi).forEach((e) => {\r\n        let tmp = [];\r\n        if (filtersUi[e].length > 0) {\r\n          filtersUi[e].forEach((sub) => {\r\n            tmp.push(\r\n              <span\r\n                key={`${sub.key}-${Math.random()}`}\r\n                className=\"inline-flex items-center justify-center p-3 px-5  mr-2 text-md font-bold leading-none text-white bg-gray-600 rounded-full mb-4\"\r\n              >\r\n                {sub.key}:&nbsp;{sub.value}\r\n              </span>\r\n            );\r\n          });\r\n        }\r\n        if (tmp.length > 0) {\r\n          html.push(\r\n            <div className=\"mb-5\" key={e + \"_filter\"}>\r\n              <h4 className=\"mb-5\">{e}</h4>\r\n              {tmp}\r\n            </div>\r\n          );\r\n        }\r\n      });\r\n    }\r\n    \r\n    setFilterHtml(html);\r\n  }, [filtersUi]);\r\n\r\n  // for rendering the filter // inputs and checkboxes all html store in state\r\n  const leftSide = (filterBoxes) => {\r\n    // let filterBoxes = inputJson.filterBoxes;\r\n\r\n    let html = [];\r\n    Object.keys(filterBoxes).forEach((item, k) => {\r\n      let t = [];\r\n      if (filterBoxes[item]) {\r\n        let childElements = filterBoxes[item];\r\n        Object.keys(childElements).forEach((childelm, c) => {\r\n          let childHtml = childElements[childelm];\r\n          let inputHtml = [];\r\n          for (var i = 0; i < childHtml.length; i++) {\r\n            let type = childHtml[i].type;\r\n            // eslint-disable-next-line default-case\r\n            switch (type) {\r\n              case \"checkbox\":\r\n                inputHtml.push(checkbox(childHtml[i]));\r\n                break;\r\n              case \"number\":\r\n                inputHtml.push(inputbox(childHtml[i]));\r\n                break;\r\n            }\r\n          }\r\n          let color = inputJson[\"clinicalColor\"][item];\r\n          let id = item.split(\" \").join(\"\");\r\n          t.push(\r\n            <div className=\"px-5 py-3 relative z-10\" key={\"div_mb_\" + c}>\r\n              <label\r\n                htmlFor=\"toogleA\"\r\n                className=\"flex items-center cursor-pointer\"\r\n              >\r\n                <div className=\"ml-3 text-gray-700 w-10/12 lg:text-2xl sm:text-xl md:text-xl tracking-wide\">\r\n                  {childelm in chart_names ? (\r\n                    <FormattedMessage\r\n                      id={childelm}\r\n                      defaultMessage={chart_names[childelm]}\r\n                    />\r\n                  ) : (\r\n                    <FormattedMessage id={childelm} defaultMessage={childelm} />\r\n                  )}\r\n                </div>\r\n                <div\r\n                  className=\"relative\"\r\n                  onClick={(e) => checkBoxFn(e, \"md_\" + id + \"_\" + c)}\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id={\"md_\" + id + \"_\" + c}\r\n                    checked=\"checked\"\r\n                    data-parent={item}\r\n                    className=\"checkbox sr-only \"\r\n                    onChange={(e) => checkBoxFn(e, \"md_\" + id + \"_\" + c)}\r\n                  />\r\n                  <div\r\n                    className=\"block bg-gray-600 w-14 h-6 rounded-full\"\r\n                    id={\"md_\" + id + \"_\" + c + \"_toggle\"}\r\n                    style={{ backgroundColor: color }}\r\n                  ></div>\r\n                  <div\r\n                    className=\"dot absolute left-1 top-1 bg-white w-6 h-4 rounded-full transition bg-white\"\r\n                    style={{ backgroundColor: \"#fff\" }}\r\n                  ></div>\r\n                </div>\r\n              </label>\r\n              <div className=\"py-5\" id={\"child_md_\" + id + \"_\" + c}>\r\n                {inputHtml}\r\n              </div>\r\n            </div>\r\n          );\r\n        });\r\n      }\r\n      html.push(\r\n        <div\r\n          key={item + \"_\" + k}\r\n          className=\"tab w-full overflow-hidden border-t\"\r\n          onClick={(e) => switchButton(e, item, k)}\r\n        >\r\n          <input\r\n            className=\"absolute opacity-0\"\r\n            id={\"tab-single-\" + k}\r\n            type=\"radio\"\r\n            name=\"tabs2\"\r\n          />\r\n          <label\r\n            className=\"block p-5 leading-normal cursor-pointer\"\r\n            htmlFor={\"tab-single-\" + k}\r\n          >\r\n            {icon_type[item]}\r\n            <span className=\"no-underline  ml-2 text-2xl tracking-wide\">\r\n              <FormattedMessage id={item} defaultMessage={item} />\r\n            </span>\r\n          </label>\r\n          {selected === item ? (\r\n            <div className=\"tab-content overflow-hidden border-l-2 bg-gray-100  leading-normal relative py-3\">\r\n              {t}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      );\r\n    });\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      html: html,\r\n    }));\r\n  };\r\n\r\n  let icon_type = {\r\n    \"Basic/Diagnostic Information\": (\r\n      <UserCircleIcon className=\"h-8 w-8 inline text-main-blue\" />\r\n    ),\r\n    \"Patient Health Information\": (\r\n      <DocumentAddIcon className=\"h-8 w-8 inline text-main-blue\" />\r\n    ),\r\n    \"Clinical Information\": (\r\n      <BeakerIcon className=\"h-8 w-8 inline text-main-blue\" />\r\n    ),\r\n    \"Follow-up Observation\": (\r\n      <SearchIcon className=\"h-8 w-8 inline text-main-blue\" />\r\n    ),\r\n  };\r\n\r\n  let chart_names = {\r\n    \"Age Of Daignosis\": \"Age of Diagnosis (20-40 Y)\",\r\n    \"Body Mass Index\": \"Body Mass Index (15.82-36.33 kg/㎡)\",\r\n    \"First Menstrual Age\": \"First Menstrual Age (10-17 Y)\",\r\n    \"Duration of Breastfeeding\": \"Duration of Breastfeeding (1-24 M)\",\r\n    \"Ki-67 Index\": \"Ki-67 Index(1-95 %)\",\r\n    \"Time until relapse is confirmed\":\r\n      \"Time until relapse is confirmed (1-16 Y)\",\r\n  };\r\n\r\n  let checkbox = (d) => {\r\n    let check = false;\r\n    if (d.id in selectState) {\r\n      check = true;\r\n    }\r\n    return (\r\n      <div key={d.id} className=\"px-10\">\r\n        <label className=\"inline-flex items-center\">\r\n          <input\r\n            type=\"checkbox\"\r\n            id={d.id}\r\n            name={d.name}\r\n            className=\"form-checkbox\"\r\n            value={d.value}\r\n            defaultChecked={check}\r\n            onChange={(e) => selectFn(e)}\r\n          />\r\n          <span className=\"ml-2 lg:text-2xl sm:text-xl md:text-xl\">\r\n            <FormattedMessage id={d.value} defaultMessage={d.value} />\r\n          </span>\r\n        </label>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  let inputbox = (d) => {\r\n    return (\r\n      <div\r\n        key={d.id}\r\n        className=\"grid grid-cols-5  rounded mx-10 border border-b-color\"\r\n      >\r\n        <div className=\"col-span-2\">\r\n          <input\r\n            type=\"number\"\r\n            id={\"from_\" + d.id}\r\n            className=\"h-full shadow appearance-none rounded w-full py-2 px-3 text-gray-700 leading-tight\"\r\n            onKeyDown={(e) =>[\"e\", \"E\", \"+\", \"-\"].includes(e.key) && e.preventDefault()}\r\n            value={selectState[\"from_\" + d.id]}\r\n            onChange={(e) => selectFn(e)}\r\n            placeholder={d.min}\r\n            min={d.min}\r\n            max={d.max}\r\n          />\r\n        </div>\r\n        <div className=\"col-span-1\">\r\n          <div className=\"box-border border-r border-l border-b-color bg-gray-100 h-full w-30  px-3 mb-6 text-center\">\r\n            <b>-</b>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-span-2\">\r\n          <input\r\n            type=\"number\"\r\n            id={\"to_\" + d.id}\r\n            className=\"h-full  shadow appearance-none w-full py-2 px-3 text-gray-700 leading-tight\"\r\n            onKeyDown={(e) =>[\"e\", \"E\", \"+\", \"-\"].includes(e.key) && e.preventDefault()}\r\n            value={selectState[\"to_\" + d.id]}\r\n            onChange={(e) => selectFn(e)}\r\n            placeholder={d.max}\r\n            min={d.min}\r\n            max={d.max}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n  const selectFn = (e) => {\r\n    let val = e.target.value;\r\n    let id = e.target.id;\r\n    let tmp = selectState;\r\n\r\n    // let ids = id.split('_')\r\n    // let m_id = ids[1]\r\n\r\n    var index = id.indexOf(\"_\")\r\n    var m_id = id.substr(index + 1);\r\n    if (e.target.type === \"number\") {\r\n      let from_0 = document.getElementById(`from_${m_id}`);\r\n      let from_ = from_0 ? +(from_0.value) : from_0.min;\r\n      let min_value = from_0 ? +(from_0.min) : 0\r\n      let to_0 = document.getElementById(`to_${m_id}`);\r\n      let to_ = to_0 ? +(to_0.value) : from_0.max ;\r\n      let max_value = from_0 ? +(from_0.max) : 0\r\n\r\n      let checked = true\r\n\r\n      if(from_ > max_value || from_ < min_value ||  from_ > to_ ){\r\n        delete tmp[`from_${m_id}`];\r\n        delete tmp[`to_${m_id}`];\r\n        setSelectState(tmp)\r\n        checked = false\r\n\r\n      }\r\n      else if(to_ >max_value || to_ < min_value || to_ < from_){\r\n        delete tmp[`from_${m_id}`];\r\n        delete tmp[`to_${m_id}`];\r\n        setSelectState(tmp)\r\n        checked = false\r\n      }\r\n      else{\r\n        tmp[`from_${m_id}`] = from_;\r\n        tmp[`to_${m_id}`] = to_;\r\n        setSelectState(tmp)\r\n      }\r\n\r\n      if (checked) {\r\n        from_0.classList.remove('border-2')\r\n        from_0.classList.remove('border-red-400')\r\n        to_0.classList.remove('border-2')\r\n        to_0.classList.remove('border-red-400')\r\n       \r\n      } \r\n      else {\r\n        from_0.classList.add('border-2')\r\n        from_0.classList.add('border-red-400')\r\n        to_0.classList.add('border-2')\r\n        to_0.classList.add('border-red-400')\r\n        delete tmp[`from_${m_id}`];\r\n        delete tmp[`to_${m_id}`];\r\n        setSelectState(tmp)\r\n      }\r\n    } else {\r\n      if (id in tmp) {\r\n        delete tmp[id];\r\n        document.getElementById(id).checked = false;\r\n      } else {\r\n        tmp[id] = val;\r\n        document.getElementById(id).checked = true;\r\n      }\r\n    }\r\n    setSelectState({ ...tmp });\r\n  };\r\n\r\n  const checkboxselectFn = (e) => {\r\n    let id = e.id;\r\n    let tmp = selectState;\r\n    if (e.type === \"number\") {\r\n      e.classList.remove('border-2')\r\n      e.classList.remove('border-red-400')\r\n      if (id in tmp) {\r\n        delete tmp[id];\r\n      }\r\n      e.value = \"\";\r\n    } else {\r\n      if (id in tmp) {\r\n        delete tmp[id];\r\n      }\r\n      e.checked = false;\r\n    }\r\n    // setSelectState({...tmp});\r\n  };\r\n\r\n  const checkBoxFn = (event, id) => {\r\n     let child_id = \"child_\" + id; \r\n     let child_did = document.getElementById(child_id);\r\n     const inputElements = child_did.querySelectorAll(\r\n       \"input, select, checkbox, textarea\"\r\n     );\r\n     for (let e in inputElements) {\r\n       if (inputElements[e].id) {\r\n         checkboxselectFn(inputElements[e]);\r\n         // selectFn(inputElements[e])\r\n       }\r\n     }\r\n    var did = document.getElementById(id);\r\n    // if(did.hasAttribute(\"id\")){\r\n    //   let name = did.getAttribute(\"id\")\r\n    //   let names = name.split(\"_\")\r\n    //   let key,value\r\n    //   if(names[1]){\r\n    //      key = did.getAttribute(\"data-parent\")\r\n    //   }\r\n    //   if(names[2]){\r\n    //      value = names[2];\r\n    //   }\r\n    //   let MainKey \r\n\r\n    //   let filterBoxes = inputJson.filterBoxes;\r\n\r\n    //   Object.keys(filterBoxes).forEach((item, k) => {\r\n    //     let t = [];\r\n    //     if (filterBoxes[item]) {\r\n    //       let childElements = filterBoxes[item];\r\n    //       // let itemr = item.split(\" \")\r\n    //       // let finalkey = itemr.join('')\r\n    //       Object.keys(childElements).forEach((childelm, c) => {\r\n    //         if(item === key &&  c.toString() === value){\r\n    //           MainKey = childelm\r\n    //         }\r\n    //       })\r\n    //     }\r\n    //   })\r\n\r\n    //   let temp =  {...filtersUi}\r\n    //   for(let i = 0; i < temp[key].length; i++){\r\n    //     if(temp[key][i]['key'].indexOf(MainKey)>-1){\r\n    //       temp[key].splice(i,1)\r\n    //     }\r\n    //   }  \r\n    //   setFiltersUi(temp)\r\n    // }\r\n\r\n    \r\n    var checkbox_elm = document.getElementById(id).checked;\r\n    if (checkbox_elm) {\r\n      document.getElementById(id).checked = false;\r\n      document.getElementById(id + \"_toggle\").style.background = \"#ccc\";\r\n      document.getElementById(\"child_\" + id).classList.add(\"hidden\");\r\n    } else {\r\n      document.getElementById(id).checked = true;\r\n      document.getElementById(id + \"_toggle\").style.background =\r\n        inputJson[\"clinicalColor\"][did.getAttribute(\"data-parent\")];\r\n      document.getElementById(\"child_\" + id).classList.remove(\"hidden\");\r\n    }\r\n  };\r\n\r\n  const switchButton = (event, id, k) => {\r\n    setSelected(id);\r\n    let myRadios = document.getElementsByName(\"tabs2\");\r\n    let setCheck;\r\n    let x = 0;\r\n    for (x = 0; x < myRadios.length; x++) {\r\n      // eslint-disable-next-line no-loop-func\r\n      myRadios[x].onclick = function () {\r\n        if (setCheck !== this) {\r\n          setCheck = this;\r\n        } else {\r\n          this.checked = false;\r\n          setCheck = null;\r\n        }\r\n      };\r\n    }\r\n  };\r\n\r\n  // const drawTags = (filterBoxes) => {\r\n  //   // let filterBoxes = inputJson.filterBoxes;\r\n  //   let tx = [\"aod\", \"bmi\", \"fma\", \"dob\", \"ki67\", \"turc\",];\r\n  //   if (Object.keys(selectState).length > 0) {\r\n  //     let filterSelectedHtml = {};\r\n  //     Object.keys(filterBoxes).forEach((header) => {\r\n  //       filterSelectedHtml = {\r\n  //         ...filterSelectedHtml,\r\n  //         [header]: [],\r\n  //       };\r\n  //       Object.keys(filterBoxes[header]).forEach((field) => {\r\n  //         filterBoxes[header][field].forEach((subField) => {\r\n  //           tx.push(subField.id)\r\n  //         })\r\n  //         filterBoxes[header][field].forEach((subField) => {\r\n  //           if (subField.id in selectState) {\r\n  //             filterSelectedHtml = {\r\n  //               ...filterSelectedHtml,\r\n  //               [header]: [\r\n  //                 ...filterSelectedHtml[header],\r\n  //                 { key: [field], value: selectState[subField.id] },\r\n  //               ],\r\n  //             };\r\n  //           } else if (\r\n  //             tx.indexOf(subField.id) > -1 &&\r\n  //             selectState[\"from_\" + subField.id] &&\r\n  //             selectState[\"to_\" + subField.id]\r\n  //           ) {\r\n  //             filterSelectedHtml = {\r\n  //               ...filterSelectedHtml,\r\n  //               [header]: [\r\n  //                 ...filterSelectedHtml[header],\r\n  //                 {\r\n  //                   key: [field],\r\n  //                   value:\r\n  //                     selectState[\"from_\" + subField.id] +\r\n  //                     \"-\" +\r\n  //                     selectState[\"to_\" + subField.id],\r\n  //                 },\r\n  //               ],\r\n  //             };\r\n  //           }\r\n  //         });\r\n  //       });\r\n  //     });\r\n  //     setFiltersUi(filterSelectedHtml);\r\n  //   }\r\n  // };\r\n\r\n  const sendFilter = () => {\r\n    parentCallback(selectState);\r\n    // drawTags(filterJson);\r\n  };\r\n\r\n  const reset = () => {\r\n    let toggle_check = [\r\n      \"Basic/Diagnostic Information\",\r\n      \"Patient Health Information\",\r\n      \"Clinical Information\",\r\n      \"Follow-up Observation\",\r\n    ];\r\n    let tmp = selectState;\r\n\r\n    let ckb = document.querySelectorAll(\"#all_checkboxes input[type=checkbox]\");\r\n    [...ckb].forEach((el) => {\r\n      let toggle_check_ = el.getAttribute(\"data-parent\");\r\n      if (!toggle_check.includes(toggle_check_)) {\r\n        delete tmp[el.id];\r\n        el.checked = false;\r\n      }\r\n    });\r\n\r\n    let input_boxes = document.querySelectorAll(\r\n      \"#all_checkboxes input[type=number]\"\r\n    );\r\n    [...input_boxes].forEach((il) => {\r\n      il.classList.remove('border-2')\r\n      il.classList.remove('border-red-400')\r\n      delete tmp[il.id];\r\n      il.value = \"\";\r\n    });\r\n    // setSelectState(tmp);\r\n    setSelectState({'filterCondition':'and'});\r\n    parentCallback(\"\");\r\n    if(document.getElementById('default-radio-1')){\r\n      document.getElementById('default-radio-1').checked = true\r\n    }\r\n    if(document.getElementById('default-radio-2')){\r\n      document.getElementById('default-radio-2').checked = false\r\n    }\r\n    setFilterHtml([])\r\n    let abcd = {...filtersUi}\r\n    abcd['Basic/Diagnostic Information'] = []\r\n    setFiltersUi(abcd)\r\n  };\r\n\r\n  const changeFilterCondition = (e)=>{\r\n    \r\n    let tmp = selectState\r\n    let val = e.target.value\r\n    setFilterCondition(val)\r\n    tmp['filterCondition'] = val\r\n    setSelectState(tmp)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"py-3 px-2 w-full col-span-2\">\r\n        <button\r\n          className=\"bg-white  lg:w-80 sm:w-52  lg:h-20 sm:h-16 mb-3 text-gray-500 ml-2 font-bold py-2 px-4 border border-gray-900 rounded\"\r\n          onClick={reset}\r\n        >\r\n          <FormattedMessage id='Reset' defaultMessage={' Reset '}/>\r\n          \r\n        </button>\r\n        &nbsp;&nbsp;&nbsp;&nbsp;\r\n        <button\r\n          className=\"bg-main-blue hover:bg-main-blue mb-3 lg:w-80 lg:h-20 sm:w-52 sm:h-16 text-white ml-2 font-bold py-2 px-4 border border-blue-700 rounded\"\r\n          onClick={sendFilter}\r\n        >\r\n          <FormattedMessage id='Search' defaultMessage={' Search '}/>\r\n        </button>\r\n        <button\r\n          className=\"float-right lg:hidden md:hidden bg-blue-500 text-white active:bg-pink-600 font-bold uppercase text-xs px-4 py-2 my-4 mr-4 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\r\n          onClick={() => set_screen(false)}\r\n          type=\"button\"\r\n        >\r\n          close\r\n        </button>\r\n      </div>\r\n      <div className=\"flex flex-row mb-4 ml-4\">\r\n          <label className=\"text-2xl font-bold\">\r\n            <FormattedMessage id='filterCondition' defaultMessage={' Sample filter condition'}/>:\r\n          </label>\r\n          <div className=\"flex items-center ml-4\">\r\n            {filterCondition === \"and\" ? (\r\n              <input\r\n                id=\"default-radio-1\"\r\n                type=\"radio\"\r\n                value=\"and\"\r\n                name=\"condition\"\r\n                checked\r\n                onChange={e=>changeFilterCondition(e)}\r\n                className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n              />\r\n            ) : (\r\n              <input\r\n                id=\"default-radio-1\"\r\n                type=\"radio\"\r\n                value=\"and\"\r\n                name=\"condition\"\r\n                onChange={e=>changeFilterCondition(e)}\r\n                className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n              />\r\n            )}\r\n\r\n            <label\r\n              htmlFor=\"default-radio-1\"\r\n              className=\"ml-2 text-gray-900 dark:text-gray-300\"\r\n            >\r\n              And\r\n            </label>\r\n          </div>\r\n          <div className=\"flex items-center ml-4\">\r\n            {filterCondition === \"or\" ? (\r\n              <input\r\n                id=\"default-radio-2\"\r\n                type=\"radio\"\r\n                value=\"or\"\r\n                name=\"condition\"\r\n                onChange={e=>changeFilterCondition(e)}\r\n                className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n              />\r\n            ) : (\r\n              <input\r\n                id=\"default-radio-2\"\r\n                type=\"radio\"\r\n                value=\"or\"\r\n                name=\"condition\"\r\n                onChange={e=>changeFilterCondition(e)}\r\n                className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n              />\r\n            )}\r\n            <label\r\n              htmlFor=\"default-radio-2\"\r\n              className=\"ml-2 text-gray-900 dark:text-gray-300\"\r\n            >\r\n              Or\r\n            </label>\r\n          </div>\r\n        \r\n      </div>\r\n      <div className=\"col-span-2\" id=\"all_checkboxes\">\r\n        {state[\"html\"]}\r\n      </div>\r\n      {/* <div className=\"col-span-2 p-1\">\r\n        {filterHtml.length && totalCount !== totalCountS ? (\r\n          <>\r\n            <div className=\"mb-5\">\r\n              <h6>Total Number of Samples : {totalSamples}</h6>\r\n            </div>\r\n            {filterHtml}\r\n            <div className=\"mt-5\">\r\n              <h6>Number of Filtered Samples: {totalCount}</h6>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\n","import React,{useState,useEffect,useRef,useCallback,usePrevious } from \"react\";\r\nimport {\r\n  ChevronDownIcon,\r\n  ChevronUpIcon,\r\n  AdjustmentsIcon\r\n} from '@heroicons/react/outline'\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getGenomicInformation } from '../../../actions/api_actions'\r\nimport chart_types from '../genomicCharyTypes';\r\nimport inputJson from '../data'\r\nimport Filter from './filter'\r\nimport VennCmp from '../../Common/Venn'\r\n// import Loader from \"react-loader-spinner\";\r\nimport LoaderCmp from '../../Common/Loader';\r\n\r\nexport default function AdvancedInfo() {\r\n  const dataSummary = useSelector(state => state)\r\n  const summaryJson = useSelector((data) => data.homeReducer.genomicData);\r\n  const [filterState,setFilterState] = useState({})\r\n  const [state, setState] = useState([]);\r\n  const [data, setData] = useState(\"\");\r\n  const [active, setActive] = useState(false);\r\n  const dispatch = useDispatch()\r\n  const prevCountRef = useRef();\r\n  const [loader, setLoader] = useState(true)\r\n  const [reset, setReset] = useState(\"\")\r\n  const [smallScreen, setSmallScreen] = useState(false)\r\n  // const [previousSelection,setPreviousSelection] = useState({});\r\n\r\n  useEffect(() => {\r\n    dispatch(getGenomicInformation(\"POST\",\"\"))\r\n  }, [dispatch])\r\n\r\n  let visual_type = {\r\n    \"Variant Classification\":\"Bar\",\r\n    \"Variant Type\":\"Bar\",\r\n    \"SNV Class\":\"Bar\",\r\n    \"Top 10 Mutated Genes\":\"stack_bar\",\r\n    \"Variant Per Sample\":\"stack_bar\",\r\n    \"Variant Classification Summary\":'box_plot',\r\n    \"Variant per Sample\":\"vertical_stack_bar\",\r\n    \"Methylation\":\"vertical_stack_bar\",\r\n    \"Proteome\":\"vertical_stack_bar\",\r\n    \"Phospho\":\"vertical_stack_bar\"\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(summaryJson){\r\n      let html = []\r\n      Object.keys(summaryJson).forEach((item, k) => {\r\n        let type = visual_type[item]\r\n        if(item === \"Venn\") {\r\n          return\r\n        }\r\n        let comp = ''\r\n        comp = chart_types(type, summaryJson[item], visual_type[item])\r\n        if (item !== \"Omics Sample Summary\"){\r\n          html.push(\r\n            <div key={'omics_'+k} className='max-w bg-white rounded overflow-hidden shadow-lg px-4 py-3 mb-5 mx-3 card-border'>\r\n              <div className=\"px-6 py-4\">\r\n                <div className=\"font-bold lg:text-2xl md:text-xl sm:text-xl mb-2\">{item}</div>\r\n              </div>\r\n              <div className=\"px-6 pt-4 pb-4\">\r\n                {comp}\r\n              </div>\r\n            </div>\r\n          )\r\n        }\r\n      })\r\n      setState(html)\r\n      setTimeout(function() {\r\n          setLoader(false)\r\n      }, (1000));\r\n    }\r\n  },[summaryJson])\r\n\r\n  const callback = useCallback((filters,selected) => {\r\n    setState([])\r\n\r\n    if(filters){\r\n      setLoader(true)\r\n      let data_ = {'filter':filters}\r\n      dispatch(getGenomicInformation(\"POST\", data_))\r\n    }else{\r\n      setLoader(true)\r\n      dispatch(getGenomicInformation(\"POST\", \"\"))\r\n    }\r\n  }, []);\r\n\r\n  const set_screen = useCallback((bool) => {\r\n    setSmallScreen(false)\r\n  }, []);\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"mx-auto rounded overflow-hidden \">\r\n        <div id=\"main_div\">\r\n          <div className={`grid grid-cols-4 gap-6`}>\r\n            <div className={`bg-white border lg:block xl:block sm:hidden border-gray-200 ${smallScreen?\"xs:col-span-4 z-10 opacity-95\":\"xs:hidden\"}`}>\r\n              <Filter parentCallback={callback} small_screen={set_screen}/>\r\n            </div>\r\n            <div className={`lg:col-start-2 md:col-start-2 lg:col-span-3 md:col-span-3 sm:col-span-4 xs:col-span-4 pt-4 overflow-auto ${smallScreen?\"absolute\":\"\"}`}>\r\n            {\r\n              loader?<LoaderCmp/>:\r\n              <div className=\"grid lg:grid-cols-3 sm:grid-cols-1 md:lg:grid-cols-2 gap-1\">\r\n                <div className=\"pl-6 mb-5 lg:hidden md:hidden\">\r\n                  <button className=\"bg-blue-500 text-white active:bg-pink-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\r\n                  onClick={()=>setSmallScreen(true)}\r\n                  type=\"button\">\r\n                   <AdjustmentsIcon className=\"h-6 w-6 inline\"/>\r\n                  </button>\r\n                </div>\r\n                {state}\r\n              </div>\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React,{useState,useEffect,useRef } from \"react\";\r\nimport {\r\n  ChevronDownIcon,\r\n  ChevronUpIcon,\r\n  AdjustmentsIcon\r\n} from '@heroicons/react/outline'\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport GenomicInfo from \"./GenomicInformation\";\r\nimport ClinicalInformation from \"./ClinicalInformation\";\r\nimport AdvancedInfo from './AdvanceAnalysis/'\r\nimport {\r\n  Link, useParams\r\n} from \"react-router-dom\";\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\nexport default function DataSummary() {\r\n  const parentRef = useRef(null);\r\n  const elementRef = useRef(null);\r\n  const [menuItems, setMenuItems] = useState([])\r\n  let { tab } = useParams();\r\n  const [chartName, setChartName] = useState(tab)\r\n  tab = tab?tab:\"Clinical_Information\";\r\n\r\n  const toggleTab = (event) => {\r\n    let tabsContainer = document.querySelector(\"#tabs\");\r\n    let tabTogglers = tabsContainer.querySelectorAll(\"a\");\r\n    tabTogglers.forEach(function (toggler) {\r\n      toggler.addEventListener(\"click\", function (e) {\r\n        let tabName = this.getAttribute(\"href\");\r\n        for (var i = 0; i < tabTogglers.length; i++) {\r\n          tabTogglers[i].parentElement.classList.remove(\"border-blue-400\", \"border-b\", \"-mb-px\", \"opacity-100\");\r\n        }\r\n        e.target.parentElement.classList.add(\"border-blue-400\", \"border-b-4\", \"-mb-px\", \"opacity-100\");\r\n      })\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    let tabsContainer = document.querySelector(\"#tabs\");\r\n    let tabTogglers = tabsContainer.querySelectorAll(\"li\");\r\n    tabTogglers.forEach(function (toggler) {\r\n      let href = toggler.children[0].href\r\n      href = href.split('/')\r\n      toggler.classList.remove(\"border-blue-400\", \"border-b\", \"-mb-px\", \"opacity-100\");\r\n      if (href.includes(tab)) {\r\n        toggler.classList.add(\"border-blue-400\", \"border-b-4\", \"-mb-px\", \"opacity-100\");\r\n      }\r\n    })\r\n  }, [tab])\r\n\r\n  const LoadChart = (type) =>{\r\n    switch (type) {\r\n      case \"Clinical_Information\":\r\n        return <ClinicalInformation/>\r\n      case \"Genomic_Information\":\r\n        return <GenomicInfo/>\r\n      case \"Advanced_Information\":\r\n        return <AdvancedInfo/>\r\n      default:\r\n        return \"\"\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let l = ['Clinical_Information', 'Genomic_Information', 'Advanced_Information']\r\n    let tmp = []\r\n    let name = {\r\n      \"Clinical_Information\":\"Clinical Information\",\r\n      \"Genomic_Information\":\"Genomic Information\",\r\n      \"Advanced_Information\":\"Advanced Information\"\r\n    }\r\n    l.forEach(element => {\r\n      let classes = 'px-4 py-2 font-semibold rounded-t opacity-50 '\r\n      if (tab === element) {\r\n        classes = classes + \" border-blue-400 border-b-4 -mb-px opacity-100\"\r\n      }\r\n      tmp.push(\r\n        <li key={element} className={classes}>\r\n          <Link className=\"capitalize\" to={`/summary/${element}/`}>\r\n            <FormattedMessage  id ={element} defaultMessage={name[element]}/>\r\n          </Link>\r\n        </li>\r\n      )\r\n    })\r\n    setMenuItems(tmp)\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <section className=\"relative  items-center  bg-cover bg-center bg-white border-t justify-center\">\r\n        <nav className=\" px-8 pt-2 shadow-md\">\r\n            <ul id=\"tabs\" className=\"inline-flex justify-center w-full px-1 pt-2 \" onClick={e => toggleTab(e)}>\r\n              {menuItems}\r\n            </ul>\r\n        </nav>\r\n      </section>\r\n      <section >\r\n      <div id=\"tab-contents\" className='block ' ref={elementRef}>\r\n          {\r\n            LoadChart(tab)\r\n          }\r\n      </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}